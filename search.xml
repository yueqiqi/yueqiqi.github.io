<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>9ä¸ªè¶…å®ç”¨ES6ç‰¹æ€§</title>
    <url>/2020/07/13/9%E4%B8%AA%E8%B6%85%E5%AE%9E%E7%94%A8ES6%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h3 id="å±•å¼€æ“ä½œç¬¦"><a href="#å±•å¼€æ“ä½œç¬¦" class="headerlink" title="å±•å¼€æ“ä½œç¬¦"></a>å±•å¼€æ“ä½œç¬¦</h3><p>é¡¾åæ€ä¹‰ï¼Œç”¨äºå¯¹è±¡æˆ–æ•°ç»„ä¹‹å‰çš„å±•å¼€æ“ä½œç¬¦ï¼ˆâ€¦ï¼‰ï¼Œå°†ä¸€ä¸ªç»“æ„å±•å¼€ä¸ºåˆ—è¡¨ã€‚<br>el:<br>æ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let firstHalf = [  one ,  two ];</span><br><span class="line">let secondHalf = [ three ,  four , ...firstHalf];</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å†™æ³•å¤Ÿä¼˜é›…ï¼Œå¤Ÿç®€æ´å§ï¼Ÿå¦‚æœä¸ç”¨å±•å¼€æ“ä½œç¬¦<br>æˆ‘ä»¬å¾—è¿™ä¹ˆå†™ï¼š</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let firstHalf = [  one ,  two ];</span><br><span class="line">let secondHalf = [ three ,  four ];</span><br><span class="line">for(var i=0, i &lt;firstHalf.length; i++ ) &#123;</span><br><span class="line">  secondHalf.push(firstHalf[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å±•å¼€æ“ä½œç¬¦ä¹Ÿé€‚ç”¨äºåˆå¹¶å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const hero = &#123;</span><br><span class="line">  name:  Xena - Warrior Princess ,</span><br><span class="line">  realName:  Lucy Lawless</span><br><span class="line">&#125;</span><br><span class="line">const heroWithSword = &#123;</span><br><span class="line"> ...hero,</span><br><span class="line"> weapon:  sword</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ç”¨å±•å¼€æ“ä½œç¬¦çš„è¯ï¼Œéœ€è¦éå†å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let keys = Object.keys(hero);</span><br><span class="line">let obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">for(var i=0; i&lt; keys.length; i++) &#123;</span><br><span class="line">   obj[keys[i]] = keys[props[i]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h3><p>å‰©ä½™å‚æ•°å°†å‰©ä½™çš„å‚æ•°æ”¶å…¥æ•°åˆ—ã€‚JavaScript çš„ç‰¹æ€§æ˜¯å‚æ•°æ•°ç›®å¾ˆçµæ´»ã€‚é€šå¸¸ä¼šæœ‰ä¸€ä¸ª arguments å˜é‡æ”¶é›†å‚æ•°ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function add(first, second, ...remaining) &#123;</span><br><span class="line">  return first + second;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¸€æ®µä»£ç ä»…ä»…å°† first å’Œ second åŠ èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨ add(1, 2) å’Œ add(1, 2, 3, 4) ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¿®æ­£ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function add(first, second, ...remaining) &#123;</span><br><span class="line">  return first + second + remaining.reduce((acc, curr) =&gt; acc + curr, 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚å‰æ‰€è¿°ï¼Œâ€¦remaining æ”¶é›†äº†å‰©ä½™çš„å‚æ•°ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†è¿™äº›å‚æ•°çš„å‘½åï¼Œæ¸…æ¥šåœ°è¡¨æ˜æˆ‘ä»¬æ‰“ç®—å¤„ç†å‰©ä½™çš„å‚æ•°ã€‚æˆ‘è®°å¾—è‡³è¿Ÿ ES5 å·²ç»æœ‰ arguments äº†ï¼Œä¸è¿‡å°‘æœ‰äººçŸ¥ã€‚</p>
<h3 id="å­—ç¬¦ä¸²æ’å€¼"><a href="#å­—ç¬¦ä¸²æ’å€¼" class="headerlink" title="å­—ç¬¦ä¸²æ’å€¼"></a>å­—ç¬¦ä¸²æ’å€¼</h3><p>è§è¿‡è¿™æ ·çš„è¯­å¥å—ï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Product &#123;</span><br><span class="line"> constructor(name, description, price) &#123;</span><br><span class="line">   this.name = name;</span><br><span class="line">   this.description = description;</span><br><span class="line">   this.price = price;</span><br><span class="line"> &#125;</span><br><span class="line">getDescription() &#123;</span><br><span class="line">   return &quot; Full description</span><br><span class="line">&quot; +</span><br><span class="line">   &quot; name: &quot; + this.name +</span><br><span class="line">   &quot; description: &quot; + this.description</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œæˆ‘æŒ‡çš„æ˜¯ getDescription() æ–¹æ³•ä¸­é‚£ä¸ªå¯è¯»æ€§ä¸ä½³çš„å¤šè¡Œé•¿è¯­å¥ã€‚å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­éƒ½å­˜åœ¨ç±»ä¼¼ç°è±¡ã€‚ä¸€äº›è¯­è¨€æä¾›äº†å­—ç¬¦ä¸²æ’å€¼ï¼Œå¹¸è¿çš„æ˜¯ï¼ŒJavaScript æ­£æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p>æˆ‘ä»¬æ”¹å†™ä¸€ä¸‹ getDescription() æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getDescription() &#123;</span><br><span class="line">   return `Full description</span><br><span class="line">:</span><br><span class="line">   name: $&#123;this.name&#125;</span><br><span class="line">   description $&#123;this.description&#125;</span><br><span class="line">   `;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€å¯¹ åŒ…èµ·æ¥çš„å­—ç¬¦ä¸²ä¸­å¯ä»¥ä½¿ç”¨ ${} æ’å€¼ã€‚ç°åœ¨çœ‹èµ·æ¥èˆ’æœå¤šäº†ã€‚</p>
<h3 id="ç®€å†™å±æ€§"><a href="#ç®€å†™å±æ€§" class="headerlink" title="ç®€å†™å±æ€§"></a>ç®€å†™å±æ€§</h3><p>åœ¨ ES5 ä¸­å¿…é¡»è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function createCoord(x, y) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    x: x,</span><br><span class="line">    y: y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ES6 ä»¥åå¯ä»¥ä½¿ç”¨ç®€å†™å±æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function createCoord(x, y) &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    x,</span><br><span class="line">    y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•å±æ€§"><a href="#æ–¹æ³•å±æ€§" class="headerlink" title="æ–¹æ³•å±æ€§"></a>æ–¹æ³•å±æ€§</h3><p>æ–¹æ³•å±æ€§æ˜¯åœ¨å¯¹è±¡ä¸­å®šä¹‰æŒ‡å‘æ–¹æ³•çš„å±æ€§ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢ä¸€æ®µ ES5 ä»£ç ä½œä¸ºä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const math = &#123;</span><br><span class="line">  add: function(a,b) &#123; return a + b; &#125;,</span><br><span class="line">  sub: function(a,b) &#123; return a - b; &#125;,</span><br><span class="line">  multiply: function(a,b) &#123; return a * b; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ES6 ä»¥ååªéœ€è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const math = &#123;</span><br><span class="line">  add(a,b) &#123; return a + b; &#125;,</span><br><span class="line">  sub(a,b) &#123; return a - b; &#125;,</span><br><span class="line">  multiply(a,b) &#123; return a * b; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h3><p>è§£æ„èµ‹å€¼æœ‰åˆ©äºå¼€å‘è€…æœ¬äººçš„å¿ƒç†å¥åº·ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function handle(req, res) &#123;</span><br><span class="line"> const name = req.body.name;</span><br><span class="line"> const description = req.body.description;</span><br><span class="line"> const url = req.url;</span><br><span class="line"></span><br><span class="line"> log( url endpoint , url);</span><br><span class="line"></span><br><span class="line"> // å¤§é‡ä»£ç é€»è¾‘</span><br><span class="line"> dbService.createPerson(name, description)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ç®¡ä»ä»€ä¹ˆè§’åº¦æ¥çœ‹ï¼Œä¸Šé¢çš„ä»£ç éƒ½ä¸å®Œç¾ï¼Œä½†å®ƒç¡®å®ä½“ç°äº†ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æƒ³è¦ä»å¯¹è±¡çš„ä¸åŒå±‚æ¬¡è·å–æ•°æ®ã€‚ä½ ä¹Ÿè®¸ä¼šé—®ï¼Œè¿™é‡Œæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¥½å§ï¼Œæˆ‘å¯ä»¥ä¸ç”¨å£°æ˜è¿™ä¹ˆå¤šå˜é‡ï¼Œçœä¸‹ä¸€äº›æ•²å‡»é”®ç›˜çš„æ¬¡æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function handle(req, res) &#123;</span><br><span class="line"> const &#123; body: &#123; name, description &#125;, url &#125; = req;</span><br><span class="line"></span><br><span class="line"> log( url endpoint , url);</span><br><span class="line"></span><br><span class="line"> // å¤§é‡ä»£ç é€»è¾‘</span><br><span class="line"> dbService.createPerson(name, description)</span><br></pre></td></tr></table></figure>

<p>çœ‹ï¼Œæˆ‘ä»¬ä¸Šé¢çš„ä»£ç å°†ä¸‰è¡Œå‹ç¼©æˆäº†ä¸€è¡Œã€‚</p>
<p>è§£æ„èµ‹å€¼å¹¶ä¸ä»…ä»…å±€é™äºå¯¹è±¡ã€‚å®ƒåŒæ ·é€‚ç”¨äºæ•°ç»„ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const array = [1,2,3,4,5,6];</span><br><span class="line">const a = array[0];</span><br><span class="line">const c = array[2];</span><br><span class="line">ä¸Šé¢çš„ä»£ç å¯ä»¥ç”¨æ›´ä¼˜é›…çš„æ–¹å¼æ”¹å†™ï¼š</span><br><span class="line"></span><br><span class="line">const array = [1,2,3,4,5,6];</span><br><span class="line">const [a, ,c, ...remaining] = arr;</span><br><span class="line"></span><br><span class="line">// remaining = [4,5,6]</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ¨¡å¼åŒ¹é…åˆ†è§£æ•°ç»„çš„å€¼ã€‚æˆ‘ä»¬ä½¿ç”¨ , , è·³è¿‡æŸäº›å€¼ã€‚ä¸Šé¢æåˆ°è¿‡çš„å‰©ä½™å‚æ•°è¿™é‡Œä¹Ÿèƒ½ç”¨ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡å‰©ä½™å‚æ•°æ•è·äº†å‰©ä½™çš„æ•°ç»„æˆå‘˜ã€‚</p>
<p>è§£æ„èµ‹å€¼è¿˜å¯ä»¥ç”¨äºå‡½æ•°å’Œå‚æ•°ã€‚å‡½æ•°æœ‰ä¸æ­¢ 2-3 ä¸ªå‚æ•°æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ”¶é›†æ‰€æœ‰å‚æ•°æ˜¯ JavaScript çš„äº‹å®æ ‡å‡†ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢ä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function doSomething(config) &#123;</span><br><span class="line">  if(config.a) &#123; ... &#125;</span><br><span class="line">  if(config.b) &#123; ... &#125;</span><br><span class="line">  if(config.c) &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰æ›´å¥½çš„å†™æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function doSomething(&#123; a, b, c &#125;) &#123;</span><br><span class="line">  if(a) &#123; ... &#125;</span><br><span class="line">  if(b) &#123; ... &#125;</span><br><span class="line">  if(c) &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h3><p>ES6 å¼•å…¥äº†è®¸å¤šæœ‰ç”¨çš„æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<p>find()ï¼ŒæŸ¥æ‰¾åˆ—è¡¨ä¸­çš„æˆå‘˜ï¼Œè¿”å› null è¡¨ç¤ºæ²¡æ‰¾åˆ°<br>findIndex()ï¼ŒæŸ¥æ‰¾åˆ—è¡¨æˆå‘˜çš„ç´¢å¼•<br>some()ï¼Œæ£€æŸ¥æŸä¸ªæ–­è¨€æ˜¯å¦è‡³å°‘åœ¨åˆ—è¡¨çš„ä¸€ä¸ªæˆå‘˜ä¸Šä¸ºçœŸ<br>includesï¼Œåˆ—è¡¨æ˜¯å¦åŒ…å«æŸé¡¹<br>ä¸‹é¢çš„ä»£ç æœ‰åŠ©äºä½ ç†è§£å®ƒä»¬çš„ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const array = [&#123; id: 1, checked: true &#125;, &#123; id: 2 &#125;];</span><br><span class="line">arr.find(item =&gt; item.id === 2) // &#123; id: 2 &#125;</span><br><span class="line">arr.findIndex(item =&gt; item.id === 2) // 1</span><br><span class="line">arr.some(item =&gt; item.checked) // true</span><br><span class="line"></span><br><span class="line">const numberArray = [1,2,3,4];</span><br><span class="line">numberArray.includes(2) // true</span><br><span class="line">Promises + Async/Await</span><br></pre></td></tr></table></figure>

<h3 id="å¼‚æ­¥æ–¹æ¡ˆ"><a href="#å¼‚æ­¥æ–¹æ¡ˆ" class="headerlink" title="å¼‚æ­¥æ–¹æ¡ˆ"></a>å¼‚æ­¥æ–¹æ¡ˆ</h3><p>å¦‚æœä½ åœ¨è¿™ä¸ªåœˆå­é‡Œå‘†äº†äº›å¹´å¤´ï¼Œä¹Ÿè®¸ä¼šè®°å¾—æ›¾ç»æœ‰ä¸€ä¸ªæ—¶æœŸæˆ‘ä»¬åªæœ‰å›è°ƒ</p>
<p>å°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function doSomething(cb) &#123;</span><br><span class="line">  setTimeout(() =&gt;  &#123;</span><br><span class="line">    cb( done )</span><br><span class="line">  &#125;, 3000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doSomething((arg) =&gt; &#123;</span><br><span class="line"> console.log( done here , arg);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨å›è°ƒæ˜¯å› ä¸ºæœ‰äº›æ“ä½œæ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦æ—¶é—´æ¥å®Œæˆã€‚åæ¥æˆ‘ä»¬æœ‰äº† promise åº“ï¼Œäººä»¬å¼€å§‹ä½¿ç”¨å®ƒã€‚ç„¶å JavaScript é€æ¸åŠ å…¥äº†å¯¹ promise çš„åŸç”Ÿæ”¯æŒã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function doSomething() &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt;  &#123;</span><br><span class="line">      resolve( done )</span><br><span class="line">    &#125;, 3000)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">doSomething().then(arg =&gt; &#123;</span><br><span class="line"> console.log( done here , arg);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ç”šè‡³å¯ä»¥è¿™æ ·è°ƒç”¨ï¼Œå°† promise ä¸²èµ·æ¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">getUser()</span><br><span class="line">  .then(getOrderByUser)</span><br><span class="line">  .then(getOrderItemsByOrder)</span><br><span class="line">  .then(orderItems =&gt; &#123;</span><br><span class="line">    // å¤„ç†æ’åºåçš„æˆå‘˜</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>åæ¥ç”Ÿæ´»æ›´åŠ ç¾å¥½ï¼Œæˆ‘ä»¬æœ‰äº† async/await</p>
<p>ä¸Šé¢ä¸€æ®µä»£ç å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">async function getItems() &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    const user = await getUser();</span><br><span class="line">    const order = await getOrderByUser(user);</span><br><span class="line">    const items = await getOrderItemsByOrder(order);</span><br><span class="line">    return items;</span><br><span class="line">  &#125; catch(err) &#123;</span><br><span class="line">    // åœ¨è¿™é‡Œå¤„ç†é”™è¯¯ï¼Œå»ºè®®è¿”å›æŸä¸ªå€¼æˆ–è€…é‡æ–°æŠ›å‡ºé”™è¯¯</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getItems().then(items =&gt; &#123;</span><br><span class="line">  // å¤„ç†æ’åºåçš„æˆå‘˜</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><p>å·®ä¸å¤šä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒæ¨¡å—è¿™ä¸€æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯å°†ä»£ç åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªè‡ªæˆ‘åŒ…å«çš„å•å…ƒï¼ˆæ¨¡å—ï¼‰ã€‚</p>
<p>è€ƒè™‘ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// math.js</span><br><span class="line"></span><br><span class="line">export function add(a,b) &#123; return a + b; &#125;</span><br><span class="line">export function sub(a,b) &#123; return a - b; &#125;</span><br><span class="line"></span><br><span class="line">export default mult(a,b) =&gt; a * b;</span><br><span class="line"></span><br><span class="line">// main.js</span><br><span class="line">import mult, &#123; add, sub &#125; from  ./math ;</span><br><span class="line"></span><br><span class="line">mult(2, 4) // 8</span><br><span class="line">add(1,1)   // 2</span><br><span class="line">sub(1,2)   // -1</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ä¸Šé¢ç”¨ export å…³é”®å­—æ³¨æ˜äº† add å’Œ sub è¿™ä¸¤ä¸ªç»“æ„å¯¹ä»»ä½•å¼•å…¥è¯¥æ¨¡å—çš„æ¨¡å—éƒ½å…¬å¼€å¯è§ã€‚export default å…³é”®å­—åˆ™æ³¨æ˜ä»…ä»… import æ¨¡å—æ—¶å¾—åˆ°çš„ç»“æ„ã€‚åœ¨ main.js ä¸­ï¼Œæˆ‘ä»¬å°†å¯¼å…¥çš„ default å‘½åä¸º multï¼ŒåŒæ—¶æŒ‡æ˜æˆ‘ä»¬å¼•å…¥ add() å’Œ sub() è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ç®­å¤´å‡½æ•°å’Œå­—å…¸ä½œç”¨åŸŸ thisã€‚</p>
]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ­å»ºgithub</title>
    <url>/2019/09/22/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAgithub/</url>
    <content><![CDATA[<p>#Git<br>ä»£ç æ‰˜ç®¡å·¥å…·:å°†ä»£ç ä»å½“å‰ç”µè„‘ä¼ åˆ°è¿œç¨‹ç«¯â€”&gt; ä¼ è¾“ã€åä½œã€ç‰ˆæœ¬æ§åˆ¶<br>git,svn<br>ä¼ è¾“ï¼š<br><a href="https://git-scm.com/downloads" target="_blank" rel="noopener">https://git-scm.com/downloads</a></p>
<a id="more"></a>

<h1 id="ç äº‘ã€github-ç½‘ç«™ï¼Œå¼€æºå¹³å°"><a href="#ç äº‘ã€github-ç½‘ç«™ï¼Œå¼€æºå¹³å°" class="headerlink" title="ç äº‘ã€github  : ç½‘ç«™ï¼Œå¼€æºå¹³å°"></a>ç äº‘ã€github  : ç½‘ç«™ï¼Œå¼€æºå¹³å°</h1><h1 id="github"><a href="#github" class="headerlink" title="github"></a>github</h1><h1 id="https-github-com"><a href="#https-github-com" class="headerlink" title="https://github.com/"></a><a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a></h1><h1 id="æ³¨å†Œé‚®ç®±ï¼š"><a href="#æ³¨å†Œé‚®ç®±ï¼š" class="headerlink" title="æ³¨å†Œé‚®ç®±ï¼š"></a>æ³¨å†Œé‚®ç®±ï¼š</h1><p>sina.com,<br>yahoo.com,<br>163.com,<br>126.com,<br>outlook.com,<br>hotmail.com<br>é‚®ç®±ç”¨æˆ·åï¼šå¯†ç ï¼š githubç”¨æˆ·åï¼Œå¯†ç ï¼š<br>chromeæ’ä»¶ï¼šadblock,google,history</p>
<p>å›¾å½¢éªŒè¯ç ï¼š<br>create account â€“&gt; åˆ›å»ºè´¦æˆ·</p>
<ol>
<li>$0;</li>
<li>somewhat experienced  å•é€‰</li>
<li>å¤šé€‰ï¼šdesign , development,research,program management</li>
<li>professional</li>
<li>html,css,js,python,node,angular,react<br>css3,canvas,echarts,ajax</li>
</ol>
<p>ç”µè„‘éœ€è¦å®‰è£…git.exe<br>â‘ æˆæƒæœ¬å°ç”µè„‘å¯ä»¥ä½¿ç”¨githubè´¦å·,ç”Ÿæˆå¯†é’¥<br>ssh-keygen -t rsa -C â€œ<a href="mailto:xxx@xxx.com" target="_blank" rel="noopener">xxx@xxx.com</a>â€œ  ä½ çš„é‚®ç®±<br>â‘¡æ•²ä¸‰æ¬¡å›è½¦<br>â‘¢ç”Ÿæˆä¸€ä¸²å›¾å½¢çš„ä¹±ç (c://user/.ssh/rsaæ–‡ä»¶2ä¸ª)<br>â‘£å°†rsa.pub ä½¿ç”¨editpulsæ‰“å¼€  ctrl + a , ctrl + c<br>â‘¤æ‰“å¼€github.com æ‰¾åˆ°ssh and gpg key<br>â€”&gt; new ssh key ,ctrl + v</p>
<p>é…ç½® å…¨å±€ç”¨æˆ·åå’Œé‚®ç®±<br>â‘ git config â€“global user.name â€œxxxxâ€<br>â‘¡git config â€“global user.email â€œ<a href="mailto:xxx@xxx.com" target="_blank" rel="noopener">xxx@xxx.com</a>â€œ<br>â‘¢ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a><br>yes<br>â€”&gt; hi,xxx ,youâ€™ve authentic successfullyâ€¦<br>æœ¬åœ°ä»“åº“ â€“  è¿œç¨‹ä»“åº“<br>æœ¬åœ°ä»“åº“ï¼š<br>åˆ›å»ºæ–‡ä»¶å¤¹  â€“&gt; è¿›å…¥æ–‡ä»¶å¤¹</p>
<p>â‘ åˆå§‹åŒ–æœ¬åœ°è™šæ‹Ÿä»“åº“å¹¶æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼š<br>git init       # â€“&gt;ç”Ÿæˆæœ¬åœ°   .git  æ–‡ä»¶å¤¹  â€“&gt; æœ¬åœ°ä»“åº“<br>echo â€œ132321â€&gt;&gt;2.txt    # è¾“å‡ºä¸€ä¸ªæ–‡ä»¶<br>git add 2.txt       # æ·»åŠ æ–‡ä»¶<br>git commit -m â€œç¬¬ä¸€æ¬¡æäº¤â€  #æäº¤æ³¨é‡ŠåŠæ–‡ä»¶åˆ°ç¼“å­˜åŒº<br>git remote add origin    <a href="mailto:xxx@github.comxxxx" target="_blank" rel="noopener">xxx@github.comxxxx</a>  #æ·»åŠ è¿œç¨‹åœ°å€<br>git push -u origin master  #æ¨é€åˆ°ä»“åº“</p>
<p>â‘¡ä»¥åæ‰€æœ‰çš„æ¨é€<br>git add 3.txt    / git add .<br>git commit -m â€œç¬¬äºŒæ¬¡æäº¤â€<br>git push</p>
]]></content>
      <tags>
        <tag>githubæ­å»º</tag>
      </tags>
  </entry>
  <entry>
    <title>vueç›¸å…³åŠŸèƒ½</title>
    <url>/2019/09/28/vue%E7%9B%B8%E5%85%B3%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="å¦‚ä½•æ­å»ºvueè„šæ‰‹æ¶"><a href="#å¦‚ä½•æ­å»ºvueè„šæ‰‹æ¶" class="headerlink" title="å¦‚ä½•æ­å»ºvueè„šæ‰‹æ¶"></a>å¦‚ä½•æ­å»ºvueè„šæ‰‹æ¶</h1><a id="more"></a>
<p>ä»€ä¹ˆæ˜¯è„šæ‰‹æ¶: å·²ç»å…·å¤‡æ ¸å¿ƒåŠŸèƒ½çš„åŠæˆå“é¡¹ç›®<br>ä¸ºä»€ä¹ˆè¦æ­å»ºè„šæ‰‹æ¶: æ ‡å‡†åŒ–é¡¹ç›®çš„å¼€å‘ï¼Œä¾¿äºåˆ†å·¥åä½œã€‚<br>ä½•æ—¶ä½¿ç”¨è„šæ‰‹æ¶: ä»Šååªè¦ä½¿ç”¨Vueæ¡†æ¶åšå¼€å‘ï¼Œéƒ½è¦å…ˆåˆ›å»ºVueæ¡†æ¶çš„è„šæ‰‹æ¶é¡¹ç›®ä»£ç ã€‚<br>å¦‚ä½•æ­å»ºè„šæ‰‹æ¶: 2æ­¥:<br>1)å…ˆå®‰è£…ä¸€ä¸ªèƒ½åˆ›å»ºè„šæ‰‹æ¶é¡¹ç›®çš„å‘½ä»¤è¡Œå·¥å…·:<br>    <strong>npm i -g @vue/cli</strong><br>2)ç”¨vueå‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®çš„è„šæ‰‹æ¶ä»£ç æ–‡ä»¶å¤¹<br>    <strong>vue create é¡¹ç›®æ–‡ä»¶å¤¹å</strong><br>    ç¬¬ä¸€æ­¥: Your connection to the default npm registry seems to be slow. Use <a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a> for faster installation? (Y/n) <strong>Y</strong></p>
<pre><code>ç¬¬äºŒæ­¥: ? Please pick a preset: (Use arrow keys)
        &gt; default (babel, eslint)
          &gt; Manually select features //é€‰ä¸‹è¾¹ä¸€ä¸ª

  ç¬¬ä¸‰æ­¥: ? Check the features needed for your project: (Press &lt;space&gt; to select, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection)
        (*) Babel  //å¿…é€‰: ç¿»è¯‘
            è„šæ‰‹æ¶ä»£ç ä¸­é‡‡ç”¨äº†æ¨¡å—åŒ–å¼€å‘ï¼š
            æŠ›å‡ºæ¨¡å—: module.exports={ ... } nodejsä¸­
                ES6: export default { ... }
            å¼•å…¥æ¨¡å—: var å˜é‡=require(&quot;è·¯å¾„&quot;) nodejs
                 ES6: import å˜é‡ from &quot;è·¯å¾„&quot;
            å› ä¸ºä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½è®¤è¯†ES6ï¼Œæ‰€ä»¥ï¼Œéœ€è¦Babelæœ€åå°†æ‰€æœ‰ES6çš„ä»£ç ç¿»è¯‘ä¸ºå¤šæ•°æµè§ˆå™¨éƒ½è®¤è¯†çš„ES5ä»£ç ã€‚
        ( ) TypeScript //å¾®è½¯å‡ºçš„ä¸¥æ ¼çš„scriptâ€”â€”ä¸é€‰
         ( ) Progressive Web App (PWA) Support
         (*) Router //å¿…é€‰
         (*) Vuex //Vueä¸­çš„çŠ¶æ€æœºåˆ¶ã€‚å½“å¤šä¸ªç»„ä»¶éœ€è¦å…±ç”¨ä¸€äº›æ•°æ®ï¼šæ¯”å¦‚å½“å‰ç™»å½•ç”¨çš„ç”¨æˆ·åã€‚è¿™ä¸ªå…¬å…±çš„æ•°æ®å°±è¦æ”¾åœ¨Vuexä¸­â€”â€”ä¸‹ä¸ªé˜¶æ®µè€å¸ˆå°†
         ( ) CSS Pre-processors
         () Linter / Formatter //åƒä¸‡ä¸è¦é€‰ï¼æ˜¯ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ã€‚å³ä½¿ä»£ç æ²¡é”™ï¼Œæ ¼å¼ä¸è§„èŒƒï¼Œä¹ŸæŠ¥é”™ï¼
         ( ) Unit Testing
         ( ) E2E Testing

 ç¬¬å››æ­¥: Use history mode for router? (Requires proper server setup for index fallback in production) (Y/n) **n**
            å› ä¸ºå¿…é¡»è¦æœåŠ¡ç«¯æ”¯æŒï¼Œæ‰€ä»¥æ‰ä¸é€‰ã€‚
            é»˜è®¤Vueçš„åœ°å€æ ä¸­éƒ½æ˜¯ç”¨#/è·¯å¾„æ¥è·³è½¬
            ä½†æ˜¯#å¯èƒ½å’Œä½ çš„é”šç‚¹åœ°å€å†²çªã€‚
            å¦‚æœå³æƒ³ç”¨vueï¼Œåˆæƒ³è¦é”šç‚¹åœ°å€ï¼Œåªèƒ½å¯ç”¨historyæ¨¡å¼ã€‚å¯ç”¨åï¼Œåœ°å€æ ä¸­å°±æ²¡æœ‰#äº†ã€‚è€Œæ˜¯ç›´æ¥ç”¨&quot;/è·¯å¾„&quot;ã€‚

ç¬¬äº”æ­¥: Where do you prefer placing config for Babel, PostCSS, ESLint, etc.? (Use arrow keys)
        &gt; In dedicated config files
        &gt;In package.json //é€‰è¿™ä¸ª å°†æ‰€æœ‰çš„é…ç½®éƒ½æ”¾åœ¨ä¸€ä¸ªpackage.jsonä¸­ã€‚

ç¬¬å…­æ­¥: Save this as a preset for future projects? (y/N) **N**  ä¸æŠŠè¿™æ¬¡çš„é¡¹ç›®é…ç½®ä¿å­˜ä¸ºä»Šåé¡¹ç›®çš„æ¨¡æ¿ã€‚
    è„šæ‰‹æ¶æ–‡ä»¶å¤¹åˆ›å»ºæˆåŠŸå: 
    Successfully created project xz_vue.
    ğŸ‘‰  Get started with the following commands:

     $ cd vue_demo //å…ˆè¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼ˆvue createåçš„é‚£ä¸ªæ–‡ä»¶å¤¹â€”â€”vue_demoï¼‰
     $ npm run serve //=è¿è¡ŒLive server+Babelçš„æ•ˆæœã€‚æ˜¯å…ˆå°†è„šæ‰‹æ¶ä¸­æµè§ˆå™¨ä¸æ‡‚çš„ä»£ç ï¼Œç¿»è¯‘ä¸ºæµè§ˆå™¨èƒ½æ‡‚çš„ä»£ç ã€‚ç„¶åï¼Œå†å°†ç¿»è¯‘åçš„é¡µé¢è¿è¡Œåœ¨ä¸€ä¸ªä¸´æ—¶çš„å¼€å‘æœåŠ¡å™¨ä¸­ã€‚    å¼ºè°ƒ: npm run serve å¿…é¡»åœ¨é¡¹ç›®æ–‡ä»¶å¤¹å†…è¿è¡Œ
    ä¿é™©èµ·è§æ˜¯åœ¨vs codeä¸­æ‰“å¼€vue_demoï¼Œç„¶ååœ¨package.jsonæ–‡ä»¶ä¸Šå³é”®å•å‡»åœ¨å‘½ä»¤è¡Œæ‰“å¼€ï¼Œç„¶åè¿è¡Œ:
    **npm run serve   æ²¡æœ‰rç»“å°¾**</code></pre><h2 id="VUEå°è£…axiosè¯·æ±‚æ–¹æ³•"><a href="#VUEå°è£…axiosè¯·æ±‚æ–¹æ³•" class="headerlink" title="VUEå°è£…axiosè¯·æ±‚æ–¹æ³•"></a>VUEå°è£…axiosè¯·æ±‚æ–¹æ³•</h2><!-- more -->
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//åˆ›å»ºä¸€ä¸ªhttp.js</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import axios from &apos;axios&apos; //å…¨å±€å®‰è£…axios: npm install axios --save </span><br><span class="line">import qs from &apos;qs&apos; //å…¨å±€å®‰è£…qs:npm install qs</span><br><span class="line">//1.è®¾ç½®è¯·æ±‚åŸºç¡€è·¯å¾„</span><br><span class="line">axios.defaults.timeout = 5000 // å“åº”æ—¶é—´</span><br><span class="line">axios.defaults.headers.post[&apos;Content-Type&apos;] = &apos;application/x-www-form-urlencoded;charset=UTF-8&apos; // é…ç½®postè¯·æ±‚å¤´</span><br><span class="line">axios.defaults.headers.get[&apos;Content-Type&apos;] = &apos;application/json;charset=UTF-8&apos; // é…ç½®getè¯·æ±‚å¤´</span><br><span class="line"></span><br><span class="line">axios.defaults.baseURL = &apos;http://XXX&apos; // é…ç½®è¯·æ±‚åå°æ¥å£åœ°å€</span><br><span class="line">/**</span><br><span class="line"> * getæ–¹æ³•ï¼Œå¯¹åº”getè¯·æ±‚</span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€]</span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°]</span><br><span class="line"> */</span><br><span class="line">export function get(url, params)&#123;</span><br><span class="line">    return new Promise((resolve, reject) =&gt;&#123;</span><br><span class="line">        axios.get(url, &#123;</span><br><span class="line">            params: params</span><br><span class="line">        &#125;).then(res =&gt; &#123;</span><br><span class="line">            resolve(res.data);</span><br><span class="line">        &#125;).catch(err =&gt;&#123;</span><br><span class="line">            reject(err.data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line"> * postæ–¹æ³•ï¼Œå¯¹åº”postè¯·æ±‚</span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€]</span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°]</span><br><span class="line"> */</span><br><span class="line">export function post(url, params) &#123;</span><br><span class="line">    return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">         axios.post(url, QS.stringify(params)) //1.qs.parse()å°†URLè§£ææˆå¯¹è±¡çš„å½¢å¼2.qs.stringify()å°†å¯¹è±¡ åºåˆ—åŒ–æˆURLçš„å½¢å¼ï¼Œä»¥&amp;è¿›è¡Œæ‹¼æ¥(postè¯·æ±‚å°±æ˜¯ç”¨è¿™ä¸ªæ–¹æ³•)</span><br><span class="line">        .then(res =&gt; &#123;</span><br><span class="line">            resolve(res.data);</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(err =&gt;&#123;</span><br><span class="line">            reject(err.data)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å°è£…å®Œæˆåœ¨main.jsä¸­æ³¨å†Œ</span><br><span class="line">import get from &apos;./http&apos; //è·¯å¾„</span><br><span class="line">Vue.prototype.$get = get; //å…¨å±€ä½¿ç”¨</span><br><span class="line">//åœ¨æŸæŸç»„ä»¶ä¸­ä½¿ç”¨</span><br><span class="line">this.$get(&apos;/url&apos;,&#123;</span><br><span class="line">	params</span><br><span class="line">&#125;).then(res =&gt; &#123;</span><br><span class="line">	console.log(&apos;è¯·æ±‚æˆåŠŸç»“æœ&apos;,res)</span><br><span class="line">&#125;).catch(err =&gt; &#123;</span><br><span class="line">	console.log(&apos;è¯·æ±‚é”™è¯¯åŸå› &apos;,err)</span><br><span class="line">&#125;)</span><br><span class="line">//postè¯·æ±‚ä½¿ç”¨åŒä¸Š</span><br><span class="line"></span><br><span class="line">//æˆ–è€…å†™æˆä¸‹é¢çš„æ–¹æ³•</span><br><span class="line">class HttpRequest &#123;</span><br><span class="line">	/**</span><br><span class="line">	 * getæ–¹æ³•ï¼Œå¯¹åº”getè¯·æ±‚</span><br><span class="line">	 */</span><br><span class="line">	static get(url, params, config) &#123;</span><br><span class="line">		return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">			axios.get(url, &#123;</span><br><span class="line">					params: params</span><br><span class="line">				&#125;, config)</span><br><span class="line">				.then(res =&gt; &#123;</span><br><span class="line">					resolve(res.data);</span><br><span class="line">				&#125;)</span><br><span class="line">				.catch(err =&gt; &#123;</span><br><span class="line">					reject(err.data)</span><br><span class="line">				&#125;)</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * postæ–¹æ³•ï¼Œå¯¹åº”postè¯·æ±‚</span><br><span class="line">	 */</span><br><span class="line">	static post(url, params, config) &#123;</span><br><span class="line">		return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">			axios.post(url, qs.stringify(params), config)</span><br><span class="line">				.then(res =&gt; &#123;</span><br><span class="line">					resolve(res.data);</span><br><span class="line">				&#125;)</span><br><span class="line">				.catch(err =&gt; &#123;</span><br><span class="line">					reject(err.data)</span><br><span class="line">				&#125;)</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">export default HttpRequest</span><br><span class="line"></span><br><span class="line">//åœ¨main.jsä¸­å…¨å±€æ³¨å†Œ</span><br><span class="line">import http from &apos;./url&apos; //æ–‡ä»¶è·¯å¾„</span><br><span class="line">Vue.prototype.$http = http; //æ³¨å†Œ</span><br><span class="line">this.$http.get(&apos;/url&apos;,&#123;</span><br><span class="line">	params</span><br><span class="line">&#125;).then(res =&gt; &#123;</span><br><span class="line">	console.log(&apos;è¯·æ±‚æˆåŠŸ&apos;,res)</span><br><span class="line">&#125;).catch(err =&gt; &#123;</span><br><span class="line">	console.log(&apos;è¯·æ±‚å¤±è´¥åŸå› &apos;,err)</span><br><span class="line">&#125;)</span><br><span class="line">//postè¯·æ±‚æŠŠgetæ”¹æˆpostå³å¯</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ ¹æ®ä¸€ä¸ªæ•°ç»„ å‰ç«¯å®ç°æ¨¡ç³Šæœç´¢</span><br><span class="line"> */</span><br><span class="line">/**</span><br><span class="line"> * æ¨¡ç³Šæœç´¢</span><br><span class="line"> * @param &#123;Object&#125; list--æœç´¢çš„æ•°ç»„</span><br><span class="line"> * @param &#123;Object&#125; keyWord--æœç´¢å…³é”®å­—</span><br><span class="line"> */</span><br><span class="line">fuzzySearch(list, keyWord) &#123;</span><br><span class="line">		var reg =  new RegExp(keyWord);</span><br><span class="line">		var arr = [];</span><br><span class="line">		console.log(&apos;å…³é”®å­—&apos;,reg,reg.test(list[0].name))</span><br><span class="line">		for (var i = 0; i &lt; list.length; i++) &#123;</span><br><span class="line">			if (reg.test(list[i].name)||reg.test(list[i].phone)||reg.test(list[i].carNUm)) &#123;//æ ¹æ®nameæˆ–è€…phoneæˆ–è€…carNUmè¿›è¡Œæœç´¢</span><br><span class="line">				arr.push(list[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		return arr;</span><br><span class="line">	&#125;,</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºä¸‹æ‹‰æ¡†</title>
    <url>/2019/09/25/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8B%E6%8B%89%E6%A1%86/</url>
    <content><![CDATA[<p><img src="/images/select.png" alt></p>
<a id="more"></a>
<p>#####<!-- wxml --></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- ä¸‹æ‹‰æ¡† --&gt;</span><br><span class="line">&lt;view class=&apos;select_box&apos;&gt;</span><br><span class="line">    &lt;view class=&apos;select&apos; catchtap=&apos;selectTap&apos;&gt;</span><br><span class="line">		&lt;input class=&quot;select_text&quot; disabled=&apos;&#123;&#123;isDisabled&#125;&#125;&apos; value=&quot;&#123;&#123;selectData[index]&#125;&#125;&quot;  /&gt;</span><br><span class="line">        &lt;!-- ä¸‹æ‹‰å›¾ç‰‡ --&gt;</span><br><span class="line">        &lt;image class=&apos;select_img &#123;&#123;selectShow&amp;&amp;&quot;select_img_rotate&quot;&#125;&#125;&apos; src=&apos;../../images/right.png&apos;  background-size=&quot;contain&quot;&gt;&lt;/image&gt; </span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">    &lt;!-- åˆ—è¡¨é¡¹å¸ƒå±€ --&gt;</span><br><span class="line">    &lt;view class=&apos;option_box&apos; style=&apos;height:&#123;&#123;selectShow?(selectData.length&gt;5?325:selectData.length*50):0&#125;&#125;rpx;&apos;&gt;</span><br><span class="line">    &lt;!-- é€‰æ‹©çš„åˆ—è¡¨é¡¹ --&gt;</span><br><span class="line">        &lt;text class=&apos;option&apos; wx:for=&apos;&#123;&#123;selectData&#125;&#125;&apos; wx:key=&apos;this&apos; data-index=&apos;&#123;&#123;index&#125;&#125;&apos; catchtap=&apos;optionTap&apos; &gt;&#123;&#123;item&#125;&#125;&lt;/text&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<p>disabled è¡¨ç¤ºæ˜¯å¦ç¦ç”¨æ”¹è¾“å…¥æ¡† ç”±äºæˆ‘è‡ªå·±ç»‘å®šäº†é€‰ä¸­â€è‡ªå®šä¹‰ç¼–è¾‘â€å°±å¯ç”¨è¯¥è¾“å…¥æ¡† inputä¸­valueç»‘å®šçš„å€¼æŒ‡çš„æ˜¯å…¶æ•°ç»„çš„ä¸‹æ ‡æ‰€å¯¹åº”çš„å€¼<br>åˆ—è¡¨é¡¹ä¸­çš„styleæ‰€ç»‘å®šçš„æ˜¯å…¶é€‰é¡¹æ¡†çš„é«˜ åé¢çš„*50å¯å˜<br>data-index è¡¨ç¤ºè‡ªå®šä¹‰å±æ€§</p>
<p>#####<!-- wxss --></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- ç›’å­æ¨¡å‹ --&gt;</span><br><span class="line">.select_box&#123;</span><br><span class="line">  width:100%;</span><br><span class="line">  height:70%;</span><br><span class="line">  border-radius: 14rpx;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- ç›’å­æ¨¡å‹çš„æ ·å¼ --&gt;</span><br><span class="line">.select_box .select&#123;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  border-radius: 8rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  padding: 0 10rpx;</span><br><span class="line">&#125;</span><br><span class="line">.select_box .select .select_text&#123;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">  color: #777777;</span><br><span class="line">  line-height: 28rpx;</span><br><span class="line">  flex: 1;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- æ˜¾ç¤ºæ—¶è®¾å®šåŠ¨ç”»æ•ˆæœ --&gt;</span><br><span class="line">.select_box .select .select_img&#123;</span><br><span class="line">  width: 30rpx;</span><br><span class="line">  height: 30rpx;</span><br><span class="line">  display: block;</span><br><span class="line">  transition:transform 0.3s;</span><br><span class="line">&#125;</span><br><span class="line">/* å›¾ç‰‡æ—‹è½¬ */</span><br><span class="line">.select_box .select .select_img_rotate&#123;</span><br><span class="line">  transform:rotate(90deg); </span><br><span class="line">&#125;</span><br><span class="line">/* è‡ªå®šä¹‰åˆ—è¡¨ */</span><br><span class="line">.select_box .option_box&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: calc(100% - 1px);</span><br><span class="line">  width: 100%;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  height: 0;</span><br><span class="line">  overflow-y: auto;</span><br><span class="line">  background: #fff;</span><br><span class="line">  transition: height 0.3s;</span><br><span class="line">  border-left:1px solid #efefef;</span><br><span class="line">  border-right:1px solid #efefef;</span><br><span class="line">&#125;</span><br><span class="line">/* è‡ªå®šä¹‰åˆ—è¡¨æ–‡å­— */</span><br><span class="line">.select_box .option_box .option&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  line-height: 30rpx; </span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">  padding: 10rpx;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####<!-- js --></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ä¸‹æ‹‰</span><br><span class="line">  // ç‚¹å‡»ä¸‹æ‹‰æ˜¾ç¤ºæ¡†</span><br><span class="line">  selectTap(e) &#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      selectShow: !this.data.selectShow</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  // ç‚¹å‡»ä¸‹æ‹‰åˆ—è¡¨</span><br><span class="line">  optionTap(e) &#123;</span><br><span class="line">    let Index = e.currentTarget.dataset.index;//è·å–ç‚¹å‡»çš„ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹çš„ä¸‹æ ‡</span><br><span class="line">    console.log(Index)</span><br><span class="line">    // console.log(e)</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      index: Index,</span><br><span class="line">      selectShow: !this.data.selectShow,</span><br><span class="line">    &#125;);</span><br><span class="line">    if(Index==4)&#123;</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        isDisabled:false</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;!-- å¯ä»¥è¾“å‡ºisDisabledçš„å€¼ --&gt;</span><br><span class="line">    console.log(this.data.isDisabled)</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    // è‡ªå®šä¹‰ç¼–è¾‘</span><br><span class="line">    isDisabled:true,</span><br><span class="line">    selectShow: false,//æ§åˆ¶ä¸‹æ‹‰åˆ—è¡¨çš„æ˜¾ç¤ºéšè—ï¼Œfalseéšè—ã€trueæ˜¾ç¤º</span><br><span class="line">    selectData: [&apos;è¯·é€‰æ‹©ç±»å‹&apos;, &apos;èº«ä»½ç±»å‹&apos;, &apos;èº«ä»½ç±»å‹&apos;,&quot;èº«ä»½ç±»å‹&quot;,&quot;è‡ªå®šä¹‰ç¼–è¾‘&quot;],//ä¸‹æ‹‰åˆ—è¡¨çš„æ•°æ®</span><br><span class="line">    index: 0,//é€‰æ‹©çš„ä¸‹æ‹‰åˆ—è¡¨ä¸‹æ ‡ é»˜è®¤æ˜¯ç¬¬ä¸€ä¸ªçš„å€¼</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>gitçš„å¸¸ç”¨æ“ä½œ</title>
    <url>/2020/06/23/git%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h2 id="gitçš„å¸¸ç”¨æ“ä½œæŒ‡ä»¤"><a href="#gitçš„å¸¸ç”¨æ“ä½œæŒ‡ä»¤" class="headerlink" title="gitçš„å¸¸ç”¨æ“ä½œæŒ‡ä»¤"></a>gitçš„å¸¸ç”¨æ“ä½œæŒ‡ä»¤</h2><a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git init //åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ï¼Œgit init [project-name] æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span><br><span class="line">git clone https://github.com/XXX/MyCs.git NewMyCs //NewMyCsæ˜¯æ”¹å†™çš„æœ¬åœ°ä»“åº“å</span><br><span class="line">git add å¤šåŠŸèƒ½å‘½ä»¤ï¼šå¯ç”¨äºå¼€å§‹è·Ÿè¸ªæ–°æ–‡ä»¶ï¼Œæˆ–æŠŠå·²è·Ÿè¸ªçš„æ–‡ä»¶æ”¾åˆ°æš‚å­˜åŒºï¼Œè¿˜èƒ½ç”¨äºåˆå¹¶æ—¶æŠŠæœ‰å†²çªçš„æ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³çŠ¶æ€ï¼Œä¸”æ¯æ¬¡æ–‡ä»¶æœ‰æ”¹åŠ¨åï¼Œéƒ½éœ€è¦ç”¨å…¶å°†æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºï¼Œç„¶åç­‰å¾…commitã€‚</span><br><span class="line">git status //æŸ¥çœ‹å“ªäº›æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Œgit status -s å‘½ä»¤æˆ– git status --short ç´§å‡‘çš„æ ¼å¼è¾“å‡º(åªåˆ—å‡ºæ–‡ä»¶åˆ—è¡¨)</span><br><span class="line">git diff //å½“å‰åšçš„å“ªäº›æ›´æ–°è¿˜æ²¡æœ‰æš‚å­˜ï¼Œå³è¿˜æ²¡æœ‰æ‰§è¡Œgit addæ“ä½œ(è¯¦ç»†åˆ—å‡ºä»£ç )</span><br><span class="line">git diff --staged //æœ‰å“ªäº›æ›´æ–°å·²ç»æš‚å­˜èµ·æ¥å‡†å¤‡ä¸‹æ¬¡æäº¤(è¯¦ç»†åˆ—å‡ºä»£ç )</span><br><span class="line">git diff HEAD //æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span><br><span class="line">git commit -m &quot;Story speed&quot;</span><br><span class="line">git commit -a -m &apos;new benchmarks&apos; //-aä½œç”¨ï¼šç›´æ¥è·³è¿‡ä½¿ç”¨æš‚å­˜åŒºåŸŸçš„git addæ“ä½œæ­¥éª¤ï¼Œç®€å†™æ–¹å¼-am</span><br><span class="line">git commit -a --amend -m &quot;xxx&quot;//å¯å®ç°åœ¨æœªpushå‰ï¼Œä¿®æ”¹ä¸Šæ¬¡æœ¬åœ°commitçš„ä»£ç åŠæ³¨é‡Šè€Œä¸ä¼šäº§ç”Ÿæ–°çš„Commit</span><br><span class="line">git rm README.txt //ç§»é™¤æŸä¸ªæ–‡ä»¶ï¼ŒåŠ --cached READMEæ˜¯å°†å…¶ç§»é™¤gitè·Ÿè¸ªæˆ–ç”¨ï¼šgit reset HEAD &lt;file&gt;</span><br><span class="line">git clean -df //ä»å·¥ä½œç›®å½•ä¸­ç§»é™¤æ²¡æœ‰trackçš„æ–‡ä»¶</span><br><span class="line">git mv README.md newName.md //æ–‡ä»¶æ”¹å</span><br><span class="line">git log //åªå€’åºæ‰“å°æäº¤æ—¥å¿—ï¼Œä¸å±•ç¤ºæäº¤ä»£ç </span><br><span class="line">git log -p -2 //-p:ç”¨æ¥æ˜¾ç¤ºæ¯æ¬¡æäº¤çš„ä»£ç çš„å·®å¼‚, -2:ä»…æ˜¾ç¤ºæœ€è¿‘ä¸¤æ¬¡æäº¤</span><br><span class="line">git log --stat -2 //æŸ¥çœ‹åˆ°æ¯æ¬¡æäº¤çš„ç®€ç•¥çš„ç»Ÿè®¡ä¿¡æ¯</span><br><span class="line">git log -p -2 --since=2.day --author=&quot;XXX&quot; --grep=&quot;two&quot; //grepï¼šæ‰“å°æ—¥å¿—ä¿¡æ¯ä¸­åŒ…å« &quot;two&quot;çš„</span><br><span class="line">git log --since=&quot;2008-10-01&quot; --before=&quot;2008-11-01&quot;//æˆ–--after=&quot;2008-10-01&quot; --until=&quot;2008-11-01&quot;</span><br><span class="line">git log --pretty=oneline //è·å–æäº¤å†å²ï¼ˆåŒ…æ‹¬æäº¤ç¼–å·å’Œæ—¥å¿—ï¼‰ï¼Œç®€å†™git log --oneline</span><br><span class="line">git log --pretty=raw //ä¼šæ˜¾ç¤ºå‡ºå…³äºæ¯æ¬¡æäº¤çš„æ›´å¤šä¿¡æ¯ï¼Œç®€å†™git log --raw</span><br><span class="line">git log --skip=[skip] //æŒ‡å®šè·³è¿‡å‰å‡ æ¡æ—¥å¿—</span><br><span class="line">git log --follow &quot;filePath&quot; //æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²åŠæ–‡ä»¶æ”¹åï¼Œæˆ–ç”¨ git whatchanged &quot;filePath&quot;,æ³¨æ„filePathè¦åŠ å•ã€åŒå¼•å·</span><br><span class="line">git branch //åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch -r //åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -a //åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -v //æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯åŠå„åˆ†æ”¯æœ€åä¸€æ¬¡æäº¤å†…å®¹</span><br><span class="line">git branch -d [branchname] //åˆ é™¤æœ¬åœ°æŸä¸ªåˆ†æ”¯ï¼Œ-d:è¡¨ç¤ºéå¼ºåˆ¶åˆ é™¤ï¼Œ-D:è¡¨ç¤ºå¼ºåˆ¶åˆ é™¤ï¼Œæ¢æˆ-dræ˜¯åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line">git branch -u origin/[branchname] //ä¿®æ”¹æ­£åœ¨è·Ÿè¸ªçš„ä¸Šæ¸¸åˆ†æ”¯</span><br><span class="line">git branch [branch-name] //æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span><br><span class="line">git branch [branch-name] [tagname/commit/branchName/originBranch] //ä»XXXä¸­æ£€å‡ºä¸€ä¸ªæ–°åˆ†æ”¯</span><br><span class="line">git branch (--track) [branch] [remote-branch] //æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œ--trackå¯çœç•¥</span><br><span class="line">git branch --set-upstream [branch] [remote-branch] //å¯¹ç°æœ‰åˆ†æ”¯å»ºç«‹ä¸è¿œç¨‹åˆ†æ”¯çš„è¿½è¸ªå…³ç³»</span><br><span class="line">git checkout [branchname] //åˆ‡æ¢åˆ°æŸä¸ªæœ¬åœ°ç°æœ‰åˆ†æ”¯ä¸Š</span><br><span class="line">git checkout -b [branchname] [tagname/commit/branchName] //é€šè¿‡æ ‡ç­¾ç­‰æ£€å‡ºä¸€ä¸ªæœ¬åœ°æ–°çš„åˆ†æ”¯</span><br><span class="line">git checkout --track -b [branchName] [origin/remoteBranch] //ç›´æ¥æ£€å‡ºä¸€ä¸ªå…³è”è¿œç¨‹åˆ†æ”¯çš„æœ¬åœ°åˆ†æ”¯ï¼Œ--trackå¯çœç•¥</span><br><span class="line">git checkout . //æ¢å¤ä¸Šä¸€ä¸ªcommitçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº,æ³¨æ„æœ«å°¾æœ‰ä¸ªç‚¹å„¿</span><br><span class="line">git checkout -- filename //æ’¤æ¶ˆå¯¹æŸæ–‡ä»¶çš„ä¿®æ”¹ï¼Œæ³¨æ„-- filenameäºŒè€…ä¸­é—´æœ‰ç©ºæ ¼çš„ï¼ˆå›åˆ°æœ¬åœ°æœ€åä¸€æ¬¡æäº¤çŠ¶æ€ï¼‰</span><br><span class="line">git checkout &lt;commitID&gt; &lt;filename&gt; //åªæ’¤é”€æŒ‡å®šæ–‡ä»¶åˆ°æŒ‡å®šcommitæ—¶çš„ç‰ˆæœ¬ï¼Œæ³¨æ„è¿™é‡Œå‘½ä»¤ç”¨çš„ä¸æ˜¯reset</span><br><span class="line">git cherry-pick [commit] //é€‰æ‹©ä¸€ä¸ªcommitï¼ˆç¼–å·ï¼‰ï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span><br><span class="line">git config --global alias.co checkout //ä¸ºå‘½ä»¤è®¾ç½®ä¸€ä¸ªåˆ«åï¼Œä½¿ä»¥åå†™å‘½ä»¤æ–¹ä¾¿</span><br><span class="line">git merge branchName //å°†branchNameåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸­</span><br><span class="line">git remote -v //åˆ—å‡ºæ‰€æœ‰çš„è¿œç¨‹ä»“åº“</span><br><span class="line">git remote show [remote-name] //æŸ¥çœ‹æŸä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æ›´å¤šä¿¡æ¯</span><br><span class="line">git remote add &lt;shortname&gt; &lt;url&gt; //æ·»åŠ è¿œç¨‹ä»“åº“</span><br><span class="line">git remote rename nameA NameB //è¿œç¨‹ä»“åº“çš„é‡å‘½å</span><br><span class="line">git remote rm paul //è¿œç¨‹ä»“åº“paulçš„ç§»é™¤</span><br><span class="line">git remote set-url origin [url] //æ›´æ¢è¿œç¨‹ä»“åº“åœ°å€</span><br><span class="line">git remote rm origin //é…åˆgit remote add origin [url]ï¼Œä¹Ÿèƒ½å®ç°æ›´æ¢è¿œç¨‹ä»“åº“åœ°å€åŠŸèƒ½</span><br><span class="line">git tag //åˆ—å‡ºæ ‡ç­¾</span><br><span class="line">git tag -a v1.4 -m &apos;my version 1.4&apos; //åˆ›å»ºé™„æ³¨æ ‡ç­¾</span><br><span class="line">git tag [tag] [commitId] //æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span><br><span class="line">git show //æŸ¥çœ‹æ ‡ç­¾ä¿¡æ¯ä¸å¯¹åº”çš„æäº¤ä¿¡æ¯ï¼›</span><br><span class="line">git fetch [remote-name] //ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span><br><span class="line">git pull //ä»è¿œç¨‹ä»“åº“ä¸­æŠ“å–ä¸æ‹‰å–,å‰ææ˜¯æœ‰ä¸€ä¸ªåˆ†æ”¯è®¾ç½®ä¸ºè·Ÿè¸ªä¸€ä¸ªè¿œç¨‹åˆ†æ”¯</span><br><span class="line">git push [remote-origin] [tag] //æäº¤æŒ‡å®štag,git push [remote] --tags :æäº¤æ‰€æœ‰tag</span><br><span class="line">git push origin HEAD:[branch-name] //æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œæ¨é€åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¸åŒåæ—¶ï¼Œorigin HEAD:[branch-name]ä¸å¯çœç•¥</span><br><span class="line">git push --force //æ¨é€è‡³è¿œç¨‹ä»“åº“ï¼Œè¿œç¨‹åˆ†æ”¯ä¸å…¶åŒåæ—¶ä½¿ç”¨ï¼Œ--force å¯ç®€å†™ -f</span><br><span class="line">git push [remote] --all //æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">git push origin --delete [branchname] //åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼Œæˆ–è€…git branch -dr [origin/branchname]</span><br><span class="line">git rebase --continue/abort/skip //ç»§ç»­æ‰§è¡Œå˜åŸºæ“ä½œã€ç»ˆæ­¢å˜åŸºã€è·³è¿‡æŸä¸€æ–‡ä»¶ç»§ç»­è¿›è¡Œ</span><br><span class="line">git rebase -i [startpoint] [endpoint] //åˆå¹¶å¤šä¸ªcommitä¸ºä¸€ä¸ªå®Œæ•´commit(æ³¨:è¯¥åŒºé—´ä¸ºå‰å¼€åé—­åŒºé—´),endpointé»˜è®¤ä¸ºHEAD</span><br><span class="line">git rebase -i HEAD~3 //åˆå¹¶åä¸‰ä¸ªcommit</span><br><span class="line">git rebase [startpoint] [endpoint] --onto [yourBranch] //é…ä»¥git checkout yourBranchå’Œgit reset --hard [newCommitId]å®ç°å°†æŸæ®µcommitç²˜è´´åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Š</span><br><span class="line">git reset [file] //å°†æŒ‡å®šæ–‡ä»¶ä»&quot;æš‚å­˜åŒº&quot;ä¸­é‡Šæ”¾ï¼Œä½¿å…¶å¤„äºunstageçŠ¶æ€ï¼Œä½†å·¥ä½œåŒºä»£ç ä¸å˜</span><br><span class="line">git reset [commit] //é‡ç½®æœ¬åœ°å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">git reset --hard //é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´,æ•ˆæœä¸git checkout .ç±»ä¼¼</span><br><span class="line">git reset --hard HEADã€BranchNameã€orign/branch//åœ¨åˆå¹¶æœ‰å†²çªæ—¶ï¼Œæ”¾å¼ƒæœ¬åœ°ä¿®æ”¹çš„ï¼Œå…¨éƒ¨é‡‡ç”¨æŸä¸ªåˆ†æ”¯çš„</span><br><span class="line">git reset --keep [commit] //é‡ç½®æœ¬åœ°å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span><br><span class="line">git reset --hard HEAD^ //ä¸git push origin master -fæ­é…ï¼Œå®ç°åˆ é™¤æœ€åä¸€æ¬¡è¿œç¨‹æäº¤åŠŸèƒ½</span><br><span class="line">git reset --hard [commit] //é‡ç½®æœ¬åœ°å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œå¯ç”¨äºç‰ˆæœ¬å›é€€</span><br><span class="line">git revert [commit] //æŒ‡ç‰ˆæœ¬å›é€€åˆ°æŒ‡å®šæäº¤ä¹‹å‰</span><br><span class="line">git revert HEAD //ä¸git push origin masteræ­é…ï¼Œå®ç°åˆ é™¤æœ€åä¸€æ¬¡è¿œç¨‹æäº¤åŠŸèƒ½</span><br></pre></td></tr></table></figure>

<h2 id="linuxåŸºç¡€å‘½ä»¤"><a href="#linuxåŸºç¡€å‘½ä»¤" class="headerlink" title="linuxåŸºç¡€å‘½ä»¤"></a>linuxåŸºç¡€å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1)clear:æ¸…é™¤å±å¹•</span><br><span class="line">2)echo:å¾€æ§åˆ¶å°è¾“å‡ºä¿¡æ¯(ç›¸å½“äºconsole.log)</span><br><span class="line">3)ll:å°†å¯¹åº”ç›®å½•ä¸‹çš„å­å­™æ–‡ä»¶&amp;å­å­™ç›®å½•å¹³é“ºåœ¨æ§åˆ¶å°</span><br><span class="line">4)find ç›®å½•å:å°†å¯¹åº”ä¸‹çš„å­å­™æ–‡ä»¶&amp;å­å­™ç›®å½•å¹³é“ºåœ¨æ§åˆ¶å°</span><br><span class="line">5)find ç›®å½•å -type f:å°†å¯¹åº”ç›®å½•ä¸‹çš„æ–‡ä»¶å¹³é“ºåœ¨æ§åˆ¶å°</span><br><span class="line">6)rm æ–‡ä»¶å:åˆ é™¤æ–‡ä»¶</span><br><span class="line">7)mv æ–‡ä»¶å é‡å‘½åæ–‡ä»¶å:é‡å‘½å</span><br><span class="line">8)cat æ–‡ä»¶çš„url:æŸ¥çœ‹æ–‡ä»¶å¯¹åº”å†…å®¹</span><br><span class="line">9)vim æ–‡ä»¶çš„url(åœ¨è‹±æ–‡æ¨¡å¼ä¸‹)</span><br><span class="line">	1:æŒ‰iè¿›å…¥æ’å…¥æ¨¡å¼ è¿›è¡Œæ–‡ä»¶çš„ç¼–è¾‘</span><br><span class="line">	2:æŒ‰Escé”®&amp;æŒ‰:é”®:è¿›è¡Œå‘½ä»¤çš„æ‰§è¡Œ </span><br><span class="line">		2-1:-q! =&gt;å¼ºåˆ¶é€€å‡º(ä¸ä¿å­˜)</span><br><span class="line">		2-2:wq =&gt;ä¿å­˜é€€å‡º</span><br><span class="line">		2-3:set nu =&gt;è®¾ç½®è¡Œå·</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>markdownåŸºç¡€è¯­æ³•</title>
    <url>/2019/09/26/%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<p>åˆ†æ®µ ä¸¤ä¸ªå›è½¦<br>æ¢è¡Œ ä¸¤ä¸ªç©ºæ ¼ + å›è½¦<br>æ ‡é¢˜ # ~ ######ï¼Œ#å·çš„ä¸ªæ•°è¡¨ç¤ºå‡ çº§æ ‡é¢˜ï¼Œå³è¡¨ç¤ºä¸€çº§æ ‡é¢˜åˆ°å…­çº§æ ‡é¢˜<br>å¼ºè°ƒ <strong>æ–‡å­—</strong> ï¼Œ <strong>æ–‡å­—</strong> ï¼Œ <em>æ–‡å­—</em> ï¼Œ <em>æ–‡å­—</em> ï¼Œ æ–‡å­—<br>å¼•ç”¨ &gt; æ³¨æ„åé¢ç´§è·Ÿä¸ªç©ºæ ¼<br>è¡¨æ ¼ - å’Œ | åˆ†å‰²è¡Œå’Œåˆ— ï¼Œ : æ§åˆ¶å¯¹å…¶æ–¹å¼<br>ä»£ç å— å››ä¸ªç©ºæ ¼ å¼€å¤´æˆ–ï¼Œ ä½¿ç”¨<br>é“¾æ¥ <a href="é“¾æ¥åœ°å€">æ–‡å­—</a><br>å›¾ç‰‡ <img src="/.com//%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" alt="å›¾ç‰‡è¯´æ˜"> ï¼Œåœ°å€å¯ä»¥æ˜¯æœ¬åœ°è·¯åŠ²ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œåœ°å€<br>åˆ—è¡¨ * ï¼Œ + ï¼Œ - ï¼Œ 1. ï¼Œé€‰å…¶ä¸­ä¹‹ä¸€ï¼Œæ³¨æ„åé¢ç´§è·Ÿä¸ªç©ºæ ¼</p>
<a id="more"></a>

<p>æ ‡é¢˜</p>
<h1 id="æ¬¢è¿ä½¿ç”¨Markdownç¼–è¾‘å™¨å†™åšå®¢-ä¸€çº§æ ‡é¢˜-å¯¹åº”"><a href="#æ¬¢è¿ä½¿ç”¨Markdownç¼–è¾‘å™¨å†™åšå®¢-ä¸€çº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="æ¬¢è¿ä½¿ç”¨Markdownç¼–è¾‘å™¨å†™åšå®¢    //ä¸€çº§æ ‡é¢˜ å¯¹åº”  "></a>æ¬¢è¿ä½¿ç”¨Markdownç¼–è¾‘å™¨å†™åšå®¢    //ä¸€çº§æ ‡é¢˜ å¯¹åº” <h1> </h1></h1><h2 id="æ ‡é¢˜è¾“å…¥-äºŒçº§æ ‡é¢˜-å¯¹åº”"><a href="#æ ‡é¢˜è¾“å…¥-äºŒçº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="æ ‡é¢˜è¾“å…¥                     //äºŒçº§æ ‡é¢˜ å¯¹åº”  "></a>æ ‡é¢˜è¾“å…¥                     //äºŒçº§æ ‡é¢˜ å¯¹åº” <h2> </h2></h2><h3 id="ä¸‰çº§æ ‡é¢˜-ä¸‰çº§æ ‡é¢˜-å¯¹åº”"><a href="#ä¸‰çº§æ ‡é¢˜-ä¸‰çº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="ä¸‰çº§æ ‡é¢˜                    //ä¸‰çº§æ ‡é¢˜ å¯¹åº”  "></a>ä¸‰çº§æ ‡é¢˜                    //ä¸‰çº§æ ‡é¢˜ å¯¹åº” <h3> </h3></h3><h4 id="å››çº§æ ‡é¢˜-å››çº§æ ‡é¢˜-å¯¹åº”"><a href="#å››çº§æ ‡é¢˜-å››çº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="å››çº§æ ‡é¢˜                   //å››çº§æ ‡é¢˜ å¯¹åº”  "></a>å››çº§æ ‡é¢˜                   //å››çº§æ ‡é¢˜ å¯¹åº” <h4> </h4></h4><h5 id="äº”çº§æ ‡é¢˜-äº”çº§æ ‡é¢˜-å¯¹åº”"><a href="#äº”çº§æ ‡é¢˜-äº”çº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="äº”çº§æ ‡é¢˜                  //äº”çº§æ ‡é¢˜ å¯¹åº”  "></a>äº”çº§æ ‡é¢˜                  //äº”çº§æ ‡é¢˜ å¯¹åº” <h5> </h5></h5><h6 id="å…­çº§æ ‡é¢˜-å…­çº§æ ‡é¢˜-å¯¹åº”"><a href="#å…­çº§æ ‡é¢˜-å…­çº§æ ‡é¢˜-å¯¹åº”" class="headerlink" title="å…­çº§æ ‡é¢˜                 //å…­çº§æ ‡é¢˜ å¯¹åº”  "></a>å…­çº§æ ‡é¢˜                 //å…­çº§æ ‡é¢˜ å¯¹åº” <h6> </h6></h6><p>####### ä¸ƒçº§æ ‡é¢˜                //æŠ±æ­‰ï¼Œæœ¨æœ‰äº†ï¼ˆä½†æ˜¯ä»–ä¼šå½±å“ç”Ÿæˆçš„ç›®å½•ï¼Œç›®å½•è¡Œå¤šå‡ºä¸€è¡Œç©ºè¡Œï¼‰</p>
<p>å†…å®¹å¼ºè°ƒ<br>åŠ ç²—ã€æ–œä½“<br>å­—ä½“ <strong>åŠ ç²—</strong> æ˜¾ç¤º<br>å­—ä½“ <em>æ–œä½“</em> æ˜¾ç¤º<br>å­—ä½“ <strong><em>åŠ ç²—å¹¶æ–œä½“</em></strong> æ˜¾ç¤º<br>å­—ä½“ åŠ ç²— æ˜¾ç¤º<br>å­—ä½“ æ–œä½“ æ˜¾ç¤º<br>å­—ä½“ åŠ ç²—å¹¶æ–œä½“ æ˜¾ç¤º</p>
<p>å­—ä½“ <strong>åŠ ç²—</strong> æ˜¾ç¤º<br>å­—ä½“ <em>æ–œä½“</em> æ˜¾ç¤º<br>å­—ä½“ <strong><em>åŠ ç²—å¹¶æ–œä½“</em></strong> æ˜¾ç¤º<br>ç»„åˆ <em><strong>åŠ ç²—å¹¶æ–œä½“</strong></em> æ˜¾ç¤º<br>å­—ä½“ åŠ ç²— æ˜¾ç¤º<br>å­—ä½“ æ–œä½“ æ˜¾ç¤º<br>å­—ä½“ åŠ ç²—å¹¶æ–œä½“ æ˜¾ç¤º<br>ç»„åˆ åŠ ç²—å¹¶æ–œä½“ æ˜¾ç¤º</p>
<p>åˆ é™¤çº¿<br>è¿™æ ·æ¥ <del>åˆ é™¤ä¸€æ®µæ–‡æœ¬</del><br>è¿™æ ·æ¥ åˆ é™¤ä¸€æ®µæ–‡æœ¬</p>
<p>é«˜äº®<br>ä½¿ç”¨<code>`</code>æ¥å¼ºè°ƒå­—ç¬¦   //æƒ³æ‰“å‡º  <code>(åå¼•å·)éœ€è¦è½¬ä¹‰çš„ï¼ŒåŠ &lt;code&gt;&lt;/code&gt;æ ‡ç­¾å¼ºè°ƒ
æ¯”å¦‚</code>çªå‡ºèƒŒæ™¯è‰²`æ¥æ˜¾ç¤ºå¼ºè°ƒæ•ˆæœ</p>
<p>ä½¿ç”¨`æ¥å¼ºè°ƒå­—ç¬¦<br>æ¯”å¦‚çªå‡ºèƒŒæ™¯è‰²æ¥æ˜¾ç¤ºå¼ºè°ƒæ•ˆæœ</p>
<p>å¼•ç”¨æ˜¾ç¤º<br>å¼•ç”¨è¿‡ç¨‹ä¸­ä»»ç„¶æ”¯æŒMarkdownè¯­æ³•ï¼</p>
<p>æ ‡å‡†ä½¿ç”¨</p>
<blockquote>
<p>æ¯è¡Œå¼€å§‹éƒ½ä½¿ç”¨ â€˜&gt;â€™ï¼›<br>å¼•ç”¨<strong>å¼€å§‹</strong>ï¼›<br>å¼•ç”¨<strong>æ¢è¡Œ</strong>ï¼›<br>å¼•ç”¨<strong>ç»“æŸ</strong>ã€‚</p>
</blockquote>
<blockquote>
<p>è¿˜åœ¨å¼•ç”¨ä¸­ï¼</p>
</blockquote>
<p>ä¸¤ä¸ªå›è½¦ç»“æŸå¼•ç”¨ï¼<br>æ¯è¡Œå¼€å§‹éƒ½ä½¿ç”¨ â€˜&gt;â€™ï¼›<br>å¼•ç”¨å¼€å§‹ï¼›<br>å¼•ç”¨æ¢è¡Œï¼›<br>å¼•ç”¨ç»“æŸã€‚</p>
<p>è¿˜åœ¨å¼•ç”¨ä¸­ï¼</p>
<p>ã€€ä¸¤ä¸ªå›è½¦ç»“æŸå¼•ç”¨ï¼</p>
<p>çœç•¥ä½¿ç”¨</p>
<blockquote>
<p>ä»…ç¬¬ä¸€è¡ŒåŠ åº”ç”¨ï¼›<br>å¼•ç”¨<strong>å¼€å§‹</strong>ï¼›<br>å¼•ç”¨<strong>æ¢è¡Œ</strong>ï¼›<br>å¼•ç”¨<strong>ç»“æŸ</strong>ï¼›</p>
</blockquote>
<p>ä¸¤ä¸ªå›è½¦ç»“æŸå¼•ç”¨,ä¸åœ¨å¼•ç”¨èŒƒå›´å†…äº†ï¼<br>ä»…ç¬¬ä¸€è¡ŒåŠ åº”ç”¨ï¼›<br>å¼•ç”¨å¼€å§‹ï¼›<br>å¼•ç”¨æ¢è¡Œï¼›<br>å¼•ç”¨ç»“æŸï¼›</p>
<p>ã€€ä¸¤ä¸ªå›è½¦ ç»“æŸå¼•ç”¨,ä¸åœ¨å¼•ç”¨èŒƒå›´å†…äº†ï¼</p>
<p>åµŒå¥—ä½¿ç”¨</p>
<blockquote>
<p>åŠ¨ç‰©</p>
<blockquote>
<p>æ°´ç”ŸåŠ¨ç‰©<br>é™†ç”ŸåŠ¨ç‰©</p>
<blockquote>
<p>çŒ´å­<br>äºº</p>
<blockquote>
<p>ç¨‹åºçŒ¿<br>æ”»åŸç‹®<br>äº§å“ç‹— //è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ²¡æœ‰ç©ºè¡Œé—´éš”ï¼Œå¿½ç•¥é™çº§å¼•ç”¨æ ‡è®°<br>å°„é¸¡è™±   //è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ²¡æœ‰ç©ºè¡Œé—´éš”ï¼Œå¿½ç•¥é™çº§å¼•ç”¨æ ‡è®°</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>ä¸¤æ –ç±»åŠ¨ç‰©</p>
<blockquote>
<p>å¤§é³„é±¼<br>å”è€é¸­</p>
</blockquote>
</blockquote>
</blockquote>
<p>ä¸¤ä¸ªå›è½¦ç»“æŸå¼•ç”¨,ä¸åœ¨å¼•ç”¨èŒƒå›´å†…äº†ï¼<br>åˆ—1   | åˆ—2 | åˆ—3<br>â€”â€“ | â€” | â€”-<br>ç¬¬1è¡Œ | 12  | 13<br>ç¬¬2è¡Œ | 22  | 23<br>ç¬¬3è¡Œ | 32  | 33<br>å¯ä»¥ä½¿ç”¨å†’å·æ¥å®šä¹‰å¯¹é½æ–¹å¼ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å·¦å¯¹é½</th>
<th align="right">å³å¯¹é½</th>
<th align="center">å±…ä¸­</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Computer</td>
<td align="right">5000 å…ƒ</td>
<td align="center">1å°</td>
</tr>
<tr>
<td align="left">Phone</td>
<td align="right">1999 å…ƒ</td>
<td align="center">1éƒ¨</td>
</tr>
<tr>
<td align="left">ä»£ç å—è¯­æ³•éµå¾ªæ ‡å‡† markdown ä»£ç ï¼Œä½¿ç”¨ <figure class="highlight plain"><figcaption><span>ï¼Œ ``` ç»“æŸ ä¾‹å¦‚ï¼š</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">```Python</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">print &apos;Hello World!</span><br></pre></td></tr></table></figure></td>
<td align="right"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p> åˆ—è¡¨<br>æ— åºåˆ—è¡¨</p>
<ul>
<li>*åˆ—è¡¨å±•ç¤º</li>
<li>*åˆ—è¡¨å±•ç¤º<ul>
<li>*åˆ—è¡¨å±•ç¤º</li>
</ul>
</li>
</ul>
<ul>
<li>+åˆ—è¡¨å±•ç¤º</li>
<li>+åˆ—è¡¨å±•ç¤º<ul>
<li>+åˆ—è¡¨å±•ç¤º</li>
</ul>
</li>
</ul>
<ul>
<li>-åˆ—è¡¨å±•ç¤º</li>
<li>-åˆ—è¡¨å±•ç¤º<ul>
<li>-åˆ—è¡¨å±•ç¤º</li>
</ul>
</li>
</ul>
<p>*åˆ—è¡¨å±•ç¤º<br>*åˆ—è¡¨å±•ç¤º<br>*åˆ—è¡¨å±•ç¤º<br>+åˆ—è¡¨å±•ç¤º<br>+åˆ—è¡¨å±•ç¤º<br>+åˆ—è¡¨å±•ç¤º<br>-åˆ—è¡¨å±•ç¤º<br>-åˆ—è¡¨å±•ç¤º<br>-åˆ—è¡¨å±•ç¤º<br>æœ‰åºåˆ—è¡¨ï¼ˆCSDNå±•ç¤ºä¸åŒï¼‰<br>è¿™ç§æ–¹å¼ä¸ç”¨æ‰‹åŠ¨è®¾ç½®åºå·ï¼Œè‡ªåŠ¨ç”Ÿæˆåˆ—è¡¨åºåˆ—</p>
<ol>
<li><strong>æˆ‘æ˜¯ä¸€çº§åºåˆ—</strong> </li>
<li><strong>æˆ‘æ˜¯ä¸€çº§åºåˆ—</strong> </li>
<li><strong>æˆ‘æ˜¯ä¸€çº§åºåˆ—</strong> <ol>
<li><em>æˆ‘æ˜¯äºŒçº§åºåˆ—</em> </li>
<li><em>æˆ‘æ˜¯äºŒçº§åºåˆ—</em> </li>
<li><em>æˆ‘æ˜¯äºŒçº§åºåˆ—</em> </li>
</ol>
</li>
<li><strong>æˆ‘æ˜¯ä¸€çº§åºåˆ—</strong> </li>
<li><strong>æˆ‘æ˜¯ä¸€çº§åºåˆ—</strong> <ol>
<li><em>æˆ‘æ˜¯äºŒçº§åºåˆ—</em> </li>
<li><em>æˆ‘æ˜¯äºŒçº§åºåˆ—</em> </li>
<li>è¿˜æ˜¯äºŒçº§åºåˆ—ï¼Œæ²¡æœ‰ä¸‰çº§åºåˆ—<br>è¿™ç§æ–¹å¼ä¸ç”¨æ‰‹åŠ¨è®¾ç½®åºå·ï¼Œè‡ªåŠ¨ç”Ÿæˆåˆ—è¡¨åºåˆ—</li>
</ol>
</li>
<li>æˆ‘æ˜¯ä¸€çº§åºåˆ—</li>
<li>æˆ‘æ˜¯ä¸€çº§åºåˆ—</li>
<li>æˆ‘æ˜¯ä¸€çº§åºåˆ—</li>
<li>æˆ‘æ˜¯äºŒçº§åºåˆ— å¤šäºä¸€çº§åºåˆ—ä¸€ä¸ªç©ºæ ¼</li>
<li>æˆ‘æ˜¯äºŒçº§åºåˆ— å¤šäºä¸€çº§åºåˆ—ä¸€ä¸ªç©ºæ ¼</li>
<li>æˆ‘æ˜¯äºŒçº§åºåˆ— å¤šäºä¸€çº§åºåˆ—ä¸€ä¸ªç©ºæ ¼</li>
<li>æˆ‘æ˜¯ä¸€çº§åºåˆ—</li>
<li>æˆ‘æ˜¯ä¸€çº§åºåˆ—</li>
<li>æˆ‘æ˜¯äºŒçº§åºåˆ— å¤šäºä¸€çº§åºåˆ—ä¸€ä¸ªç©ºæ ¼</li>
<li>æˆ‘æ˜¯äºŒçº§åºåˆ— å¤šäºä¸€çº§åºåˆ—ä¸€ä¸ªç©ºæ ¼</li>
<li>è¿˜æ˜¯äºŒçº§åºåˆ—ï¼Œæ²¡æœ‰ä¸‰çº§åºåˆ— è™½ç„¶å¤šäºäºŒçº§åºåˆ—ä¸€ä¸ªç©ºæ ¼ï¼Œä½†æ˜¯ä»»ç„¶æ˜¯äºŒçº§åºåˆ—</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>JSæ•°ç»„å¸¸ç”¨æŠ€å·§</title>
    <url>/2020/08/08/JS%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h3 id="ç”Ÿæˆç±»ä¼¼-1-100-è¿™æ ·çš„çš„æ•°ç»„ï¼š"><a href="#ç”Ÿæˆç±»ä¼¼-1-100-è¿™æ ·çš„çš„æ•°ç»„ï¼š" class="headerlink" title="ç”Ÿæˆç±»ä¼¼[1-100]è¿™æ ·çš„çš„æ•°ç»„ï¼š"></a>ç”Ÿæˆç±»ä¼¼[1-100]è¿™æ ·çš„çš„æ•°ç»„ï¼š</h3><p>æµ‹è¯•å¤§é‡æ•°ç»„æ•°æ®æ—¶å¯ä»¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">let arr = new Array(100).fill(0).map((item, index) =&gt; index + 1)</span><br></pre></td></tr></table></figure>

<a id="more"></a>
<h3 id="æ•°ç»„è§£æ„èµ‹å€¼åº”ç”¨"><a href="#æ•°ç»„è§£æ„èµ‹å€¼åº”ç”¨" class="headerlink" title="æ•°ç»„è§£æ„èµ‹å€¼åº”ç”¨"></a>æ•°ç»„è§£æ„èµ‹å€¼åº”ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// äº¤æ¢å˜é‡</span><br><span class="line">[a, b] = [b, a]</span><br><span class="line">[o.a, o.b] = [o.b, o.a]</span><br><span class="line">// ç”Ÿæˆå‰©ä½™æ•°ç»„</span><br><span class="line">const [a, ...rest] = [...&apos;asdf&apos;] // aï¼š&apos;a&apos;ï¼Œrest: [&quot;s&quot;, &quot;d&quot;, &quot;f&quot;]</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„æµ…æ‹·è´"><a href="#æ•°ç»„æµ…æ‹·è´" class="headerlink" title="æ•°ç»„æµ…æ‹·è´"></a>æ•°ç»„æµ…æ‹·è´</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3]</span><br><span class="line">const arrClone = [...arr]</span><br><span class="line">// å¯¹è±¡ä¹Ÿå¯ä»¥è¿™æ ·æµ…æ‹·è´</span><br><span class="line">const obj = &#123; a: 1 &#125;</span><br><span class="line">const objClone = &#123; ...obj &#125;</span><br></pre></td></tr></table></figure>

<p>æµ…æ‹·è´æ–¹æ³•æœ‰å¾ˆå¤šå¦‚arr.slice(0, arr.length)/Arror.from(arr)ç­‰ï¼Œä½†æ˜¯ç”¨äº†â€¦æ“ä½œç¬¦ä¹‹åå°±ä¸ä¼šå†æƒ³ç”¨å…¶ä»–çš„äº†~</p>
<h3 id="æ•°ç»„åˆå¹¶"><a href="#æ•°ç»„åˆå¹¶" class="headerlink" title="æ•°ç»„åˆå¹¶"></a>æ•°ç»„åˆå¹¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr1 = [1, 2, 3]</span><br><span class="line">const arr2 = [4, 5, 6]</span><br><span class="line">const arr3 = [7, 8, 9]</span><br><span class="line">const arr = [...arr1, ...arr2, ...arr3]</span><br></pre></td></tr></table></figure>

<p>arr1.concat(arr2, arr3)åŒæ ·å¯ä»¥å®ç°åˆå¹¶ï¼Œä½†æ˜¯ç”¨äº†â€¦æ“ä½œç¬¦ä¹‹åå°±ä¸ä¼šå†æƒ³ç”¨å…¶ä»–çš„äº†~</p>
<h3 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h3><h4 id="æ™®é€šæ•°ç»„"><a href="#æ™®é€šæ•°ç»„" class="headerlink" title="æ™®é€šæ•°ç»„"></a>æ™®é€šæ•°ç»„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 1, 2, 2, 3, 4, 5, 5]</span><br><span class="line">const newArr = [...new Set(arr)]</span><br></pre></td></tr></table></figure>

<p>new Set(arr)æ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°å¹¶ç”Ÿæˆä¸€ä¸ªsetç»“æ„çš„æ•°æ®ç±»å‹ã€‚setæ•°æ®ç±»å‹çš„å…ƒç´ ä¸ä¼šé‡å¤ä¸”æ˜¯Array Iteratorï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥å»é‡ã€‚</p>
<h4 id="æ ¹æ®å¯¹è±¡ä¸­çš„æŸä¸ªé”®å€¼å»é‡"><a href="#æ ¹æ®å¯¹è±¡ä¸­çš„æŸä¸ªé”®å€¼å»é‡" class="headerlink" title="æ ¹æ®å¯¹è±¡ä¸­çš„æŸä¸ªé”®å€¼å»é‡"></a>æ ¹æ®å¯¹è±¡ä¸­çš„æŸä¸ªé”®å€¼å»é‡</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deWeight(arry) &#123;</span><br><span class="line">	let newAry = [];</span><br><span class="line">	for (let i = 0; i &lt; arry.length; i++) &#123;</span><br><span class="line">		if (newAry.indexOf(arry[i].id) == -1) &#123;</span><br><span class="line">			newAry.push(arry[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return newAry;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„å¯¹è±¡å»é‡"><a href="#æ•°ç»„å¯¹è±¡å»é‡" class="headerlink" title="æ•°ç»„å¯¹è±¡å»é‡"></a>æ•°ç»„å¯¹è±¡å»é‡</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">uniqs(array) &#123;</span><br><span class="line">let temp = []; //ä¸€ä¸ªæ–°çš„ä¸´æ—¶æ•°ç»„</span><br><span class="line">    for (let i = 0; i &lt; array.length; i++) &#123;</span><br><span class="line">    	if (temp.length == 0) &#123;</span><br><span class="line">    		temp.push(array[i]);</span><br><span class="line">    	&#125; else &#123;</span><br><span class="line">    		let o = 0;</span><br><span class="line">    		for (let a = 0; a &lt; temp.length; a++) &#123;</span><br><span class="line">    			var obj = array[i];</span><br><span class="line">    			var obj1 = temp[a];</span><br><span class="line">    			if (JSON.stringify(obj1) === JSON.stringify(obj)) &#123;</span><br><span class="line">    				o = 1;</span><br><span class="line">    				break;</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		if (o == 0) &#123;</span><br><span class="line">    			temp.push(array[i]);</span><br><span class="line">    		&#125;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return temp;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å–äº¤é›†"><a href="#æ•°ç»„å–äº¤é›†" class="headerlink" title="æ•°ç»„å–äº¤é›†"></a>æ•°ç»„å–äº¤é›†</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a = [0, 1, 2, 3, 4, 5]</span><br><span class="line">const b = [3, 4, 5, 6, 7, 8]</span><br><span class="line">const duplicatedValues = [...new Set(a)].filter(item =&gt; b.includes(item))</span><br><span class="line">duplicatedValues // [3, 4, 5]</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å–å·®é›†"><a href="#æ•°ç»„å–å·®é›†" class="headerlink" title="æ•°ç»„å–å·®é›†"></a>æ•°ç»„å–å·®é›†</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const a = [0, 1, 2, 3, 4, 5]</span><br><span class="line">const b = [3, 4, 5, 6, 7, 8]</span><br><span class="line">const diffValues = [...new Set([...a, ...b])].filter(item =&gt; !b.includes(item) || !a.includes(item)) // [0, 1, 2, 6, 7, 8]</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„è½¬å¯¹è±¡"><a href="#æ•°ç»„è½¬å¯¹è±¡" class="headerlink" title="æ•°ç»„è½¬å¯¹è±¡"></a>æ•°ç»„è½¬å¯¹è±¡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4]</span><br><span class="line">const newObj = &#123;...arr&#125; // &#123;0: 1, 1: 2, 2: 3, 3: 4&#125;</span><br><span class="line">const obj = &#123;0: 0, 1: 1, 2: 2, length 3&#125;</span><br><span class="line">// å¯¹è±¡è½¬æ•°ç»„ä¸èƒ½ç”¨å±•å¼€æ“ä½œç¬¦ï¼Œå› ä¸ºå±•å¼€æ“ä½œç¬¦å¿…é¡»ç”¨åœ¨å¯è¿­ä»£å¯¹è±¡ä¸Š</span><br><span class="line">let newArr = [...obj] // Uncaught TypeError: object is not iterable...</span><br><span class="line">// å¯ä»¥ä½¿ç”¨Array.form()å°†ç±»æ•°ç»„å¯¹è±¡è½¬ä¸ºæ•°ç»„</span><br><span class="line">let newArr = Array.from(obj) // [0, 1, 2]</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„å¸¸ç”¨éå†"><a href="#æ•°ç»„å¸¸ç”¨éå†" class="headerlink" title="æ•°ç»„å¸¸ç”¨éå†"></a>æ•°ç»„å¸¸ç”¨éå†</h3><p>æ•°ç»„å¸¸ç”¨éå†æœ‰ forEachã€everyã€someã€filterã€mapã€reduceã€reduceRightã€findã€findIndex ç­‰æ–¹æ³•ï¼Œå¾ˆå¤šæ–¹æ³•éƒ½å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚æ•°ç»„æ–¹æ³•ä¸ä»…è¦ä¼šç”¨ï¼Œè€Œä¸”è¦ç”¨å¥½ã€‚è¦ç”¨å¥½å°±è¦çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆæ–¹æ³•ã€‚</p>
<h3 id="éå†çš„æ··åˆä½¿ç”¨"><a href="#éå†çš„æ··åˆä½¿ç”¨" class="headerlink" title="éå†çš„æ··åˆä½¿ç”¨"></a>éå†çš„æ··åˆä½¿ç”¨</h3><p>filterã€mapæ–¹æ³•è¿”å›å€¼ä»æ—§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥æ­é…å…¶ä»–æ•°ç»„éå†æ–¹æ³•æ··åˆä½¿ç”¨ã€‚æ³¨æ„éå†è¶Šå¤šæ•ˆç‡è¶Šä½~</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line">const value = arr</span><br><span class="line">    .map(item =&gt; item * 3)</span><br><span class="line">    .filter(item =&gt; item % 2 === 0)</span><br><span class="line">    .map(item =&gt; item + 1)</span><br><span class="line">    .reduce((prev, curr) =&gt; prev + curr, 0)</span><br></pre></td></tr></table></figure>

<h3 id="æ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶"><a href="#æ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶" class="headerlink" title="æ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶"></a>æ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆåˆ¤æ–­æ¡ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line">const isAllNum = arr.every(item =&gt; typeof item === &apos;number&apos;)</span><br></pre></td></tr></table></figure>

<h3 id="æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆåˆ¤æ–­æ¡ä»¶"><a href="#æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆåˆ¤æ–­æ¡ä»¶" class="headerlink" title="æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆåˆ¤æ–­æ¡ä»¶"></a>æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰å…ƒç´ ç¬¦åˆåˆ¤æ–­æ¡ä»¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line">const hasNum = arr.some(item =&gt; typeof item === &apos;number&apos;)</span><br></pre></td></tr></table></figure>

<h3 id="æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ -ä¸‹æ ‡"><a href="#æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ -ä¸‹æ ‡" class="headerlink" title="æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ /ä¸‹æ ‡"></a>æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ /ä¸‹æ ‡</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line">const findItem = arr.find(item =&gt; item === 3) // è¿”å›å­é¡¹</span><br><span class="line">const findIndex = arr.findIndex(item =&gt; item === 3) // è¿”å›å­é¡¹çš„ä¸‹æ ‡</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„ä½¿ç”¨è¯¯åŒº"><a href="#æ•°ç»„ä½¿ç”¨è¯¯åŒº" class="headerlink" title="æ•°ç»„ä½¿ç”¨è¯¯åŒº"></a>æ•°ç»„ä½¿ç”¨è¯¯åŒº</h3><p>æ•°ç»„çš„æ–¹æ³•å¾ˆå¤šï¼Œå¾ˆå¤šæ–¹æ³•éƒ½å¯ä»¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶è¦æ ¹æ®éœ€æ±‚ä½¿ç”¨åˆé€‚çš„æ–¹æ³•ã€‚<br>åƒåœ¾ä»£ç äº§ç”Ÿçš„å¾ˆå¤§åŸå› æ˜¯æ•°ç»„å¸¸ç”¨æ–¹æ³•ä½¿ç”¨ä¸å½“ï¼Œè¿™é‡Œæœ‰ä¸€ä¸‹éœ€è¦æ³¨æ„çš„ç‚¹ï¼š</p>
<h4 id="array-includes-å’Œ-array-indexOf"><a href="#array-includes-å’Œ-array-indexOf" class="headerlink" title="array.includes() å’Œ array.indexOf()"></a>array.includes() å’Œ array.indexOf()</h4><p>array.includes() è¿”å›å¸ƒå°”å€¼ï¼Œarray.indexOf() è¿”å›æ•°ç»„å­é¡¹çš„ç´¢å¼•ã€‚indexOf ä¸€å®šè¦åœ¨éœ€è¦ç´¢å¼•å€¼çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨indexOfï¼Œéœ€è¦ç”¨åˆ°ç´¢å¼•å€¼</span><br><span class="line">const index = arr.indexOf(1) // 0</span><br><span class="line">if (~index) &#123; // è‹¥index === -1ï¼Œ~indexå¾—åˆ°0ï¼Œåˆ¤æ–­ä¸æˆç«‹ï¼›è‹¥indexä¸ä¸º-1ï¼Œåˆ™~indexå¾—åˆ°é0ï¼Œåˆ¤æ–­æˆç«‹ã€‚</span><br><span class="line">    arr.spilce(index, 1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨includesï¼Œä¸éœ€è¦ç”¨åˆ°ç´¢å¼•å€¼</span><br><span class="line">// æ­¤æ—¶è‹¥ç”¨indexOfä¼šé€ æˆä¸Šä¸‹æ–‡ä¸Šçš„é˜…è¯»è´Ÿæ‹…ï¼šåˆ°åº•å…¶ä»–åœ°æ–¹æœ‰æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªindex?</span><br><span class="line">const isExist = arr.includes(6) // true</span><br><span class="line">if (!isExist) &#123;</span><br><span class="line">    arr.push(6)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="array-find-ã€-array-findIndex-å’Œ-array-some"><a href="#array-find-ã€-array-findIndex-å’Œ-array-some" class="headerlink" title="array.find() ã€ array.findIndex() å’Œ array.some()"></a>array.find() ã€ array.findIndex() å’Œ array.some()</h4><p>array.find()è¿”å›å€¼æ˜¯ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„å­é¡¹ï¼Œarray.findIndex() è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„å­é¡¹çš„ä¸‹æ ‡ï¼Œarray.some() è¿”å›æœ‰æ— å¤åˆæ¡ä»¶çš„å­é¡¹ï¼Œå¦‚æœ‰è¿”å›trueï¼Œè‹¥æ— è¿”å›falseã€‚æ³¨æ„è¿™ä¸‰ä¸ªéƒ½æ˜¯çŸ­è·¯æ“ä½œï¼Œå³æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ä¹‹åå°±ä¸åœ¨ç»§ç»­éå†ã€‚<br>åœ¨éœ€è¦æ•°ç»„çš„å­é¡¹çš„æ—¶å€™ä½¿ç”¨array.find() ï¼›éœ€è¦å­é¡¹çš„ç´¢å¼•å€¼çš„æ—¶å€™ä½¿ç”¨ array.findIndex() ï¼›è€Œè‹¥åªéœ€è¦çŸ¥é“æœ‰æ— ç¬¦åˆæ¡ä»¶çš„å­é¡¹ï¼Œåˆ™ç”¨ array.some()ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [&#123;label: &apos;ç”·&apos;, value: 0&#125;, &#123;label: &apos;å¥³&apos;, value: 1&#125;, &#123;label: &apos;ä¸ç”·ä¸å¥³&apos;, value: 2&#125;]</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨some</span><br><span class="line">const isExist = arr.some(item =&gt; item.value === 2)</span><br><span class="line">if (isExist) &#123;</span><br><span class="line">    console.log(&apos;å“ˆå“ˆå“ˆæ‰¾åˆ°äº†&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨find</span><br><span class="line">const item = arr.find(item =&gt; item.value === 2)</span><br><span class="line">if (item) &#123;</span><br><span class="line">    console.log(item.label)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨findIndex</span><br><span class="line">const index = arr.findIndex(item =&gt; item.value === 2)</span><br><span class="line">if (~index) &#123;</span><br><span class="line">    const delItem = arr[index]</span><br><span class="line">    arr.splice(index, 1)</span><br><span class="line">    console.log(`ä½ åˆ é™¤äº†$&#123;delItem.label&#125;`)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å»ºè®®åœ¨åªéœ€è¦å¸ƒå°”å€¼çš„æ—¶å€™å’Œæ•°ç»„å­é¡¹æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—çš„æ—¶å€™ä½¿ç”¨</p>
<h5 id="array-some"><a href="#array-some" class="headerlink" title="array.some()"></a>array.some()</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å½“å­åŒ…å«æ•°å­—0çš„æ—¶å€™å¯èƒ½å‡ºé”™</span><br><span class="line">const arr = [0, 1, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">// æ­£ç¡®</span><br><span class="line">const isExist = arr.some(item =&gt; item === 0)</span><br><span class="line">if (isExist) &#123;</span><br><span class="line">    console.log(&apos;å­˜åœ¨è¦æ‰¾çš„å­é¡¹ï¼Œå¾ˆèˆ’æœ~&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é”™è¯¯</span><br><span class="line">const isExist = arr.find(item =&gt; item === 0)</span><br><span class="line">if (isExist) &#123; // isExistæ­¤æ—¶æ˜¯0ï¼Œéšå¼è½¬æ¢ä¸ºå¸ƒå°”å€¼åæ˜¯false</span><br><span class="line">    console.log(&apos;æ‰§è¡Œä¸åˆ°è¿™é‡Œ~&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// å½“å­é¡¹åŒ…å«ç©ºå­—ç¬¦ä¸²çš„æ—¶å€™ä¹Ÿå¯èƒ½å‡ºé”™</span><br><span class="line">const arr = [&apos;&apos;, &apos;asdf&apos;, &apos;qwer&apos;, &apos;...&apos;]</span><br><span class="line"></span><br><span class="line">// æ­£ç¡®</span><br><span class="line">const isExist = arr.some(item =&gt; item === &apos;&apos;)</span><br><span class="line">if (isExist) &#123;</span><br><span class="line">    console.log(&apos;å­˜åœ¨è¦æ‰¾çš„å­é¡¹ï¼Œå¾ˆèˆ’æœ~&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é”™è¯¯</span><br><span class="line">const isExist = arr.find(item =&gt; item === &apos;&apos;)</span><br><span class="line">if (isExist) &#123; // isExistæ­¤æ—¶æ˜¯&apos;&apos;ï¼Œéšå¼è½¬æ¢ä¸ºå¸ƒå°”å€¼åæ˜¯false</span><br><span class="line">    console.log(&apos;æ‰§è¡Œä¸åˆ°è¿™é‡Œ~&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="array-find-å’Œ-array-filter"><a href="#array-find-å’Œ-array-filter" class="headerlink" title="array.find() å’Œ array.filter()"></a>array.find() å’Œ array.filter()</h4><p>åªéœ€è¦çŸ¥é“ array.filter() è¿”å›çš„æ˜¯æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å­é¡¹ç»„æˆçš„æ•°ç»„ï¼Œä¼šéå†æ‰€æœ‰æ•°ç»„ï¼›è€Œ array.find() åªè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å­é¡¹ï¼Œæ˜¯çŸ­è·¯æ“ä½œã€‚ä¸å†ä¸¾ä¾‹~</p>
<h4 id="åˆç†ä½¿ç”¨-Set-æ•°æ®ç»“æ„"><a href="#åˆç†ä½¿ç”¨-Set-æ•°æ®ç»“æ„" class="headerlink" title="åˆç†ä½¿ç”¨ Set æ•°æ®ç»“æ„"></a>åˆç†ä½¿ç”¨ Set æ•°æ®ç»“æ„</h4><p>ç”±äº es6 åŸç”Ÿæä¾›äº† Set æ•°æ®ç»“æ„ï¼Œè€Œ Set å¯ä»¥ä¿è¯å­é¡¹ä¸é‡å¤ï¼Œä¸”å’Œæ•°ç»„è½¬æ¢ååˆ†æ–¹ä¾¿ï¼Œæ‰€ä»¥åœ¨ä¸€äº›å¯èƒ½ä¼šæ¶‰åŠé‡å¤æ·»åŠ çš„åœºæ™¯ä¸‹å¯ä»¥ç›´æ¥ä½¿ç”¨ Set ä»£æ›¿ Arrayï¼Œé¿å…äº†å¤šä¸ªåœ°æ–¹é‡å¤åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨è¯¥å­é¡¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const set = new Set()</span><br><span class="line">set.add(1)</span><br><span class="line">set.add(1)</span><br><span class="line">set.add(1)</span><br><span class="line">set.size // 1</span><br><span class="line">const arr = [...set] // arr: [1]</span><br></pre></td></tr></table></figure>

<h4 id="å¼ºå¤§çš„reduce"><a href="#å¼ºå¤§çš„reduce" class="headerlink" title="å¼ºå¤§çš„reduce"></a>å¼ºå¤§çš„reduce</h4><p>array.reduce éå†å¹¶å°†å½“å‰æ¬¡å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºä¸‹ä¸€æ¬¡å›è°ƒå‡½æ•°æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚<br>åˆ©ç”¨ array.reduce æ›¿ä»£ä¸€äº›éœ€è¦å¤šæ¬¡éå†çš„åœºæ™¯ï¼Œå¯ä»¥æé«˜ä»£ç è¿è¡Œæ•ˆç‡ã€‚<br>å‡å¦‚æœ‰å¦‚ä¸‹æ¯ä¸ªå…ƒç´ éƒ½ç”±å­—æ¯â€™sâ€™åŠ æ•°å­—ç»„æˆçš„æ•°ç»„arrï¼Œç°åœ¨æ‰¾å‡ºå…¶ä¸­æœ€å¤§çš„æ•°å­—ï¼šï¼ˆarrä¸ä¸ºç©ºï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [&apos;s0&apos;, &apos;s4&apos;, &apos;s1&apos;, &apos;s2&apos;, &apos;s8&apos;, &apos;s3&apos;]</span><br><span class="line"></span><br><span class="line">// æ–¹æ³•1  è¿›è¡Œäº†å¤šæ¬¡éå†ï¼Œä½æ•ˆ</span><br><span class="line">const newArr = arr.map(item =&gt; item.substring(1)).map(item =&gt; Number(item))</span><br><span class="line">const maxS = Math.max(...newArr)</span><br><span class="line"></span><br><span class="line">// æ–¹æ³•2  ä¸€æ¬¡éå†</span><br><span class="line">const maxS = arr.reduce((prev, cur) =&gt; &#123;</span><br><span class="line">  const curIndex = Number(cur.replace(&apos;s&apos;, &apos;&apos;))</span><br><span class="line">  return curIndex &gt; prev ? curIndex : prev</span><br><span class="line">&#125;, 0)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const arr = [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line"> // æ–¹æ³•1  éå†äº†ä¸¤æ¬¡ï¼Œæ•ˆç‡ä½</span><br><span class="line">const value = arr.filter(item =&gt; item % 2 === 0).map(item =&gt; (&#123; value: item &#125;))</span><br><span class="line"></span><br><span class="line">// æ–¹æ³•1  ä¸€æ¬¡éå†ï¼Œæ•ˆç‡é«˜</span><br><span class="line">const value = arr.reduce((prev, curr) =&gt; &#123;</span><br><span class="line">    return curr % 2 === 0 ? [...prev, curr] : prev</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ç”¨ reduce åšä¸‹é¢è¿™æ ·çš„å¤„ç†æ¥ç”Ÿæˆæƒ³è¦çš„ html ç»“æ„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åç«¯è¿”å›æ•°æ®</span><br><span class="line">const data = &#123;</span><br><span class="line">  &apos;if _ then s9&apos;: [</span><br><span class="line">    &apos;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&apos;,</span><br><span class="line">    &apos;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&apos;,</span><br><span class="line">    &apos;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&apos;</span><br><span class="line">    ],</span><br><span class="line">  &apos;if C then s4&apos;: [</span><br><span class="line">    &apos;å½“æœ‰æ¡ä»¶æ—¶æ—¶,ç»“æ„æ„ä»¶æ»¡è¶³è¦æ±‚,è¦æ±‚å±äºå®‰å…¨æ€§ã€é€‚ç”¨æ€§å’Œè€ä¹…æ€§&apos;,</span><br><span class="line">    &apos;å½“æœ‰æ¡ä»¶æ—¶æ—¶,ä½å®…ç»“æ„æ»¡è¶³è¦æ±‚,è¦æ±‚å±äºå®‰å…¨æ€§ã€é€‚ç”¨æ€§å’Œè€ä¹…æ€§&apos;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const ifthens = Object.entries(data).reduce((prev, cur) =&gt; &#123;</span><br><span class="line">  const values = cur[1].reduce((prev, cur) =&gt; `$&#123;prev&#125;&lt;p&gt;$&#123;cur&#125;&lt;/p&gt;`, &apos;&apos;)</span><br><span class="line">  return `</span><br><span class="line">    $&#123;prev&#125;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">      &lt;p&gt;$&#123;cur[0]&#125;&lt;/p&gt;</span><br><span class="line">      $&#123;values&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  `</span><br><span class="line">&#125;, &apos;&apos;)</span><br><span class="line"></span><br><span class="line">const html = `</span><br><span class="line">  &lt;ul class=&quot;nlp-notify-body&quot;&gt;</span><br><span class="line">    $&#123;ifthens&#125;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">`</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆçš„htmlç»“æ„å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul class=&quot;nlp-notify-body&quot;&gt;            </span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;p&gt;if _ then s9&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;ä½œç”¨å±äºå„ç§,ç»“æ„å±äºä½å®…,ç»“æ„èƒ½æ‰¿å—ä½œç”¨,ä½œç”¨å±äºåœ¨æ­£å¸¸å»ºé€ å’Œæ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿ&lt;/p&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">    &lt;p&gt;if C then s4&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;å½“æœ‰æ¡ä»¶æ—¶æ—¶,ç»“æ„æ„ä»¶æ»¡è¶³è¦æ±‚,è¦æ±‚å±äºå®‰å…¨æ€§ã€é€‚ç”¨æ€§å’Œè€ä¹…æ€§&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;å½“æœ‰æ¡ä»¶æ—¶æ—¶,ä½å®…ç»“æ„æ»¡è¶³è¦æ±‚,è¦æ±‚å±äºå®‰å…¨æ€§ã€é€‚ç”¨æ€§å’Œè€ä¹…æ€§&lt;/p&gt;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºæœç´¢åŠŸèƒ½</title>
    <url>/2019/09/25/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<p><img src="/images/search.png" alt><img src="/images/s2.png" alt></p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;view class=&quot;weui-search-bar&quot;&gt;</span><br><span class="line">   &lt;view class=&quot;weui-search-bar__form&quot;&gt;</span><br><span class="line">    &lt;view class=&quot;weui-search-bar__box&quot;&gt;</span><br><span class="line">      &lt;icon class=&quot;weui-icon-search_in-box&quot; type=&quot;search&quot; size=&quot;14&quot;&gt;&lt;/icon&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; class=&quot;weui-search-bar__input&quot; placeholder=&quot;æœç´¢...&quot; value=&quot;&#123;&#123;wxSearchData.value&#125;&#125;&quot; bindinput=&quot;wxSearchInput&quot; bindconfirm=&quot;wxSearchConfirm&quot; /&gt;</span><br><span class="line">      &lt;view class=&quot;weui-icon-clear&quot; wx:if=&quot;&#123;&#123;wxSearchData.value.length &gt; 0&#125;&#125;&quot; bindtap=&quot;wxSearchClear&quot;&gt;</span><br><span class="line">        &lt;icon type=&quot;clear&quot; size=&quot;14&quot;&gt;&lt;/icon&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">    &lt;view class=&quot;weui-search-bar__cancel-btn&quot; bindtap=&quot;wxSearchConfirm&quot;&gt;</span><br><span class="line">         &lt;text wx:if=&quot;&#123;&#123;wxSearchData.value.length&gt;0&#125;&#125;&quot; data-key=&apos;search&apos;&gt;æœç´¢&lt;/text&gt;</span><br><span class="line">         &lt;text wx:else data-key=&apos;back&apos;&gt;å–æ¶ˆ&lt;/text&gt;</span><br><span class="line">     &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">&lt;view class=&quot;wxSearch&quot; style=&quot;&apos;block&apos;;height:&#123;&#123;wxSearchData.view.seachHeight&#125;&#125;px;top:&#123;&#123;wxSearchData.view.barHeight&#125;&#125;px;&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;view class=&quot;wxSearchInner&quot;&gt;</span><br><span class="line">    &lt;!-- æœç´¢æç¤ºéƒ¨åˆ† --&gt;</span><br><span class="line">    &lt;view class=&quot;wxSearchMindKey&quot;&gt;</span><br><span class="line">      &lt;view class=&quot;wxSearchMindKeyList&quot;&gt;</span><br><span class="line">        &lt;block wx:for=&quot;&#123;&#123;wxSearchData.tipKeys&#125;&#125;&quot; wx:key=&quot;&#123;&#123;index&#125;&#125;&quot;&gt;  </span><br><span class="line">          &lt;view class=&quot;wxSearchMindKeyItem&quot; bindtap=&quot;wxSearchKeyTap&quot; data-key=&quot;&#123;&#123;item&#125;&#125;&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/view&gt;</span><br><span class="line">        &lt;/block&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line"></span><br><span class="line">    &lt;view wx:if=&quot;&#123;&#123;wxSearchData.his[0]&#125;&#125;&quot; class=&quot;wxSearchHistory&quot; style=&quot;display:&#123;&#123;wxSearchData.value.length&gt;0 ? &apos;none&apos;:&apos;block&apos;&#125;&#125;&quot;&gt;</span><br><span class="line">      &lt;view class=&quot;wxSearchHistoryItem&quot;&gt;</span><br><span class="line">        &lt;text class=&quot;wxSearchHistoryItemTitle&quot;&gt;æœç´¢è®°å½•&lt;/text&gt;</span><br><span class="line">        &lt;!--text class=&quot;wxSearchHistoryItemDel&quot; bindtap=&quot;wxSearchDeleteAll&quot;&gt;åˆ é™¤&lt;/text--&gt;</span><br><span class="line">        &lt;icon type=&quot;clear&quot; bindtap=&quot;wxSearchDeleteAll&quot; size=&quot;18&quot; /&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">      &lt;view class=&quot;wxSearchKeyList&quot;&gt;</span><br><span class="line">        &lt;block wx:for=&quot;&#123;&#123;wxSearchData.his&#125;&#125;&quot; wx:key=&quot;&#123;&#123;index&#125;&#125;&quot;&gt;</span><br><span class="line">          &lt;view class=&quot;wxSearchKeyItem&quot; bindtap=&quot;wxSearchKeyTap&quot; data-key=&quot;&#123;&#123;item&#125;&#125;&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/view&gt;</span><br><span class="line">        &lt;/block&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line"></span><br><span class="line">    &lt;view class=&quot;wxSearchKey&quot; style=&quot;display:&#123;&#123;wxSearchData.value.length&gt;0 ? &apos;none&apos;:&apos;block&apos;&#125;&#125;&quot;&gt;</span><br><span class="line">      &lt;text wx:if=&quot;&#123;&#123;wxSearchData.hotKeys[0]&#125;&#125;&quot; class=&quot;wxSearchTitle&quot;&gt;æœç´¢çƒ­ç‚¹&lt;/text&gt;</span><br><span class="line">      &lt;view class=&quot;wxSearchKeyList&quot;&gt;</span><br><span class="line">        &lt;block wx:for=&quot;&#123;&#123;wxSearchData.hotKeys&#125;&#125;&quot; wx:key=&quot;&#123;&#123;index&#125;&#125;&quot;&gt;</span><br><span class="line">          &lt;view class=&quot;wxSearchKeyItem&quot; bindtap=&quot;wxSearchKeyTap&quot; data-key=&quot;&#123;&#123;item&#125;&#125;&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/view&gt;</span><br><span class="line">        &lt;/block&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<p>æœç´¢æç¤ºéƒ¨åˆ†å¦‚å›¾äºŒ ç›¸å½“äºè”æƒ³è¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/** æ•´ä¸ªåŒºåŸŸ */</span><br><span class="line">.wxSearch&#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 86rpx;</span><br><span class="line">  left: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  border-top: 2rpx #eee solid;</span><br><span class="line">  background-color: rgba(200, 200, 200, 0.1);</span><br><span class="line">  z-index: 9999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æœç´¢æ¡†ä¸‹é¢çš„æç¤ºåŒºåŸŸ */</span><br><span class="line">.wxSearchInner&#123;</span><br><span class="line">  background-color: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æœç´¢çƒ­ç‚¹æ ‡é¢˜ */</span><br><span class="line">.wxSearchTitle&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  padding: 20rpx 10rpx 10rpx 20rpx;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">  text-align: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æç¤ºæ ·å¼ */</span><br><span class="line">.wxSearchMindKeyItem&#123;</span><br><span class="line">  padding: 20rpx 10rpx 20rpx 30rpx;</span><br><span class="line">  margin-left: 20rpx;</span><br><span class="line">  border-bottom: 2rpx solid #eee;</span><br><span class="line">  display: flex;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æ ‡ç­¾æ ·å¼ */</span><br><span class="line">.wxSearchKeyList&#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: row;</span><br><span class="line">  flex-wrap: wrap;</span><br><span class="line">  border-bottom: 2rpx solid #eee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æ ‡ç­¾æ ·å¼ */</span><br><span class="line">.wxSearchKeyItem&#123;</span><br><span class="line">  flex: 0 0 18%;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">  text-align: center;</span><br><span class="line">  border: 2rpx solid #eee;</span><br><span class="line">  margin: 10rpx;</span><br><span class="line">  padding: 8rpx 10rpx 8rpx 10rpx;</span><br><span class="line">  border-radius: 0px;</span><br><span class="line">  background-color: rgba(200, 200, 200, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æœç´¢è®°å½•æ ‡é¢˜æ  */</span><br><span class="line">.wxSearchHistoryItem&#123;</span><br><span class="line">  padding-left: 20rpx;</span><br><span class="line">  padding-top: 20rpx;</span><br><span class="line">  padding-right: 10rpx;</span><br><span class="line">  padding-bottom: 10rpx;</span><br><span class="line">  display: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æœç´¢è®°å½•æ ‡é¢˜ */</span><br><span class="line">.wxSearchHistoryItemTitle&#123;</span><br><span class="line">  flex: 8;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** æœç´¢è®°å½•åˆ é™¤æŒ‰é’® */</span><br><span class="line">.wxSearchHistoryItemDel&#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">  font-size: 26rpx;</span><br><span class="line">  text-align: center;</span><br><span class="line">  padding-top:4rpx;</span><br><span class="line">  padding-bottom: 4rpx;</span><br><span class="line">  border: 2rpx solid #eee;</span><br><span class="line">  border-radius: 4rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** ---------------------- ä»¥ä¸‹æ˜¯æœç´¢æ¡†çš„ we-ui æ ·å¼--------------------------------*/</span><br><span class="line"></span><br><span class="line">/*!</span><br><span class="line"> * WeUI v1.1.1 (https://github.com/weui/weui-wxss)</span><br><span class="line"> * Copyright 2017 Tencent, Inc.</span><br><span class="line"> * Licensed under the MIT license</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">.weui-search-bar &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  padding: 16rpx 20rpx;</span><br><span class="line">  display: -webkit-box;</span><br><span class="line">  display: -webkit-flex;</span><br><span class="line">  display: flex;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  background-color: #efeff4;</span><br><span class="line">  border-top: 1rpx solid #d7d6dc;</span><br><span class="line">  border-bottom: 1rpx solid #d7d6dc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-icon-search &#123;</span><br><span class="line">  margin-right: 16rpx;</span><br><span class="line">  font-size: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-icon-search_in-box &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 12rpx;</span><br><span class="line">  top: 30rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__text &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__form &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  -webkit-box-flex: 1;</span><br><span class="line">  -webkit-flex: auto;</span><br><span class="line">  flex: auto;</span><br><span class="line">  border-radius: 5px;</span><br><span class="line">  background: #fff;</span><br><span class="line">  border: 1rpx solid #e6e6ea;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__box &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  padding-left: 30px;</span><br><span class="line">  padding-right: 30px;</span><br><span class="line">  width: 100%;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__input &#123;</span><br><span class="line">  height: 28px;</span><br><span class="line">  line-height: 28px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-icon-clear &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  padding: 7px 8px;</span><br><span class="line">  font-size: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__label &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  z-index: 2;</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #9b9b9b;</span><br><span class="line">  background: #fff;</span><br><span class="line">  line-height: 28px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.weui-search-bar__cancel-btn &#123;</span><br><span class="line">  margin-left: 10px;</span><br><span class="line">  line-height: 28px;</span><br><span class="line">  color: #09bb07;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æç¤ºé›†åˆ</span><br><span class="line">var __tipKeys = [];</span><br><span class="line">// æœç´¢å›è°ƒå‡½æ•° </span><br><span class="line">var __searchFunction = null;</span><br><span class="line">// è¿”å›å‡½æ•° </span><br><span class="line">var __goBackFunction = null;</span><br><span class="line">// åº”ç”¨å˜é‡</span><br><span class="line">var __that = null;</span><br><span class="line"></span><br><span class="line">// åˆå§‹åŒ–å‡½æ•°</span><br><span class="line">function init(that, hotKeys, tipKeys, searchFunction, goBackFunction) &#123;</span><br><span class="line"></span><br><span class="line">  __that = that;</span><br><span class="line">  __tipKeys = tipKeys;</span><br><span class="line">  __searchFunction = searchFunction;</span><br><span class="line">  __goBackFunction = goBackFunction;</span><br><span class="line"></span><br><span class="line">  var temData = &#123;&#125;;</span><br><span class="line">  var barHeight = 43;</span><br><span class="line">  var view = &#123;</span><br><span class="line">    barHeight: barHeight</span><br><span class="line">  &#125;</span><br><span class="line">  temData.hotKeys = hotKeys;</span><br><span class="line"></span><br><span class="line">  wx.getSystemInfo(&#123;</span><br><span class="line">    success: function (res) &#123;</span><br><span class="line">      var wHeight = res.windowHeight;</span><br><span class="line">      view.seachHeight = wHeight - barHeight;</span><br><span class="line">      temData.view = view;</span><br><span class="line">      __that.setData(&#123;</span><br><span class="line">        wxSearchData: temData</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  getHisKeys(__that);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æœç´¢æ¡†è¾“å…¥æ—¶å€™æ“ä½œ</span><br><span class="line">function wxSearchInput(e) &#123;</span><br><span class="line">  var inputValue = e.detail.value;</span><br><span class="line">  // é¡µé¢æ•°æ®</span><br><span class="line">  var temData = __that.data.wxSearchData;</span><br><span class="line">  // å¯»æ‰¾æç¤ºå€¼ </span><br><span class="line">  var tipKeys = [];</span><br><span class="line">  if (inputValue &amp;&amp; inputValue.length &gt; 0) &#123;</span><br><span class="line">    for (var i = 0; i &lt; __tipKeys.length; i++) &#123;</span><br><span class="line">      var mindKey = __tipKeys[i];</span><br><span class="line">      // åŒ…å«å­—ç¬¦ä¸²</span><br><span class="line">      if (mindKey.indexOf(inputValue) != -1) &#123;</span><br><span class="line">        tipKeys.push(mindKey);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // æ›´æ–°æ•°æ®</span><br><span class="line">  temData.value = inputValue;</span><br><span class="line">  temData.tipKeys = tipKeys;</span><br><span class="line">  // æ›´æ–°è§†å›¾</span><br><span class="line">  __that.setData(&#123;</span><br><span class="line">    wxSearchData: temData</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ¸…ç©ºè¾“å…¥</span><br><span class="line">function wxSearchClear() &#123;</span><br><span class="line">  // é¡µé¢æ•°æ®</span><br><span class="line">  var temData = __that.data.wxSearchData;</span><br><span class="line">  // æ›´æ–°æ•°æ®</span><br><span class="line">  temData.value = &quot;&quot;;</span><br><span class="line">  temData.tipKeys = [];</span><br><span class="line">  // æ›´æ–°è§†å›¾</span><br><span class="line">  __that.setData(&#123;</span><br><span class="line">    wxSearchData: temData</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç‚¹å‡»æç¤ºæˆ–è€…å…³é”®å­—ã€å†å²è®°å½•æ—¶çš„æ“ä½œ</span><br><span class="line">function wxSearchKeyTap(e) &#123;</span><br><span class="line">  search(e.target.dataset.key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ç¡®ä»»æˆ–è€…å›è½¦</span><br><span class="line">function wxSearchConfirm(e) &#123;</span><br><span class="line">  var key = e.target.dataset.key;</span><br><span class="line">  if (key == &apos;back&apos;) &#123;</span><br><span class="line">    __goBackFunction();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    search(__that.data.wxSearchData.value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function search(inputValue) &#123;</span><br><span class="line">  if (inputValue &amp;&amp; inputValue.length &gt; 0) &#123;</span><br><span class="line">    // æ·»åŠ å†å²è®°å½•</span><br><span class="line">    wxSearchAddHisKey(inputValue);</span><br><span class="line">    // æ›´æ–°</span><br><span class="line">    var temData = __that.data.wxSearchData;</span><br><span class="line">    temData.value = inputValue;</span><br><span class="line">    __that.setData(&#123;</span><br><span class="line">      wxSearchData: temData</span><br><span class="line">    &#125;);</span><br><span class="line">    // å›è°ƒæœç´¢</span><br><span class="line">    __searchFunction(inputValue);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¯»å–ç¼“å­˜</span><br><span class="line">function getHisKeys() &#123;</span><br><span class="line">  var value = [];</span><br><span class="line">  try &#123;</span><br><span class="line">    value = wx.getStorageSync(&apos;wxSearchHisKeys&apos;)</span><br><span class="line">    if (value) &#123;</span><br><span class="line">      // Do something with return value</span><br><span class="line">      var temData = __that.data.wxSearchData;</span><br><span class="line">      temData.his = value;</span><br><span class="line">      __that.setData(&#123;</span><br><span class="line">        wxSearchData: temData</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    // Do something when catch error</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ·»åŠ ç¼“å­˜</span><br><span class="line">function wxSearchAddHisKey(inputValue) &#123;</span><br><span class="line">  if (!inputValue || inputValue.length == 0) &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  var value = wx.getStorageSync(&apos;wxSearchHisKeys&apos;);</span><br><span class="line">  if (value) &#123;</span><br><span class="line">    if (value.indexOf(inputValue) &lt; 0) &#123;</span><br><span class="line">      value.unshift(inputValue);</span><br><span class="line">    &#125;</span><br><span class="line">    wx.setStorage(&#123;</span><br><span class="line">      key: &quot;wxSearchHisKeys&quot;,</span><br><span class="line">      data: value,</span><br><span class="line">      success: function () &#123;</span><br><span class="line">        getHisKeys(__that);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    value = [];</span><br><span class="line">    value.push(inputValue);</span><br><span class="line">    wx.setStorage(&#123;</span><br><span class="line">      key: &quot;wxSearchHisKeys&quot;,</span><br><span class="line">      data: value,</span><br><span class="line">      success: function () &#123;</span><br><span class="line">        getHisKeys(__that);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ é™¤ç¼“å­˜</span><br><span class="line">function wxSearchDeleteAll() &#123;</span><br><span class="line">  wx.removeStorage(&#123;</span><br><span class="line">    key: &apos;wxSearchHisKeys&apos;,</span><br><span class="line">    success: function (res) &#123;</span><br><span class="line">      var value = [];</span><br><span class="line">      var temData = __that.data.wxSearchData;</span><br><span class="line">      temData.his = value;</span><br><span class="line">      __that.setData(&#123;</span><br><span class="line">        wxSearchData: temData</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¯¼å‡ºæ¥å£</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  init: init, //åˆå§‹åŒ–å‡½æ•°</span><br><span class="line">  wxSearchInput: wxSearchInput,// è¾“å…¥å˜åŒ–æ—¶çš„æ“ä½œ</span><br><span class="line">  wxSearchKeyTap: wxSearchKeyTap, // ç‚¹å‡»æç¤ºæˆ–è€…å…³é”®å­—ã€å†å²è®°å½•æ—¶çš„æ“ä½œ</span><br><span class="line">  wxSearchDeleteAll: wxSearchDeleteAll, // åˆ é™¤æ‰€æœ‰çš„å†å²è®°å½•</span><br><span class="line">  wxSearchConfirm: wxSearchConfirm, // æœç´¢å‡½æ•°</span><br><span class="line">  wxSearchClear: wxSearchClear,  // æ¸…ç©ºå‡½æ•°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>###ä¸Šé¢è¿™ä¸ªjsæ˜¯ä»¥åå“ªé‡Œéœ€è¦è°ƒç”¨å³å¯ ä¸‹é¢è¿™ä¸ªjsæ˜¯æˆ‘è‡ªå·±è°ƒç”¨çš„ä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 1 å¯¼å…¥jsæ–‡ä»¶</span><br><span class="line">var WxSearch = require(&apos;../wxSearch/wxSearch.js&apos;);//å†™ä¸Šé¢é‚£ä¸ªjsçš„è·¯å¾„å°±è¡Œäº†</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line">  onLoad: function () &#123;</span><br><span class="line">    // 2 æœç´¢æ åˆå§‹åŒ–</span><br><span class="line">    var that = this;</span><br><span class="line">    WxSearch.init(</span><br><span class="line">      that,  // æœ¬é¡µé¢ä¸€ä¸ªå¼•ç”¨</span><br><span class="line">      [&apos;æœç´¢å†…å®¹&apos;, &apos;æœç´¢å†…å®¹&apos;, &quot;æœç´¢å†…å®¹&quot;, &quot;æœç´¢å†…å®¹&quot;, &apos;æœç´¢å†…å®¹&apos;, &apos;æœç´¢å†…å®¹&apos;], // çƒ­ç‚¹æœç´¢æ¨èï¼Œ[]è¡¨ç¤ºä¸ä½¿ç”¨</span><br><span class="line">      [&apos;æœç´¢çš„ç›¸å…³å†…å®¹&apos;, &apos;æœç´¢çš„ç›¸å…³å†…å®¹&apos;, &apos;æœç´¢çš„ç›¸å…³å†…å®¹&apos;, &quot;æœç´¢çš„ç›¸å…³å†…å®¹&quot;],// æœç´¢åŒ¹é…ï¼Œ[]è¡¨ç¤ºä¸ä½¿ç”¨</span><br><span class="line">      that.mySearchFunction, // æä¾›ä¸€ä¸ªæœç´¢å›è°ƒå‡½æ•°</span><br><span class="line">      that.myGobackFunction //æä¾›ä¸€ä¸ªè¿”å›å›è°ƒå‡½æ•°</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // 3 è½¬å‘å‡½æ•°ï¼Œå›ºå®šéƒ¨åˆ†ï¼Œç›´æ¥æ‹·è´å³å¯</span><br><span class="line">  wxSearchInput: WxSearch.wxSearchInput,  // è¾“å…¥å˜åŒ–æ—¶çš„æ“ä½œ</span><br><span class="line">  wxSearchKeyTap: WxSearch.wxSearchKeyTap,  // ç‚¹å‡»æç¤ºæˆ–è€…å…³é”®å­—ã€å†å²è®°å½•æ—¶çš„æ“ä½œ</span><br><span class="line">  wxSearchDeleteAll: WxSearch.wxSearchDeleteAll, // åˆ é™¤æ‰€æœ‰çš„å†å²è®°å½•</span><br><span class="line">  wxSearchConfirm: WxSearch.wxSearchConfirm,  // æœç´¢å‡½æ•°</span><br><span class="line">  wxSearchClear: WxSearch.wxSearchClear,  // æ¸…ç©ºå‡½æ•°</span><br><span class="line"></span><br><span class="line">  // 4 æœç´¢å›è°ƒå‡½æ•°  </span><br><span class="line">  mySearchFunction: function (value) &#123;</span><br><span class="line">    // do your job here</span><br><span class="line">    // ç¤ºä¾‹ï¼šè·³è½¬</span><br><span class="line">    wx.redirectTo(&#123;</span><br><span class="line">      url: &apos;../index/index?searchValue=&apos; + value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // 5 è¿”å›å›è°ƒå‡½æ•°</span><br><span class="line">  myGobackFunction: function () &#123;</span><br><span class="line">    // do your job here</span><br><span class="line">    // ç¤ºä¾‹ï¼šè¿”å›</span><br><span class="line">    wx.redirectTo(&#123;</span><br><span class="line">      url: &apos;../index/index?searchValue=è¿”å›&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>å¸¸ç”¨JSå·¥å…·å‡½æ•°</title>
    <url>/2020/08/08/%E5%B8%B8%E7%94%A8JS%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<h3 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h3><p>æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ŒèŠ‚æµç”¨äºå‡å°‘å‡½æ•°è¯·æ±‚æ¬¡æ•°ï¼Œä¸é˜²æŠ–ä¸åŒï¼ŒèŠ‚æµæ˜¯åœ¨ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;function&#125; func - æ‰§è¡Œå‡½æ•°</span><br><span class="line"> * @param &#123;number&#125; delay - å»¶è¿Ÿæ—¶é—´</span><br><span class="line"> * @return &#123;function&#125;</span><br><span class="line"> */</span><br><span class="line">function throttle(func, delay)&#123;</span><br><span class="line">  let timer = null</span><br><span class="line">  return function(...arg)&#123;</span><br><span class="line">    if(!timer)&#123;</span><br><span class="line">      timer = setTimeout(()=&gt;&#123;</span><br><span class="line">        func.apply(this, arg)</span><br><span class="line">        timer = null</span><br><span class="line">      &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">let scrollHandler = throttle(function(e)&#123;</span><br><span class="line">  console.log(e)</span><br><span class="line">&#125;, 500)</span><br><span class="line">window.onscroll = scrollHandler</span><br></pre></td></tr></table></figure>

<h3 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h3><p>æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œé˜²æŠ–ç”¨äºå‡å°‘å‡½æ•°è¯·æ±‚æ¬¡æ•°ï¼Œå¯¹äºé¢‘ç¹çš„è¯·æ±‚ï¼Œåªæ‰§è¡Œè¿™äº›è¯·æ±‚çš„æœ€åä¸€æ¬¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//åŸºç¡€ç‰ˆæœ¬</span><br><span class="line">function debounce(func, wait = 300)&#123;</span><br><span class="line">  let timer = null;</span><br><span class="line">  return function()&#123;</span><br><span class="line">    if(timer !== null)&#123;</span><br><span class="line">      clearTimeout(timer);</span><br><span class="line">    &#125;</span><br><span class="line">    timer = setTimeout(func.bind(this),wait);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//æ”¹è¿›ç‰ˆæœ¬--æ·»åŠ æ˜¯å¦ç«‹å³æ‰§è¡Œçš„å‚æ•°ï¼Œå› ä¸ºæœ‰äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›å‡½æ•°èƒ½ç«‹å³æ‰§è¡Œ</span><br><span class="line">/**</span><br><span class="line"> * @param &#123;function&#125; func - æ‰§è¡Œå‡½æ•°</span><br><span class="line"> * @param &#123;number&#125; wait - ç­‰å¾…æ—¶é—´</span><br><span class="line"> * @param &#123;boolean&#125; immediate - æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class="line"> * @return &#123;function&#125;</span><br><span class="line"> */</span><br><span class="line">function debounce(func, wait = 300, immediate = false)&#123;</span><br><span class="line">  let timer, ctx;</span><br><span class="line">  let later = (arg) =&gt; setTimeout(()=&gt;&#123;</span><br><span class="line">    func.apply(ctx, arg)</span><br><span class="line">    timer = ctx = null</span><br><span class="line">  &#125;, wait)</span><br><span class="line">  return function(...arg)&#123;</span><br><span class="line">    if(!timer)&#123;</span><br><span class="line">      timer = later(arg)</span><br><span class="line">      ctx = this</span><br><span class="line">      if(immediate)&#123;</span><br><span class="line">        func.apply(ctx, arg)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      clearTimeout(timer)</span><br><span class="line">      timer = later(arg)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">let scrollHandler = debounce(function(e)&#123;</span><br><span class="line">  console.log(e)</span><br><span class="line">&#125;, 500)</span><br><span class="line">window.onscroll = scrollHandler</span><br></pre></td></tr></table></figure>

<h3 id="æ—¥æœŸæ ¼å¼åŒ–"><a href="#æ—¥æœŸæ ¼å¼åŒ–" class="headerlink" title="æ—¥æœŸæ ¼å¼åŒ–"></a>æ—¥æœŸæ ¼å¼åŒ–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;string&#125; format</span><br><span class="line"> * @param &#123;number&#125; timestamp - æ—¶é—´æˆ³</span><br><span class="line"> * @return &#123;string&#125; </span><br><span class="line"> */</span><br><span class="line">function formatDate(format=&apos;Y-M-D h:m&apos;, timestamp=Date.now())&#123;</span><br><span class="line">  let date = new Date(timestamp)</span><br><span class="line">  let dateInfo = &#123;</span><br><span class="line">    Y: date.getFullYear(),</span><br><span class="line">    M: date.getMonth()+1,</span><br><span class="line">    D: date.getDate(),</span><br><span class="line">    h: date.getHours(),</span><br><span class="line">    m: date.getMinutes(),</span><br><span class="line">    s: date.getSeconds()</span><br><span class="line">  &#125;</span><br><span class="line">  let formatNumber = (n) =&gt; n &gt; 10 ? n : &apos;0&apos; + n</span><br><span class="line">  let res = format</span><br><span class="line">    .replace(&apos;Y&apos;, dateInfo.Y)</span><br><span class="line">    .replace(&apos;M&apos;, dateInfo.M)</span><br><span class="line">    .replace(&apos;D&apos;, dateInfo.D)</span><br><span class="line">    .replace(&apos;h&apos;, formatNumber(dateInfo.h))</span><br><span class="line">    .replace(&apos;m&apos;, formatNumber(dateInfo.m))</span><br><span class="line">    .replace(&apos;s&apos;, formatNumber(dateInfo.s))</span><br><span class="line">  return res</span><br><span class="line">&#125;</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">formatDate() // &quot;2020-2-24 13:44&quot;</span><br><span class="line">formatDate(&apos;MæœˆDæ—¥ h:m&apos;) // &quot;2æœˆ24æ—¥ 13:45&quot;</span><br><span class="line">formatDate(&apos;h:m Y-M-D&apos;, 1582526221604) // &quot;14:37 2020-2-24&quot;</span><br></pre></td></tr></table></figure>

<h3 id="å¯¹è±¡å±æ€§å‰”é™¤"><a href="#å¯¹è±¡å±æ€§å‰”é™¤" class="headerlink" title="å¯¹è±¡å±æ€§å‰”é™¤"></a>å¯¹è±¡å±æ€§å‰”é™¤</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;object&#125; object</span><br><span class="line"> * @param &#123;string[]&#125; props</span><br><span class="line"> * @return &#123;object&#125;</span><br><span class="line"> */</span><br><span class="line">function omit(object, props=[])&#123;</span><br><span class="line">  let res = &#123;&#125;</span><br><span class="line">  Object.keys(object).forEach(key=&gt;&#123;</span><br><span class="line">    if(props.includes(key) === false)&#123;</span><br><span class="line">      res[key] = typeof object[key] === &apos;object&apos; &amp;&amp; object[key] !== null ?</span><br><span class="line">        JSON.parse(JSON.stringify(object[key])):</span><br><span class="line">        object[key]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return res</span><br><span class="line">&#125;</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">let data = &#123;</span><br><span class="line">  id: 1,</span><br><span class="line">  title: &apos;xxx&apos;,</span><br><span class="line">  comment: []</span><br><span class="line">&#125;</span><br><span class="line">omit(data, [&apos;id&apos;]) // &#123;title: &apos;xxx&apos;, comment: []&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç±»å‹åˆ¤æ–­"><a href="#ç±»å‹åˆ¤æ–­" class="headerlink" title="ç±»å‹åˆ¤æ–­"></a>ç±»å‹åˆ¤æ–­</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;any&#125; target </span><br><span class="line"> * @param &#123;string&#125; type </span><br><span class="line"> * @return &#123;boolean&#125; </span><br><span class="line"> */</span><br><span class="line">function isType(target, type) &#123;</span><br><span class="line">  let targetType = Object.prototype.toString.call(target).slice(8, -1).toLowerCase()</span><br><span class="line">  return targetType === type.toLowerCase()</span><br><span class="line">&#125;</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">isType([], &apos;Array&apos;) // true</span><br><span class="line">isType(/\d/, &apos;RegExp&apos;) // true</span><br><span class="line">isType(new Date(), &apos;Date&apos;) // true</span><br><span class="line">isType(function()&#123;&#125;, &apos;Function&apos;) // true</span><br><span class="line">isType(Symbol(1), &apos;Symbol&apos;) // true</span><br></pre></td></tr></table></figure>

<h3 id="ç”Ÿæˆä¸€å‘¨æ—¶é—´"><a href="#ç”Ÿæˆä¸€å‘¨æ—¶é—´" class="headerlink" title="ç”Ÿæˆä¸€å‘¨æ—¶é—´"></a>ç”Ÿæˆä¸€å‘¨æ—¶é—´</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getWeekTime()&#123;</span><br><span class="line">  return [...new Array(7)].map((j,i)=&gt; new Date(Date.now()+i*8.64e7).toLocaleDateString())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æå–é¡µé¢ä»£ç ä¸­æ‰€æœ‰ç½‘å€"><a href="#æå–é¡µé¢ä»£ç ä¸­æ‰€æœ‰ç½‘å€" class="headerlink" title="æå–é¡µé¢ä»£ç ä¸­æ‰€æœ‰ç½‘å€"></a>æå–é¡µé¢ä»£ç ä¸­æ‰€æœ‰ç½‘å€</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var aa = document.documentElement.outerHTML</span><br><span class="line">  .match(</span><br><span class="line">    /(url\(|src=|href=)[\&quot;\&apos;]*([^\&quot;\&apos;\(\)\&lt;\&gt;\[\] ]+)[\&quot;\&apos;\)]*|(http:\/\/[\w\-\.]+[^\&quot;\&apos;\(\)\&lt;\&gt;\[\] ]+)/gi</span><br><span class="line">  )</span><br><span class="line">  .join(&quot;\r\n&quot;)</span><br><span class="line">  .replace(/^(src=|href=|url\()[\&quot;\&apos;]*|[\&quot;\&apos;\&gt;\) ]*$/gim, &quot;&quot;);</span><br><span class="line">alert(aa);</span><br></pre></td></tr></table></figure>

<h3 id="è¿”å›é¡¶éƒ¨çš„é€šç”¨æ–¹æ³•"><a href="#è¿”å›é¡¶éƒ¨çš„é€šç”¨æ–¹æ³•" class="headerlink" title="è¿”å›é¡¶éƒ¨çš„é€šç”¨æ–¹æ³•"></a>è¿”å›é¡¶éƒ¨çš„é€šç”¨æ–¹æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function backTop(btnId) &#123;</span><br><span class="line">  var btn = document.getElementById(btnId);</span><br><span class="line">  var d = document.documentElement;</span><br><span class="line">  var b = document.body;</span><br><span class="line">  window.onscroll = set;</span><br><span class="line">  btn.style.display = &quot;none&quot;;</span><br><span class="line">  btn.onclick = function() &#123;</span><br><span class="line">    btn.style.display = &quot;none&quot;;</span><br><span class="line">    window.onscroll = null;</span><br><span class="line">    this.timer = setInterval(function() &#123;</span><br><span class="line">      d.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);</span><br><span class="line">      b.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1);</span><br><span class="line">      if (d.scrollTop + b.scrollTop == 0)</span><br><span class="line">        clearInterval(btn.timer, (window.onscroll = set));</span><br><span class="line">    &#125;, 10);</span><br><span class="line">  &#125;;</span><br><span class="line">  function set() &#123;</span><br><span class="line">    btn.style.display = d.scrollTop + b.scrollTop &gt; 100 ? &quot;block&quot; : &quot;none&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">backTop(&quot;goTop&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="å®ç°base64è§£ç "><a href="#å®ç°base64è§£ç " class="headerlink" title="å®ç°base64è§£ç "></a>å®ç°base64è§£ç </h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function base64_decode(data) &#123;</span><br><span class="line">  var b64 = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;;</span><br><span class="line">  var o1,</span><br><span class="line">    o2,</span><br><span class="line">    o3,</span><br><span class="line">    h1,</span><br><span class="line">    h2,</span><br><span class="line">    h3,</span><br><span class="line">    h4,</span><br><span class="line">    bits,</span><br><span class="line">    i = 0,</span><br><span class="line">    ac = 0,</span><br><span class="line">    dec = &quot;&quot;,</span><br><span class="line">    tmp_arr = [];</span><br><span class="line">  if (!data) &#123;</span><br><span class="line">    return data;</span><br><span class="line">  &#125;</span><br><span class="line">  data += &quot;&quot;;</span><br><span class="line">  do &#123;</span><br><span class="line">    h1 = b64.indexOf(data.charAt(i++));</span><br><span class="line">    h2 = b64.indexOf(data.charAt(i++));</span><br><span class="line">    h3 = b64.indexOf(data.charAt(i++));</span><br><span class="line">    h4 = b64.indexOf(data.charAt(i++));</span><br><span class="line">    bits = (h1 &lt;&lt; 18) | (h2 &lt;&lt; 12) | (h3 &lt;&lt; 6) | h4;</span><br><span class="line">    o1 = (bits &gt;&gt; 16) &amp; 0xff;</span><br><span class="line">    o2 = (bits &gt;&gt; 8) &amp; 0xff;</span><br><span class="line">    o3 = bits &amp; 0xff;</span><br><span class="line">    if (h3 == 64) &#123;</span><br><span class="line">      tmp_arr[ac++] = String.fromCharCode(o1);</span><br><span class="line">    &#125; else if (h4 == 64) &#123;</span><br><span class="line">      tmp_arr[ac++] = String.fromCharCode(o1, o2);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      tmp_arr[ac++] = String.fromCharCode(o1, o2, o3);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; while (i &lt; data.length);</span><br><span class="line">  dec = tmp_arr.join(&quot;&quot;);</span><br><span class="line">  dec = utf8_decode(dec);</span><br><span class="line">  return dec;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–å½“å‰è·¯å¾„"><a href="#è·å–å½“å‰è·¯å¾„" class="headerlink" title="è·å–å½“å‰è·¯å¾„"></a>è·å–å½“å‰è·¯å¾„</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var currentPageUrl = &quot;&quot;;</span><br><span class="line">if (typeof this.href === &quot;undefined&quot;) &#123;</span><br><span class="line">  currentPageUrl = document.location.toString().toLowerCase();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  currentPageUrl = this.href.toString().toLowerCase();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²é•¿åº¦æˆªå–"><a href="#å­—ç¬¦ä¸²é•¿åº¦æˆªå–" class="headerlink" title="å­—ç¬¦ä¸²é•¿åº¦æˆªå–"></a>å­—ç¬¦ä¸²é•¿åº¦æˆªå–</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function cutstr(str, len) &#123;</span><br><span class="line">    var temp,</span><br><span class="line">        icount = 0,</span><br><span class="line">        patrn = /[^\x00-\xff]/ï¼Œ</span><br><span class="line">        strre = &quot;&quot;;</span><br><span class="line">    for (var i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">        if (icount &lt; len - 1) &#123;</span><br><span class="line">            temp = str.substr(i, 1);</span><br><span class="line">                if (patrn.exec(temp) == null) &#123;</span><br><span class="line">                   icount = icount + 1</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                icount = icount + 2</span><br><span class="line">            &#125;</span><br><span class="line">            strre += temp</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return strre + &quot;...&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ—¶é—´æ—¥æœŸæ ¼å¼è½¬æ¢"><a href="#æ—¶é—´æ—¥æœŸæ ¼å¼è½¬æ¢" class="headerlink" title="æ—¶é—´æ—¥æœŸæ ¼å¼è½¬æ¢"></a>æ—¶é—´æ—¥æœŸæ ¼å¼è½¬æ¢</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Date.prototype.format = function(formatStr) &#123;</span><br><span class="line">  var str = formatStr;</span><br><span class="line">  var Week = [&quot;æ—¥&quot;, &quot;ä¸€&quot;, &quot;äºŒ&quot;, &quot;ä¸‰&quot;, &quot;å››&quot;, &quot;äº”&quot;, &quot;å…­&quot;];</span><br><span class="line">  str = str.replace(/yyyy|YYYY/, this.getFullYear());</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /yy|YY/,</span><br><span class="line">    this.getYear() % 100 &gt; 9</span><br><span class="line">      ? (this.getYear() % 100).toString()</span><br><span class="line">      : &quot;0&quot; + (this.getYear() % 100)</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /MM/,</span><br><span class="line">    this.getMonth() + 1 &gt; 9</span><br><span class="line">      ? (this.getMonth() + 1).toString()</span><br><span class="line">      : &quot;0&quot; + (this.getMonth() + 1)</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(/M/g, this.getMonth() + 1);</span><br><span class="line">  str = str.replace(/w|W/g, Week[this.getDay()]);</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /dd|DD/,</span><br><span class="line">    this.getDate() &gt; 9 ? this.getDate().toString() : &quot;0&quot; + this.getDate()</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(/d|D/g, this.getDate());</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /hh|HH/,</span><br><span class="line">    this.getHours() &gt; 9 ? this.getHours().toString() : &quot;0&quot; + this.getHours()</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(/h|H/g, this.getHours());</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /mm/,</span><br><span class="line">    this.getMinutes() &gt; 9</span><br><span class="line">      ? this.getMinutes().toString()</span><br><span class="line">      : &quot;0&quot; + this.getMinutes()</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(/m/g, this.getMinutes());</span><br><span class="line">  str = str.replace(</span><br><span class="line">    /ss|SS/,</span><br><span class="line">    this.getSeconds() &gt; 9</span><br><span class="line">      ? this.getSeconds().toString()</span><br><span class="line">      : &quot;0&quot; + this.getSeconds()</span><br><span class="line">  );</span><br><span class="line">  str = str.replace(/s|S/g, this.getSeconds());</span><br><span class="line">  return str;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// æˆ–</span><br><span class="line">Date.prototype.format = function(format) &#123;</span><br><span class="line">  var o = &#123;</span><br><span class="line">    &quot;M+&quot;: this.getMonth() + 1, //month</span><br><span class="line">    &quot;d+&quot;: this.getDate(), //day</span><br><span class="line">    &quot;h+&quot;: this.getHours(), //hour</span><br><span class="line">    &quot;m+&quot;: this.getMinutes(), //minute</span><br><span class="line">    &quot;s+&quot;: this.getSeconds(), //second</span><br><span class="line">    &quot;q+&quot;: Math.floor((this.getMonth() + 3) / 3), //quarter</span><br><span class="line">    S: this.getMilliseconds() //millisecond</span><br><span class="line">  &#125;;</span><br><span class="line">  if (/(y+)/.test(format))</span><br><span class="line">    format = format.replace(</span><br><span class="line">      RegExp.$1,</span><br><span class="line">      (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length)</span><br><span class="line">    );</span><br><span class="line">  for (var k in o) &#123;</span><br><span class="line">    if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(format))</span><br><span class="line">      format = format.replace(</span><br><span class="line">        RegExp.$1,</span><br><span class="line">        RegExp.$1.length == 1 ? o[k] : (&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">  return format;</span><br><span class="line">&#125;;</span><br><span class="line">alert(new Date().format(&quot;yyyy-MM-dd hh:mm:ss&quot;));</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“æŸ"><a href="#åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“æŸ" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“æŸ"></a>åˆ¤æ–­æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“æŸ</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">String.prototype.endWith = function(s) &#123;</span><br><span class="line">  var d = this.length - s.length;</span><br><span class="line">  return d &gt;= 0 &amp;&amp; this.lastIndexOf(s) == d;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–ç§»åŠ¨è®¾å¤‡åˆå§‹åŒ–å¤§å°"><a href="#è·å–ç§»åŠ¨è®¾å¤‡åˆå§‹åŒ–å¤§å°" class="headerlink" title="è·å–ç§»åŠ¨è®¾å¤‡åˆå§‹åŒ–å¤§å°"></a>è·å–ç§»åŠ¨è®¾å¤‡åˆå§‹åŒ–å¤§å°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getInitZoom() &#123;</span><br><span class="line">  if (!this._initZoom) &#123;</span><br><span class="line">    var screenWidth = Math.min(screen.height, screen.width);</span><br><span class="line">    if (this.isAndroidMobileDevice() &amp;&amp; !this.isNewChromeOnAndroid()) &#123;</span><br><span class="line">      screenWidth = screenWidth / window.devicePixelRatio;</span><br><span class="line">    &#125;</span><br><span class="line">    this._initZoom = screenWidth / document.body.offsetWidth;</span><br><span class="line">  &#125;</span><br><span class="line">  return this._initZoom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–é¡µé¢é«˜åº¦"><a href="#è·å–é¡µé¢é«˜åº¦" class="headerlink" title="è·å–é¡µé¢é«˜åº¦"></a>è·å–é¡µé¢é«˜åº¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getPageHeight() &#123;</span><br><span class="line">  var g = document,</span><br><span class="line">    a = g.body,</span><br><span class="line">    f = g.documentElement,</span><br><span class="line">    d = g.compatMode == &quot;BackCompat&quot; ? a : g.documentElement;</span><br><span class="line">  return Math.max(f.scrollHeight, a.scrollHeight, d.clientHeight);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–é¡µé¢å¯è§†é«˜åº¦"><a href="#è·å–é¡µé¢å¯è§†é«˜åº¦" class="headerlink" title="è·å–é¡µé¢å¯è§†é«˜åº¦"></a>è·å–é¡µé¢å¯è§†é«˜åº¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getPageViewHeight() &#123;</span><br><span class="line">  var d = document,</span><br><span class="line">    a = d.compatMode == &quot;BackCompat&quot; ? d.body : d.documentElement;</span><br><span class="line">  return a.clientHeight;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–é¡µé¢å¯è§†å®½åº¦"><a href="#è·å–é¡µé¢å¯è§†å®½åº¦" class="headerlink" title="è·å–é¡µé¢å¯è§†å®½åº¦"></a>è·å–é¡µé¢å¯è§†å®½åº¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getPageViewWidth() &#123;</span><br><span class="line">  var d = document,</span><br><span class="line">    a = d.compatMode == &quot;BackCompat&quot; ? d.body : d.documentElement;</span><br><span class="line">  return a.clientWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–é¡µé¢å®½åº¦"><a href="#è·å–é¡µé¢å®½åº¦" class="headerlink" title="è·å–é¡µé¢å®½åº¦"></a>è·å–é¡µé¢å®½åº¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getPageWidth() &#123;</span><br><span class="line">  var g = document,</span><br><span class="line">    a = g.body,</span><br><span class="line">    f = g.documentElement,</span><br><span class="line">    d = g.compatMode == &quot;BackCompat&quot; ? a : g.documentElement;</span><br><span class="line">  return Math.max(f.scrollWidth, a.scrollWidth, d.clientWidth);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–ç§»åŠ¨è®¾å¤‡å±å¹•å®½åº¦"><a href="#è·å–ç§»åŠ¨è®¾å¤‡å±å¹•å®½åº¦" class="headerlink" title="è·å–ç§»åŠ¨è®¾å¤‡å±å¹•å®½åº¦"></a>è·å–ç§»åŠ¨è®¾å¤‡å±å¹•å®½åº¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getScreenWidth() &#123;</span><br><span class="line">  var smallerSide = Math.min(screen.width, screen.height);</span><br><span class="line">  var fixViewPortsExperiment =</span><br><span class="line">    rendererModel.runningExperiments.FixViewport ||</span><br><span class="line">    rendererModel.runningExperiments.fixviewport;</span><br><span class="line">  var fixViewPortsExperimentRunning =</span><br><span class="line">    fixViewPortsExperiment &amp;&amp; fixViewPortsExperiment.toLowerCase() === &quot;new&quot;;</span><br><span class="line">  if (fixViewPortsExperiment) &#123;</span><br><span class="line">    if (this.isAndroidMobileDevice() &amp;&amp; !this.isNewChromeOnAndroid()) &#123;</span><br><span class="line">      smallerSide = smallerSide / window.devicePixelRatio;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return smallerSide;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–çª—ä½“å¯è§èŒƒå›´çš„å®½ä¸é«˜"><a href="#è·å–çª—ä½“å¯è§èŒƒå›´çš„å®½ä¸é«˜" class="headerlink" title="è·å–çª—ä½“å¯è§èŒƒå›´çš„å®½ä¸é«˜"></a>è·å–çª—ä½“å¯è§èŒƒå›´çš„å®½ä¸é«˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function getViewSize() &#123;</span><br><span class="line">  var de = document.documentElement;</span><br><span class="line">  var db = document.body;</span><br><span class="line">  var viewW = de.clientWidth == 0 ? db.clientWidth : de.clientWidth;</span><br><span class="line">  var viewH = de.clientHeight == 0 ? db.clientHeight : de.clientHeight;</span><br><span class="line">  return Array(viewW, viewH);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦å®‰å“ç§»åŠ¨è®¾å¤‡è®¿é—®"><a href="#åˆ¤æ–­æ˜¯å¦å®‰å“ç§»åŠ¨è®¾å¤‡è®¿é—®" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å®‰å“ç§»åŠ¨è®¾å¤‡è®¿é—®"></a>åˆ¤æ–­æ˜¯å¦å®‰å“ç§»åŠ¨è®¾å¤‡è®¿é—®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isAndroidMobileDevice() &#123;</span><br><span class="line">  return /android/i.test(navigator.userAgent.toLowerCase());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦è‹¹æœç§»åŠ¨è®¾å¤‡è®¿é—®"><a href="#åˆ¤æ–­æ˜¯å¦è‹¹æœç§»åŠ¨è®¾å¤‡è®¿é—®" class="headerlink" title="åˆ¤æ–­æ˜¯å¦è‹¹æœç§»åŠ¨è®¾å¤‡è®¿é—®"></a>åˆ¤æ–­æ˜¯å¦è‹¹æœç§»åŠ¨è®¾å¤‡è®¿é—®</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isAppleMobileDevice() &#123;</span><br><span class="line">  return /iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ç±»å‹"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ç±»å‹" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ç±»å‹"></a>åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ç±»å‹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isDigit(value) &#123;</span><br><span class="line">  var patrn = /^[0-9]*$/;</span><br><span class="line">  if (patrn.exec(value) == null || value == &quot;&quot;) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦Touchå±å¹•"><a href="#åˆ¤æ–­æ˜¯å¦Touchå±å¹•" class="headerlink" title="åˆ¤æ–­æ˜¯å¦Touchå±å¹•"></a>åˆ¤æ–­æ˜¯å¦Touchå±å¹•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isTouchScreen() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &quot;ontouchstart&quot; in window ||</span><br><span class="line">    (window.DocumentTouch &amp;&amp; document instanceof DocumentTouch)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°"><a href="#é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°" class="headerlink" title="é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°"></a>é‡‘é¢å¤§å†™è½¬æ¢å‡½æ•°</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function transform(tranvalue) &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    var i = 1;</span><br><span class="line">    var dw2 = new Array(&quot;&quot;, &quot;ä¸‡&quot;, &quot;äº¿&quot;); //å¤§å•ä½</span><br><span class="line">    var dw1 = new Array(&quot;æ‹¾&quot;, &quot;ä½°&quot;, &quot;ä»Ÿ&quot;); //å°å•ä½</span><br><span class="line">    var dw = new Array(</span><br><span class="line">      &quot;é›¶&quot;,</span><br><span class="line">      &quot;å£¹&quot;,</span><br><span class="line">      &quot;è´°&quot;,</span><br><span class="line">      &quot;å&quot;,</span><br><span class="line">      &quot;è‚†&quot;,</span><br><span class="line">      &quot;ä¼&quot;,</span><br><span class="line">      &quot;é™†&quot;,</span><br><span class="line">      &quot;æŸ’&quot;,</span><br><span class="line">      &quot;æŒ&quot;,</span><br><span class="line">      &quot;ç–&quot;</span><br><span class="line">    );</span><br><span class="line">    //æ•´æ•°éƒ¨åˆ†ç”¨</span><br><span class="line">    //ä»¥ä¸‹æ˜¯å°å†™è½¬æ¢æˆå¤§å†™æ˜¾ç¤ºåœ¨åˆè®¡å¤§å†™çš„æ–‡æœ¬æ¡†ä¸­</span><br><span class="line">    //åˆ†ç¦»æ•´æ•°ä¸å°æ•°</span><br><span class="line">    var source = splits(tranvalue);</span><br><span class="line">    var num = source[0];</span><br><span class="line">    var dig = source[1];</span><br><span class="line">    //è½¬æ¢æ•´æ•°éƒ¨åˆ†</span><br><span class="line">    var k1 = 0; //è®¡å°å•ä½</span><br><span class="line">    var k2 = 0; //è®¡å¤§å•ä½</span><br><span class="line">    var sum = 0;</span><br><span class="line">    var str = &quot;&quot;;</span><br><span class="line">    var len = source[0].length; //æ•´æ•°çš„é•¿åº¦</span><br><span class="line">    for (i = 1; i &lt;= len; i++) &#123;</span><br><span class="line">      var n = source[0].charAt(len - i); //å–å¾—æŸä¸ªä½æ•°ä¸Šçš„æ•°å­—</span><br><span class="line">      var bn = 0;</span><br><span class="line">      if (len - i - 1 &gt;= 0) &#123;</span><br><span class="line">        bn = source[0].charAt(len - i - 1); //å–å¾—æŸä¸ªä½æ•°å‰ä¸€ä½ä¸Šçš„æ•°å­—</span><br><span class="line">      &#125;</span><br><span class="line">      sum = sum + Number(n);</span><br><span class="line">      if (sum != 0) &#123;</span><br><span class="line">        str = dw[Number(n)].concat(str); //å–å¾—è¯¥æ•°å­—å¯¹åº”çš„å¤§å†™æ•°å­—ï¼Œå¹¶æ’å…¥åˆ°strå­—ç¬¦ä¸²çš„å‰é¢</span><br><span class="line">        if (n == &quot;0&quot;) sum = 0;</span><br><span class="line">      &#125;</span><br><span class="line">      if (len - i - 1 &gt;= 0) &#123;</span><br><span class="line">        //åœ¨æ•°å­—èŒƒå›´å†…</span><br><span class="line">        if (k1 != 3) &#123;</span><br><span class="line">          //åŠ å°å•ä½</span><br><span class="line">          if (bn != 0) &#123;</span><br><span class="line">            str = dw1[k1].concat(str);</span><br><span class="line">          &#125;</span><br><span class="line">          k1++;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          //ä¸åŠ å°å•ä½ï¼ŒåŠ å¤§å•ä½</span><br><span class="line">          k1 = 0;</span><br><span class="line">          var temp = str.charAt(0);</span><br><span class="line">          if (temp == &quot;ä¸‡&quot; || temp == &quot;äº¿&quot;)</span><br><span class="line">            //è‹¥å¤§å•ä½å‰æ²¡æœ‰æ•°å­—åˆ™èˆå»å¤§å•ä½</span><br><span class="line">            str = str.substr(1, str.length - 1);</span><br><span class="line">          str = dw2[k2].concat(str);</span><br><span class="line">          sum = 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if (k1 == 3) &#123;</span><br><span class="line">        //å°å•ä½åˆ°åƒåˆ™å¤§å•ä½è¿›ä¸€</span><br><span class="line">        k2++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //è½¬æ¢å°æ•°éƒ¨åˆ†</span><br><span class="line">    var strdig = &quot;&quot;;</span><br><span class="line">    if (dig != &quot;&quot;) &#123;</span><br><span class="line">      var n = dig.charAt(0);</span><br><span class="line">      if (n != 0) &#123;</span><br><span class="line">        strdig += dw[Number(n)] + &quot;è§’&quot;; //åŠ æ•°å­—</span><br><span class="line">      &#125;</span><br><span class="line">      var n = dig.charAt(1);</span><br><span class="line">      if (n != 0) &#123;</span><br><span class="line">        strdig += dw[Number(n)] + &quot;åˆ†&quot;; //åŠ æ•°å­—</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    str += &quot;å…ƒ&quot; + strdig;</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    return &quot;0å…ƒ&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">  return str;</span><br><span class="line">&#125;</span><br><span class="line">//æ‹†åˆ†æ•´æ•°ä¸å°æ•°</span><br><span class="line">function splits(tranvalue) &#123;</span><br><span class="line">  var value = new Array(&quot;&quot;, &quot;&quot;);</span><br><span class="line">  temp = tranvalue.split(&quot;.&quot;);</span><br><span class="line">  for (var i = 0; i &lt; temp.length; i++) &#123;</span><br><span class="line">    value = temp;</span><br><span class="line">  &#125;</span><br><span class="line">  return value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒæ•´æ•°æ˜¯å¦åœ¨å–å€¼èŒƒå›´å†…"><a href="#æ ¡éªŒæ•´æ•°æ˜¯å¦åœ¨å–å€¼èŒƒå›´å†…" class="headerlink" title="æ ¡éªŒæ•´æ•°æ˜¯å¦åœ¨å–å€¼èŒƒå›´å†…"></a>æ ¡éªŒæ•´æ•°æ˜¯å¦åœ¨å–å€¼èŒƒå›´å†…</h3><p>æ ¡éªŒè§„åˆ™ï¼š<br>minIntä¸ºåœ¨å–å€¼èŒƒå›´ä¸­æœ€å°çš„æ•´æ•°<br>maxIntä¸ºåœ¨å–å€¼èŒƒå›´ä¸­æœ€å¤§çš„æ•´æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function checkIntRange(value,minInt,maxInt=9007199254740991)&#123;</span><br><span class="line">    return Boolean(isInt(value) &amp;&amp; (Boolean(minInt!=undefined &amp;&amp; minInt!=null)?value&gt;=minInt:true) &amp;&amp; (value&lt;=maxInt));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†æ‰‹æœºå·"><a href="#æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†æ‰‹æœºå·" class="headerlink" title="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†æ‰‹æœºå·"></a>æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†æ‰‹æœºå·</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isTel(value) &#123;</span><br><span class="line">    return /^1[3,4,5,6,7,8,9][0-9]&#123;9&#125;$/.test(value.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ä¼ çœŸæˆ–å›ºå®šç”µè¯å·ç "><a href="#æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ä¼ çœŸæˆ–å›ºå®šç”µè¯å·ç " class="headerlink" title="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ä¼ çœŸæˆ–å›ºå®šç”µè¯å·ç "></a>æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ä¼ çœŸæˆ–å›ºå®šç”µè¯å·ç </h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isFax(str) &#123;</span><br><span class="line">    return /^([0-9]&#123;3,4&#125;)?[0-9]&#123;7,8&#125;$|^([0-9]&#123;3,4&#125;-)?[0-9]&#123;7,8&#125;$/.test(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒæ˜¯å¦ä¸ºQQå·ç "><a href="#æ ¡éªŒæ˜¯å¦ä¸ºQQå·ç " class="headerlink" title="æ ¡éªŒæ˜¯å¦ä¸ºQQå·ç "></a>æ ¡éªŒæ˜¯å¦ä¸ºQQå·ç </h3><p>æ ¡éªŒè§„åˆ™ï¼š<br>é0å¼€å¤´çš„5ä½-13ä½æ•´æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isQQ(value) &#123;</span><br><span class="line">    return /^[1-9][0-9]&#123;4,12&#125;$/.test(value.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ç¬¬äºŒä»£å±…æ°‘èº«ä»½è¯"><a href="#æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ç¬¬äºŒä»£å±…æ°‘èº«ä»½è¯" class="headerlink" title="æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ç¬¬äºŒä»£å±…æ°‘èº«ä»½è¯"></a>æ ¡éªŒæ˜¯å¦ä¸ºä¸­å›½å¤§é™†ç¬¬äºŒä»£å±…æ°‘èº«ä»½è¯</h3><p>æ ¡éªŒè§„åˆ™ï¼š<br>å…±18ä½ï¼Œæœ€åä¸€ä½å¯ä¸ºX(å¤§å°å†™å‡å¯)<br>ä¸èƒ½ä»¥0å¼€å¤´<br>å‡ºç”Ÿå¹´æœˆæ—¥ä¼šè¿›è¡Œæ ¡éªŒï¼šå¹´ä»½åªèƒ½ä¸º18/19/2*å¼€å¤´ï¼Œæœˆä»½åªèƒ½ä¸º01-12ï¼Œæ—¥åªèƒ½ä¸º01-31</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isIDCard(str)&#123;</span><br><span class="line">    return /^[1-9][0-9]&#123;5&#125;(18|19|(2[0-9]))[0-9]&#123;2&#125;((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)[0-9]&#123;3&#125;[0-9Xx]$/.test(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ¡éªŒå­—ç¬¦çš„é•¿åº¦æ˜¯å¦åœ¨è§„å®šçš„èŒƒå›´å†…"><a href="#æ ¡éªŒå­—ç¬¦çš„é•¿åº¦æ˜¯å¦åœ¨è§„å®šçš„èŒƒå›´å†…" class="headerlink" title="æ ¡éªŒå­—ç¬¦çš„é•¿åº¦æ˜¯å¦åœ¨è§„å®šçš„èŒƒå›´å†…"></a>æ ¡éªŒå­—ç¬¦çš„é•¿åº¦æ˜¯å¦åœ¨è§„å®šçš„èŒƒå›´å†…</h3><p>æ ¡éªŒè§„åˆ™ï¼š<br>minIntä¸ºåœ¨å–å€¼èŒƒå›´ä¸­æœ€å°çš„é•¿åº¦<br>maxIntä¸ºåœ¨å–å€¼èŒƒå›´ä¸­æœ€å¤§çš„é•¿åº¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function lengthRange(str,minLength,maxLength=9007199254740991) &#123;</span><br><span class="line">    return Boolean(str.length &gt;= minLength &amp;&amp; str.length &lt;= maxLength);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºå¼¹å‡ºå•†å“æ¡†æ ·å¼</title>
    <url>/2019/09/23/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%B9%E5%87%BA%E5%95%86%E5%93%81%E6%A1%86%E6%A0%B7%E5%BC%8F/</url>
    <content><![CDATA[<p><img src="/images/1.jpg" alt></p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- å¼¹å‡ºè´­ä¹°è¯¦æƒ… --&gt;</span><br><span class="line"> </span><br><span class="line">&lt;view bindtap=&apos;showModal&apos;&gt;</span><br><span class="line">click me</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!--å±å¹•èƒŒæ™¯å˜æš—çš„èƒŒæ™¯  --&gt;</span><br><span class="line">&lt;view class=&quot;commodity_screen&quot; bindtap=&quot;hideModal&quot; wx:if=&quot;&#123;&#123;showModalStatus&#125;&#125;&quot;&gt;&lt;/view&gt;</span><br><span class="line"> &lt;!--å¼¹å‡ºæ¡†  --&gt;</span><br><span class="line">&lt;view animation=&quot;&#123;&#123;animationData&#125;&#125;&quot; class=&quot;commodity_attr_box&quot; wx:if=&quot;&#123;&#123;showModalStatus&#125;&#125;&quot;&gt;</span><br><span class="line">   &lt;view class=&apos;commImg&apos;&gt;&lt;image src=&apos;&#123;&#123;imghref&#125;&#125;&#123;&#123;goods_img[0].img&#125;&#125;&apos; mode=&quot;aspectFit&quot;&gt;&lt;/image&gt;&lt;/view&gt;</span><br><span class="line">   &lt;view class=&apos;column&apos;&gt;</span><br><span class="line">      &lt;text class=&quot;sku-price&quot;&gt;ï¿¥&#123;&#123;gg_price&#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;text class=&quot;sku-title&quot;&gt;&lt;block wx:if=&quot;&#123;&#123;gg_txt==&apos;&apos;&#125;&#125;&quot;&gt;è¯·é€‰æ‹©è§„æ ¼&lt;/block&gt;&lt;block wx:else&gt;å·²é€‰æ‹©:&#123;&#123;gg_txt&#125;&#125;ml&lt;/block&gt;&lt;/text&gt;</span><br><span class="line">   &lt;/view&gt;</span><br><span class="line">   &lt;text class=&quot;line&quot;&gt;&lt;/text&gt;</span><br><span class="line">   &lt;view class=&apos;guige&apos;&gt;</span><br><span class="line">      &lt;text class=&quot;gg-title&quot;&gt;è§„æ ¼&lt;/text&gt;</span><br><span class="line">      &lt;view class=&apos;gg&apos;&gt;</span><br><span class="line">        &lt;text  wx:for=&quot;&#123;&#123;guigeList&#125;&#125;&quot; wx:key=&quot;gg&quot; wx:for-item=&quot;item&quot; class=&quot;&#123;&#123;gg_id==item.guige?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-id=&quot;&#123;&#123;item.guige&#125;&#125;&quot;  data-txt=&quot;&#123;&#123;item.guige&#125;&#125;&quot; data-price=&apos;&#123;&#123;item.price&#125;&#125;&apos; bindtap=&quot;filter&quot;&gt;&#123;&#123;item.guige&#125;&#125;ml&lt;/text&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">   &lt;/view&gt;</span><br><span class="line">   &lt;text class=&quot;line&quot;&gt;&lt;/text&gt;</span><br><span class="line">   &lt;view class=&quot;row&quot;&gt;</span><br><span class="line">        &lt;text class=&apos;quantity-title&apos;&gt;æ•°é‡&lt;/text&gt;</span><br><span class="line">        &lt;view class=&quot;quantity-position&quot;&gt;</span><br><span class="line">           &lt;view class=&quot;stepper&quot;&gt;</span><br><span class="line">            &lt;!-- å‡å· --&gt;  </span><br><span class="line">            &lt;text class=&quot;&#123;&#123;minusStatus&#125;&#125;&quot; bindtap=&quot;bindMinus&quot;&gt;-&lt;/text&gt;</span><br><span class="line">            &lt;!-- æ•°å€¼ --&gt;  </span><br><span class="line">            &lt;input type=&quot;number&quot; bindinput=&apos;bindManual&apos; value=&quot;&#123;&#123;num&#125;&#125;&quot; /&gt;</span><br><span class="line">            &lt;!-- åŠ å· --&gt;  </span><br><span class="line">            &lt;text class=&quot;normal&quot; bindtap=&quot;bindPlus&quot;&gt;+&lt;/text&gt;</span><br><span class="line">            &lt;/view&gt;</span><br><span class="line">        &lt;/view&gt;</span><br><span class="line">   &lt;/view&gt;</span><br><span class="line">   &lt;text class=&quot;line&quot;&gt;&lt;/text&gt;</span><br><span class="line">   &lt;view class=&apos;btn&apos;&gt;</span><br><span class="line">    &lt;button class=&quot;button-add&quot; bindtap=&quot;addCart&quot;&gt;åŠ å…¥è´­ç‰©è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button class=&quot;button-buy&quot;&gt;ç«‹å³è´­ä¹°&lt;/button&gt;</span><br><span class="line">   &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// pages/demo/alert/alert.js</span><br><span class="line">Page(&#123;</span><br><span class="line">  // ä»·æ ¼å˜åŒ–</span><br><span class="line">  onChange: function (e)&#123;</span><br><span class="line">    // è·å–è¾“å…¥æ¡†çš„å€¼</span><br><span class="line">    console.log(e.detail)</span><br><span class="line">    var num=e.detail</span><br><span class="line">    var p=this.data.price</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      price:199*num   </span><br><span class="line">    &#125;)</span><br><span class="line">      return</span><br><span class="line">    console.log()</span><br><span class="line">  &#125;,</span><br><span class="line">  // å‹å·</span><br><span class="line">  size(e) &#123;</span><br><span class="line">    let index = e.currentTarget.dataset.index</span><br><span class="line">    var bool = this.data.size[index].checked</span><br><span class="line">    var f = this.data.size[index].disabled</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      [&apos;size[&apos; + index + &apos;].checked&apos;]: !bool,</span><br><span class="line">      // [&apos;color[11].disabled&apos;]:true</span><br><span class="line">    &#125;)</span><br><span class="line">    // if()&#123;</span><br><span class="line">    //   console.log(123)</span><br><span class="line">    // &#125;</span><br><span class="line">    console.log(index, bool, [&apos;size[&apos; + index + &apos;].checked&apos;], f)</span><br><span class="line">  &#125;,</span><br><span class="line">  // é¢œè‰²</span><br><span class="line">  choose(e) &#123;</span><br><span class="line">    let index = e.currentTarget.dataset.index</span><br><span class="line">    var bool = this.data.color[index].checked</span><br><span class="line">    var f = this.data.color[index].disabled</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      [&apos;color[&apos; + index + &apos;].checked&apos;]:!bool,</span><br><span class="line">        // [&apos;color[11].disabled&apos;]:true</span><br><span class="line">    &#125;)</span><br><span class="line">    // if()&#123;</span><br><span class="line">    //   console.log(123)</span><br><span class="line">    // &#125;</span><br><span class="line">    console.log(index, bool, [&apos;color[&apos; + index + &apos;].checked&apos;], f)</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  //ç‚¹å‡»æˆ‘æ˜¾ç¤ºåº•éƒ¨å¼¹å‡ºæ¡†</span><br><span class="line">  clickme: function () &#123;</span><br><span class="line">    this.showModal();</span><br><span class="line">  &#125;,</span><br><span class="line"> </span><br><span class="line">  //æ˜¾ç¤ºå¯¹è¯æ¡†</span><br><span class="line">  showModal: function () &#123;</span><br><span class="line">    // æ˜¾ç¤ºé®ç½©å±‚</span><br><span class="line">    var animation = wx.createAnimation(&#123;</span><br><span class="line">      duration: 200,</span><br><span class="line">      timingFunction: &quot;linear&quot;,</span><br><span class="line">      delay: 0</span><br><span class="line">    &#125;)</span><br><span class="line">    this.animation = animation</span><br><span class="line">    animation.translateY(300).step()</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      animationData: animation.export(),</span><br><span class="line">      showModalStatus: true</span><br><span class="line">    &#125;)</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      animation.translateY(0).step()</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        animationData: animation.export()</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;.bind(this), 200)</span><br><span class="line">  &#125;,</span><br><span class="line">  //éšè—å¯¹è¯æ¡†</span><br><span class="line">  hideModal: function () &#123;</span><br><span class="line">    // éšè—é®ç½©å±‚</span><br><span class="line">    var animation = wx.createAnimation(&#123;</span><br><span class="line">      duration: 200,</span><br><span class="line">      timingFunction: &quot;linear&quot;,</span><br><span class="line">      delay: 0</span><br><span class="line">    &#125;)</span><br><span class="line">    this.animation = animation</span><br><span class="line">    animation.translateY(300).step()</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      animationData: animation.export(),</span><br><span class="line">    &#125;)</span><br><span class="line">    setTimeout(function () &#123;</span><br><span class="line">      animation.translateY(0).step()</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        animationData: animation.export(),</span><br><span class="line">        showModalStatus: false</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;.bind(this), 200)</span><br><span class="line">  &#125;,</span><br><span class="line">  /**</span><br><span class="line">   * é¡µé¢çš„åˆå§‹æ•°æ®</span><br><span class="line">   */</span><br><span class="line">  data: &#123;</span><br><span class="line">    // ä»·æ ¼</span><br><span class="line">    price:199,</span><br><span class="line">    // å‹å·</span><br><span class="line">    size:[</span><br><span class="line">      &#123;</span><br><span class="line">        size:&quot;sm&quot;,</span><br><span class="line">        disabled:false,</span><br><span class="line">        checked:false</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        size:&quot;s&quot;,</span><br><span class="line">        disabled: false,</span><br><span class="line">        checked: false</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        size:&quot;s&quot;,</span><br><span class="line">        disabled: false,</span><br><span class="line">        checked: false</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        size:&quot;l&quot;,</span><br><span class="line">        disabled: false,</span><br><span class="line">        checked: false</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        size: &quot;xl&quot;,</span><br><span class="line">        disabled: true,</span><br><span class="line">        checked: false</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    // é¢œè‰²</span><br><span class="line">      color:[</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;çº¢è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;é»„è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç™½è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç»¿è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç»¿è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç´«è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç°è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;æ©˜è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;å½©è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç´«è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç´«è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:false  </span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          color:&quot;ç´«è‰²&quot;,</span><br><span class="line">          checked:false,</span><br><span class="line">          disabled:true </span><br><span class="line">        &#125;,</span><br><span class="line">      ]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/* å¼¹å‡ºæ¡† */</span><br><span class="line"> </span><br><span class="line">.commodity_screen &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  background: #000;</span><br><span class="line">  opacity: 0.2;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  z-index: 1000;</span><br><span class="line">  color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">/*å¯¹è¯æ¡† */</span><br><span class="line">.commodity_attr_box &#123;</span><br><span class="line">  height: 920rpx;</span><br><span class="line">  width: 100%;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  position: fixed;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  z-index: 2000;</span><br><span class="line">  background: #fff;</span><br><span class="line">  padding-top: 29rpx;</span><br><span class="line">&#125;</span><br><span class="line">/* å•†å“å›¾ç‰‡ */</span><br><span class="line">.product&#123;</span><br><span class="line">  margin-left:30rpx;</span><br><span class="line">&#125;</span><br><span class="line">.product-img&#123;</span><br><span class="line">  width:200rpx;</span><br><span class="line">height:200rpx;</span><br><span class="line">border-radius:10rpx;</span><br><span class="line">&#125;</span><br><span class="line">/* ä»·æ ¼ */</span><br><span class="line">.cart-price&#123;</span><br><span class="line">  margin-top:116rpx;</span><br><span class="line">  margin-left:20rpx;</span><br><span class="line">&#125;</span><br><span class="line">.cart-price :first-child&#123;</span><br><span class="line">  font-size:34rpx;</span><br><span class="line">font-family:PingFang SC;</span><br><span class="line">font-weight:500;</span><br><span class="line">color:rgba(245,121,0,1);</span><br><span class="line">&#125;</span><br><span class="line">.cart-price :last-child&#123;</span><br><span class="line">  font-size:24rpx;</span><br><span class="line">font-family:PingFang SC;</span><br><span class="line">font-weight:400;</span><br><span class="line">color:rgba(153,153,153,1);</span><br><span class="line">&#125;</span><br><span class="line">/* é¢œè‰² */</span><br><span class="line">.color&#123;</span><br><span class="line">  margin-top:60rpx;</span><br><span class="line">&#125;</span><br><span class="line">.color :first-child&#123;</span><br><span class="line">  font-size:28rpx;</span><br><span class="line">font-family:PingFang SC;</span><br><span class="line">font-weight:400;</span><br><span class="line">color:rgba(51,51,51,1);</span><br><span class="line">&#125;</span><br><span class="line">/* é¢œè‰²é€‰æ‹© */</span><br><span class="line">.color-btn&#123;</span><br><span class="line">  width:722rpx;flex-wrap:wrap;</span><br><span class="line">  margin-left:19rpx;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">/* æœªé€‰ä¸­çŠ¶æ€ */</span><br><span class="line">.btns&#123;</span><br><span class="line">  /* width:100rpx; */</span><br><span class="line">height:50rpx;</span><br><span class="line">background:rgba(242,242,242,1);</span><br><span class="line">border-radius:10rpx;</span><br><span class="line">text-align: center;</span><br><span class="line">line-height:50rpx;</span><br><span class="line">font-size:28rpx;</span><br><span class="line">font-family:PingFang SC;</span><br><span class="line">font-weight:400;</span><br><span class="line">color:rgba(51,51,51,1);</span><br><span class="line">margin-right:8rpx;margin-top:20rpx;</span><br><span class="line">&#125;</span><br><span class="line">/* é€‰ä¸­çŠ¶æ€ */</span><br><span class="line">.btnsactives&#123;</span><br><span class="line">  /* width:100rpx!important; */</span><br><span class="line">height:50rpx!important;</span><br><span class="line">background:rgba(118,212,198,1)!important;</span><br><span class="line">border-radius:10rpx!important;</span><br><span class="line">font-size:28rpx!important;</span><br><span class="line">font-family:PingFang SC!important;</span><br><span class="line">font-weight:400!important;</span><br><span class="line">color:rgba(255,255,255,1)!important;</span><br><span class="line">text-align: center!important;</span><br><span class="line">line-height:50rpx!important;</span><br><span class="line">margin-right:8rpx;margin-top:20rpx;</span><br><span class="line">&#125;</span><br><span class="line">/* å‹å· */</span><br><span class="line">.size&#123;</span><br><span class="line">  margin-top:40rpx;</span><br><span class="line">&#125;</span><br><span class="line">.size :first-child&#123;</span><br><span class="line">  font-size:28rpx;</span><br><span class="line">font-family:PingFang SC;</span><br><span class="line">font-weight:400;</span><br><span class="line">color:rgba(51,51,51,1);</span><br><span class="line">margin-left:30rpx;</span><br><span class="line">&#125;</span><br><span class="line">.size-btn&#123;</span><br><span class="line">  width:497rpx;</span><br><span class="line">&#125;</span><br><span class="line">/* æœªé€‰ä¸­çŠ¶æ€ */</span><br><span class="line">.sizes&#123;</span><br><span class="line">  /* width:50rpx; */</span><br><span class="line">height:50rpx!important;</span><br><span class="line">background:rgba(242,242,242,1)!important;</span><br><span class="line">border-radius:10rpx!important;</span><br><span class="line">text-align: center!important;</span><br><span class="line">line-height: 50rpx!important;</span><br><span class="line">font-size:28rpx!important;</span><br><span class="line">font-family:PingFang SC!important;</span><br><span class="line">font-weight:400!important;</span><br><span class="line">color:rgba(51,51,51,1)!important;</span><br><span class="line">margin-top:20rpx;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">.sizesactives&#123;</span><br><span class="line">  /* width:50rpx; */</span><br><span class="line">height:50rpx!important;</span><br><span class="line">background:rgba(118,212,198,1)!important;</span><br><span class="line">border-radius:10rpx!important;</span><br><span class="line">text-align: center!important;</span><br><span class="line">line-height: 50rpx!important;</span><br><span class="line">font-size:28rpx!important;</span><br><span class="line">font-family:PingFang SC!important;</span><br><span class="line">font-weight:400!important;</span><br><span class="line">color:rgba(255,255,255,1)!important;</span><br><span class="line">margin-top:20rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>å¾®ä¿¡ä»ä¸‹è€Œä¸Šå¼¹æ¡†</tag>
      </tags>
  </entry>
  <entry>
    <title>60ä¸ªå‰ç«¯å¸¸ç”¨å·¥å…·æ–¹æ³•</title>
    <url>/2020/06/22/60%E4%B8%AA%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>60ä¸ªå‰ç«¯å¸¸ç”¨å·¥å…·æ–¹æ³•<br>1.é‚®ç®±éªŒè¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isEmail = (s) =&gt; &#123;</span><br><span class="line">    return /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]&#123;2,3&#125;)&#123;1,2&#125;)$/.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.æ‰‹æœºå·ç éªŒè¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isMobile = (s) =&gt; &#123;</span><br><span class="line">    return /^1[0-9]&#123;10&#125;$/.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>
<p>3.ç”µè¯å·ç éªŒè¯(åº§æœº)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPhone = (s) =&gt; &#123;</span><br><span class="line">    return /^([0-9]&#123;3,4&#125;-)?[0-9]&#123;7,8&#125;$/.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4.æ˜¯å¦ä¸ºurlåœ°å€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isURL = (s) =&gt; &#123;</span><br><span class="line">    return /^http[s]?:\/\/.*/.test(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.æ˜¯å¦æ˜¯å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isString = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;String&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.æ˜¯å¦ä¸ºæ•°å­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isNumber = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Number&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7.æ˜¯å¦ä¸ºboolean</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isBoolean = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Boolean&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>8.æ˜¯å¦ä¸ºå‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isFunction = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Function&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>9.æ˜¯å¦ä¸ºnull</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isNull = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Null&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>10.æ˜¯å¦ä¸ºundefined</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isUndefined = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Undefined&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>11.æ˜¯å¦ä¸ºå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isObj = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Object&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>12.æ˜¯å¦ä¸ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isArray = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Array&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>13.æ˜¯å¦ä¸ºæ—¶é—´æ ¼å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isDate = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Date&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>14.æ˜¯å¦ä¸ºæ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isRegExp = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;RegExp&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>15.æ˜¯å¦ä¸ºé”™è¯¯çš„å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isError = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Error&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>16.æ˜¯å¦Symbolå‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSymbol = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Symbol&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>17.æ˜¯å¦Promiseå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPromise = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Promise&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>18.æ˜¯å¦Setå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSet = (o) =&gt; &#123;</span><br><span class="line">    return Object.prototype.toString.call(o).slice(8, -1) === &apos;Set&apos;</span><br><span class="line">&#125;</span><br><span class="line">export const ua = navigator.userAgent.toLowerCase();</span><br></pre></td></tr></table></figure>

<p>19.æ˜¯å¦æ˜¯å¾®ä¿¡æµè§ˆå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isWeiXin = () =&gt; &#123;</span><br><span class="line">    return ua.match(/microMessenger/i) == &apos;micromessenger&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>20.æ˜¯å¦æ˜¯ç§»åŠ¨ç«¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isDeviceMobile = () =&gt; &#123;</span><br><span class="line">    return /android|webos|iphone|ipod|balckberry/i.test(ua)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>21.æ˜¯å¦æ˜¯QQæµè§ˆå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isQQBrowser = () =&gt; &#123;</span><br><span class="line">    return !!ua.match(/mqqbrowser|qzone|qqbrowser|qbwebviewtype/i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>22.æ˜¯å¦æ˜¯çˆ¬è™«</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isSpider = () =&gt; &#123;</span><br><span class="line">    return /adsbot|googlebot|bingbot|msnbot|yandexbot|baidubot|robot|careerbot|seznambot|bot|baiduspider|jikespider|symantecspider|scannerlwebcrawler|crawler|360spider|sosospider|sogou web sprider|sogou orion spider/.test(ua)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>23.æ˜¯å¦ios</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isIos = () =&gt; &#123;</span><br><span class="line">    var u = navigator.userAgent;</span><br><span class="line">    if (u.indexOf(&apos;Android&apos;) &gt; -1 || u.indexOf(&apos;Linux&apos;) &gt; -1) &#123;  //å®‰å“æ‰‹æœº</span><br><span class="line">        return false</span><br><span class="line">    &#125; else if (u.indexOf(&apos;iPhone&apos;) &gt; -1) &#123;//è‹¹æœæ‰‹æœº</span><br><span class="line">        return true</span><br><span class="line">    &#125; else if (u.indexOf(&apos;iPad&apos;) &gt; -1) &#123;//iPad</span><br><span class="line">        return false</span><br><span class="line">    &#125; else if (u.indexOf(&apos;Windows Phone&apos;) &gt; -1) &#123;//winphoneæ‰‹æœº</span><br><span class="line">        return false</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>24.æ˜¯å¦ä¸ºPCç«¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isPC = () =&gt; &#123;</span><br><span class="line">    var userAgentInfo = navigator.userAgent;</span><br><span class="line">    var Agents = [&quot;Android&quot;, &quot;iPhone&quot;,</span><br><span class="line">        &quot;SymbianOS&quot;, &quot;Windows Phone&quot;,</span><br><span class="line">        &quot;iPad&quot;, &quot;iPod&quot;];</span><br><span class="line">    var flag = true;</span><br><span class="line">    for (var v = 0; v &lt; Agents.length; v++) &#123;</span><br><span class="line">        if (userAgentInfo.indexOf(Agents[v]) &gt; 0) &#123;</span><br><span class="line">            flag = false;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>25.å»é™¤htmlæ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const removeHtmltag = (str) =&gt; &#123;</span><br><span class="line">    return str.replace(/&lt;[^&gt;]+&gt;/g, &apos;&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>26.è·å–urlå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const getQueryString = (name) =&gt; &#123;</span><br><span class="line">    const reg = new RegExp(&apos;(^|&amp;)&apos; + name + &apos;=([^&amp;]*)(&amp;|$)&apos;, &apos;i&apos;);</span><br><span class="line">    const search = window.location.search.split(&apos;?&apos;)[1] || &apos;&apos;;</span><br><span class="line">    const r = search.match(reg) || [];</span><br><span class="line">    return r[2];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>27.åŠ¨æ€å¼•å…¥js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const injectScript = (src) =&gt; &#123;</span><br><span class="line">    const s = document.createElement(&apos;script&apos;);</span><br><span class="line">    s.type = &apos;text/javascript&apos;;</span><br><span class="line">    s.async = true;</span><br><span class="line">    s.src = src;</span><br><span class="line">    const t = document.getElementsByTagName(&apos;script&apos;)[0];</span><br><span class="line">    t.parentNode.insertBefore(s, t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>28.æ ¹æ®urlåœ°å€ä¸‹è½½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const download = (url) =&gt; &#123;</span><br><span class="line">    var isChrome = navigator.userAgent.toLowerCase().indexOf(&apos;chrome&apos;) &gt; -1;</span><br><span class="line">    var isSafari = navigator.userAgent.toLowerCase().indexOf(&apos;safari&apos;) &gt; -1;</span><br><span class="line">    if (isChrome || isSafari) &#123;</span><br><span class="line">        var link = document.createElement(&apos;a&apos;);</span><br><span class="line">        link.href = url;</span><br><span class="line">        if (link.download !== undefined) &#123;</span><br><span class="line">            var fileName = url.substring(url.lastIndexOf(&apos;/&apos;) + 1, url.length);</span><br><span class="line">            link.download = fileName;</span><br><span class="line">        &#125;</span><br><span class="line">        if (document.createEvent) &#123;</span><br><span class="line">            var e = document.createEvent(&apos;MouseEvents&apos;);</span><br><span class="line">            e.initEvent(&apos;click&apos;, true, true);</span><br><span class="line">            link.dispatchEvent(e);</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (url.indexOf(&apos;?&apos;) === -1) &#123;</span><br><span class="line">        url += &apos;?download&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    window.open(url, &apos;_self&apos;);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>29.elæ˜¯å¦åŒ…å«æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const hasClass = (el, className) =&gt; &#123;</span><br><span class="line">    let reg = new RegExp(&apos;(^|\\s)&apos; + className + &apos;(\\s|$)&apos;)</span><br><span class="line">    return reg.test(el.className)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>30.elæ·»åŠ æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const addClass = (el, className) =&gt; &#123;</span><br><span class="line">    if (hasClass(el, className)) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    let newClass = el.className.split(&apos; &apos;)</span><br><span class="line">    newClass.push(className)</span><br><span class="line">    el.className = newClass.join(&apos; &apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>31.elå»é™¤æŸä¸ªclass</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const removeClass = (el, className) =&gt; &#123;</span><br><span class="line">    if (!hasClass(el, className)) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    let reg = new RegExp(&apos;(^|\\s)&apos; + className + &apos;(\\s|$)&apos;, &apos;g&apos;)</span><br><span class="line">    el.className = el.className.replace(reg, &apos; &apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>32.è·å–æ»šåŠ¨çš„åæ ‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const getScrollPosition = (el = window) =&gt; (&#123;</span><br><span class="line">    x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>33.æ»šåŠ¨åˆ°é¡¶éƒ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const scrollToTop = () =&gt; &#123;</span><br><span class="line">    const c = document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">    if (c &gt; 0) &#123;</span><br><span class="line">        window.requestAnimationFrame(scrollToTop);</span><br><span class="line">        window.scrollTo(0, c - c / 8);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>34.elæ˜¯å¦åœ¨è§†å£èŒƒå›´å†…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const elementIsVisibleInViewport = (el, partiallyVisible = false) =&gt; &#123;</span><br><span class="line">    const &#123; top, left, bottom, right &#125; = el.getBoundingClientRect();</span><br><span class="line">    const &#123; innerHeight, innerWidth &#125; = window;</span><br><span class="line">    return partiallyVisible</span><br><span class="line">        ? ((top &gt; 0 &amp;&amp; top &lt; innerHeight) || (bottom &gt; 0 &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;</span><br><span class="line">        ((left &gt; 0 &amp;&amp; left &lt; innerWidth) || (right &gt; 0 &amp;&amp; right &lt; innerWidth))</span><br><span class="line">        : top &gt;= 0 &amp;&amp; left &gt;= 0 &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>35.æ´—ç‰Œç®—æ³•éšæœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const shuffle = (arr) =&gt; &#123;</span><br><span class="line">    var result = [],</span><br><span class="line">        random;</span><br><span class="line">    while (arr.length &gt; 0) &#123;</span><br><span class="line">        random = Math.floor(Math.random() * arr.length);</span><br><span class="line">        result.push(arr[random])</span><br><span class="line">        arr.splice(random, 1)</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>36.æ‹¦æˆªç²˜è´´æ¿</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const copyTextToClipboard = (value) =&gt; &#123;</span><br><span class="line">    var textArea = document.createElement(&quot;textarea&quot;);</span><br><span class="line">    textArea.style.background = &apos;transparent&apos;;</span><br><span class="line">    textArea.value = value;</span><br><span class="line">    document.body.appendChild(textArea);</span><br><span class="line">    textArea.select();</span><br><span class="line">    try &#123;</span><br><span class="line">        var successful = document.execCommand(&apos;copy&apos;);</span><br><span class="line">    &#125; catch (err) &#123;</span><br><span class="line">        console.log(&apos;Oops, unable to copy&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">    document.body.removeChild(textArea);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>37.åˆ¤æ–­ç±»å‹é›†åˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const checkStr = (str, type) =&gt; &#123;</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case &apos;phone&apos;:   //æ‰‹æœºå·ç </span><br><span class="line">            return /^1[3|4|5|6|7|8|9][0-9]&#123;9&#125;$/.test(str);</span><br><span class="line">        case &apos;tel&apos;:     //åº§æœº</span><br><span class="line">            return /^(0\d&#123;2,3&#125;-\d&#123;7,8&#125;)(-\d&#123;1,4&#125;)?$/.test(str);</span><br><span class="line">        case &apos;card&apos;:    //èº«ä»½è¯</span><br><span class="line">            return /(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/.test(str);</span><br><span class="line">        case &apos;pwd&apos;:     //å¯†ç ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨6~18ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</span><br><span class="line">            return /^[a-zA-Z]\w&#123;5,17&#125;$/.test(str)</span><br><span class="line">        case &apos;postal&apos;:  //é‚®æ”¿ç¼–ç </span><br><span class="line">            return /[1-9]\d&#123;5&#125;(?!\d)/.test(str);</span><br><span class="line">        case &apos;QQ&apos;:      //QQå·</span><br><span class="line">            return /^[1-9][0-9]&#123;4,9&#125;$/.test(str);</span><br><span class="line">        case &apos;email&apos;:   //é‚®ç®±</span><br><span class="line">            return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str);</span><br><span class="line">        case &apos;money&apos;:   //é‡‘é¢(å°æ•°ç‚¹2ä½)</span><br><span class="line">            return /^\d*(?:\.\d&#123;0,2&#125;)?$/.test(str);</span><br><span class="line">        case &apos;URL&apos;:     //ç½‘å€</span><br><span class="line">            return /(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/.test(str)</span><br><span class="line">        case &apos;IP&apos;:      //IP</span><br><span class="line">            return /((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/.test(str);</span><br><span class="line">        case &apos;date&apos;:    //æ—¥æœŸæ—¶é—´</span><br><span class="line">            return /^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;) (\d&#123;2&#125;)(?:\:\d&#123;2&#125;|:(\d&#123;2&#125;):(\d&#123;2&#125;))$/.test(str) || /^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;)$/.test(str)</span><br><span class="line">        case &apos;number&apos;:  //æ•°å­—</span><br><span class="line">            return /^[0-9]$/.test(str);</span><br><span class="line">        case &apos;english&apos;: //è‹±æ–‡</span><br><span class="line">            return /^[a-zA-Z]+$/.test(str);</span><br><span class="line">        case &apos;chinese&apos;: //ä¸­æ–‡</span><br><span class="line">            return /^[\\u4E00-\\u9FA5]+$/.test(str);</span><br><span class="line">        case &apos;lower&apos;:   //å°å†™</span><br><span class="line">            return /^[a-z]+$/.test(str);</span><br><span class="line">        case &apos;upper&apos;:   //å¤§å†™</span><br><span class="line">            return /^[A-Z]+$/.test(str);</span><br><span class="line">        case &apos;HTML&apos;:    //HTMLæ ‡è®°</span><br><span class="line">            return /&lt;(&quot;[^&quot;]*&quot;|&apos;[^&apos;]*&apos;|[^&apos;&quot;&gt;])*&gt;/.test(str);</span><br><span class="line">        default:</span><br><span class="line">            return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>38.ä¸¥æ ¼çš„èº«ä»½è¯æ ¡éªŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isCardID = (sId) =&gt; &#123;</span><br><span class="line">    if (!/(^\d&#123;15&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/.test(sId)) &#123;</span><br><span class="line">        console.log(&apos;ä½ è¾“å…¥çš„èº«ä»½è¯é•¿åº¦æˆ–æ ¼å¼é”™è¯¯&apos;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line">    //èº«ä»½è¯åŸå¸‚</span><br><span class="line">    var aCity = &#123; 11: &quot;åŒ—äº¬&quot;, 12: &quot;å¤©æ´¥&quot;, 13: &quot;æ²³åŒ—&quot;, 14: &quot;å±±è¥¿&quot;, 15: &quot;å†…è’™å¤&quot;, 21: &quot;è¾½å®&quot;, 22: &quot;å‰æ—&quot;, 23: &quot;é»‘é¾™æ±Ÿ&quot;, 31: &quot;ä¸Šæµ·&quot;, 32: &quot;æ±Ÿè‹&quot;, 33: &quot;æµ™æ±Ÿ&quot;, 34: &quot;å®‰å¾½&quot;, 35: &quot;ç¦å»º&quot;, 36: &quot;æ±Ÿè¥¿&quot;, 37: &quot;å±±ä¸œ&quot;, 41: &quot;æ²³å—&quot;, 42: &quot;æ¹–åŒ—&quot;, 43: &quot;æ¹–å—&quot;, 44: &quot;å¹¿ä¸œ&quot;, 45: &quot;å¹¿è¥¿&quot;, 46: &quot;æµ·å—&quot;, 50: &quot;é‡åº†&quot;, 51: &quot;å››å·&quot;, 52: &quot;è´µå·&quot;, 53: &quot;äº‘å—&quot;, 54: &quot;è¥¿è—&quot;, 61: &quot;é™•è¥¿&quot;, 62: &quot;ç”˜è‚ƒ&quot;, 63: &quot;é’æµ·&quot;, 64: &quot;å®å¤&quot;, 65: &quot;æ–°ç–†&quot;, 71: &quot;å°æ¹¾&quot;, 81: &quot;é¦™æ¸¯&quot;, 82: &quot;æ¾³é—¨&quot;, 91: &quot;å›½å¤–&quot; &#125;;</span><br><span class="line">    if (!aCity[parseInt(sId.substr(0, 2))]) &#123;</span><br><span class="line">        console.log(&apos;ä½ çš„èº«ä»½è¯åœ°åŒºéæ³•&apos;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // å‡ºç”Ÿæ—¥æœŸéªŒè¯</span><br><span class="line">    var sBirthday = (sId.substr(6, 4) + &quot;-&quot; + Number(sId.substr(10, 2)) + &quot;-&quot; + Number(sId.substr(12, 2))).replace(/-/g, &quot;/&quot;),</span><br><span class="line">        d = new Date(sBirthday)</span><br><span class="line">    if (sBirthday != (d.getFullYear() + &quot;/&quot; + (d.getMonth() + 1) + &quot;/&quot; + d.getDate())) &#123;</span><br><span class="line">        console.log(&apos;èº«ä»½è¯ä¸Šçš„å‡ºç”Ÿæ—¥æœŸéæ³•&apos;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // èº«ä»½è¯å·ç æ ¡éªŒ</span><br><span class="line">    var sum = 0,</span><br><span class="line">        weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2],</span><br><span class="line">        codes = &quot;10X98765432&quot;</span><br><span class="line">    for (var i = 0; i &lt; sId.length - 1; i++) &#123;</span><br><span class="line">        sum += sId[i] * weights[i];</span><br><span class="line">    &#125;</span><br><span class="line">    var last = codes[sum % 11]; //è®¡ç®—å‡ºæ¥çš„æœ€åä¸€ä½èº«ä»½è¯å·ç </span><br><span class="line">    if (sId[sId.length - 1] != last) &#123;</span><br><span class="line">        console.log(&apos;ä½ è¾“å…¥çš„èº«ä»½è¯å·éæ³•&apos;)</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>39.éšæœºæ•°èŒƒå›´</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const random = (min, max) =&gt; &#123;</span><br><span class="line">    if (arguments.length === 2) &#123;</span><br><span class="line">        return Math.floor(min + Math.random() * ((max + 1) - min))</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>40.å°†é˜¿æ‹‰ä¼¯æ•°å­—ç¿»è¯‘æˆä¸­æ–‡çš„å¤§å†™æ•°å­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const numberToChinese = (num) =&gt; &#123;</span><br><span class="line">    var AA = new Array(&quot;é›¶&quot;, &quot;ä¸€&quot;, &quot;äºŒ&quot;, &quot;ä¸‰&quot;, &quot;å››&quot;, &quot;äº”&quot;, &quot;å…­&quot;, &quot;ä¸ƒ&quot;, &quot;å…«&quot;, &quot;ä¹&quot;, &quot;å&quot;);</span><br><span class="line">    var BB = new Array(&quot;&quot;, &quot;å&quot;, &quot;ç™¾&quot;, &quot;ä»Ÿ&quot;, &quot;è¬&quot;, &quot;å„„&quot;, &quot;ç‚¹&quot;, &quot;&quot;);</span><br><span class="line">    var a = (&quot;&quot; + num).replace(/(^0*)/g, &quot;&quot;).split(&quot;.&quot;),</span><br><span class="line">        k = 0,</span><br><span class="line">        re = &quot;&quot;;</span><br><span class="line">    for (var i = a[0].length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        switch (k) &#123;</span><br><span class="line">            case 0:</span><br><span class="line">                re = BB[7] + re;</span><br><span class="line">                break;</span><br><span class="line">            case 4:</span><br><span class="line">                if (!new RegExp(&quot;0&#123;4&#125;//d&#123;&quot; + (a[0].length - i - 1) + &quot;&#125;$&quot;)</span><br><span class="line">                    .test(a[0]))</span><br><span class="line">                    re = BB[4] + re;</span><br><span class="line">                break;</span><br><span class="line">            case 8:</span><br><span class="line">                re = BB[5] + re;</span><br><span class="line">                BB[7] = BB[5];</span><br><span class="line">                k = 0;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        if (k % 4 == 2 &amp;&amp; a[0].charAt(i + 2) != 0 &amp;&amp; a[0].charAt(i + 1) == 0)</span><br><span class="line">            re = AA[0] + re;</span><br><span class="line">        if (a[0].charAt(i) != 0)</span><br><span class="line">            re = AA[a[0].charAt(i)] + BB[k % 4] + re;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (a.length &gt; 1) // åŠ ä¸Šå°æ•°éƒ¨åˆ†(å¦‚æœæœ‰å°æ•°éƒ¨åˆ†)</span><br><span class="line">    &#123;</span><br><span class="line">        re += BB[6];</span><br><span class="line">        for (var i = 0; i &lt; a[1].length; i++)</span><br><span class="line">            re += AA[a[1].charAt(i)];</span><br><span class="line">    &#125;</span><br><span class="line">    if (re == &apos;ä¸€å&apos;)</span><br><span class="line">        re = &quot;å&quot;;</span><br><span class="line">    if (re.match(/^ä¸€/) &amp;&amp; re.length == 3)</span><br><span class="line">        re = re.replace(&quot;ä¸€&quot;, &quot;&quot;);</span><br><span class="line">    return re;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>41.å°†æ•°å­—è½¬æ¢ä¸ºå¤§å†™é‡‘é¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const changeToChinese = (Num) =&gt; &#123;</span><br><span class="line">    //åˆ¤æ–­å¦‚æœä¼ é€’è¿›æ¥çš„ä¸æ˜¯å­—ç¬¦çš„è¯è½¬æ¢ä¸ºå­—ç¬¦</span><br><span class="line">    if (typeof Num == &quot;number&quot;) &#123;</span><br><span class="line">        Num = new String(Num);</span><br><span class="line">    &#125;;</span><br><span class="line">    Num = Num.replace(/,/g, &quot;&quot;) //æ›¿æ¢tomoney()ä¸­çš„â€œ,â€</span><br><span class="line">    Num = Num.replace(/ /g, &quot;&quot;) //æ›¿æ¢tomoney()ä¸­çš„ç©ºæ ¼</span><br><span class="line">    Num = Num.replace(/ï¿¥/g, &quot;&quot;) //æ›¿æ¢æ‰å¯èƒ½å‡ºç°çš„ï¿¥å­—ç¬¦</span><br><span class="line">    if (isNaN(Num)) &#123; //éªŒè¯è¾“å…¥çš„å­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—</span><br><span class="line">        //alert(&quot;è¯·æ£€æŸ¥å°å†™é‡‘é¢æ˜¯å¦æ­£ç¡®&quot;);</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;;</span><br><span class="line">    //å­—ç¬¦å¤„ç†å®Œæ¯•åå¼€å§‹è½¬æ¢ï¼Œé‡‡ç”¨å‰åä¸¤éƒ¨åˆ†åˆ†åˆ«è½¬æ¢</span><br><span class="line">    var part = String(Num).split(&quot;.&quot;);</span><br><span class="line">    var newchar = &quot;&quot;;</span><br><span class="line">    //å°æ•°ç‚¹å‰è¿›è¡Œè½¬åŒ–</span><br><span class="line">    for (var i = part[0].length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        if (part[0].length &gt; 10) &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">            //è‹¥æ•°é‡è¶…è¿‡æ‹¾äº¿å•ä½ï¼Œæç¤º</span><br><span class="line">        &#125;</span><br><span class="line">        var tmpnewchar = &quot;&quot;</span><br><span class="line">        var perchar = part[0].charAt(i);</span><br><span class="line">        switch (perchar) &#123;</span><br><span class="line">            case &quot;0&quot;:</span><br><span class="line">                tmpnewchar = &quot;é›¶&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;1&quot;:</span><br><span class="line">                tmpnewchar = &quot;å£¹&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;2&quot;:</span><br><span class="line">                tmpnewchar = &quot;è´°&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;3&quot;:</span><br><span class="line">                tmpnewchar = &quot;å&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;4&quot;:</span><br><span class="line">                tmpnewchar = &quot;è‚†&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;5&quot;:</span><br><span class="line">                tmpnewchar = &quot;ä¼&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;6&quot;:</span><br><span class="line">                tmpnewchar = &quot;é™†&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;7&quot;:</span><br><span class="line">                tmpnewchar = &quot;æŸ’&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;8&quot;:</span><br><span class="line">                tmpnewchar = &quot;æŒ&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">            case &quot;9&quot;:</span><br><span class="line">                tmpnewchar = &quot;ç–&quot; + tmpnewchar;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        switch (part[0].length - i - 1) &#123;</span><br><span class="line">            case 0:</span><br><span class="line">                tmpnewchar = tmpnewchar + &quot;å…ƒ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 1:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 2:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;ä½°&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 3:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;ä»Ÿ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 4:</span><br><span class="line">                tmpnewchar = tmpnewchar + &quot;ä¸‡&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 5:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 6:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;ä½°&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 7:</span><br><span class="line">                if (perchar != 0) tmpnewchar = tmpnewchar + &quot;ä»Ÿ&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 8:</span><br><span class="line">                tmpnewchar = tmpnewchar + &quot;äº¿&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 9:</span><br><span class="line">                tmpnewchar = tmpnewchar + &quot;æ‹¾&quot;;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        var newchar = tmpnewchar + newchar;</span><br><span class="line">    &#125;</span><br><span class="line">    //å°æ•°ç‚¹ä¹‹åè¿›è¡Œè½¬åŒ–</span><br><span class="line">    if (Num.indexOf(&quot;.&quot;) != -1) &#123;</span><br><span class="line">        if (part[1].length &gt; 2) &#123;</span><br><span class="line">            // alert(&quot;å°æ•°ç‚¹ä¹‹ååªèƒ½ä¿ç•™ä¸¤ä½,ç³»ç»Ÿå°†è‡ªåŠ¨æˆªæ–­&quot;);</span><br><span class="line">            part[1] = part[1].substr(0, 2)</span><br><span class="line">        &#125;</span><br><span class="line">        for (i = 0; i &lt; part[1].length; i++) &#123;</span><br><span class="line">            tmpnewchar = &quot;&quot;</span><br><span class="line">            perchar = part[1].charAt(i)</span><br><span class="line">            switch (perchar) &#123;</span><br><span class="line">                case &quot;0&quot;:</span><br><span class="line">                    tmpnewchar = &quot;é›¶&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;1&quot;:</span><br><span class="line">                    tmpnewchar = &quot;å£¹&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;2&quot;:</span><br><span class="line">                    tmpnewchar = &quot;è´°&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;3&quot;:</span><br><span class="line">                    tmpnewchar = &quot;å&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;4&quot;:</span><br><span class="line">                    tmpnewchar = &quot;è‚†&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;5&quot;:</span><br><span class="line">                    tmpnewchar = &quot;ä¼&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;6&quot;:</span><br><span class="line">                    tmpnewchar = &quot;é™†&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;7&quot;:</span><br><span class="line">                    tmpnewchar = &quot;æŸ’&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;8&quot;:</span><br><span class="line">                    tmpnewchar = &quot;æŒ&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">                case &quot;9&quot;:</span><br><span class="line">                    tmpnewchar = &quot;ç–&quot; + tmpnewchar;</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">            if (i == 0) tmpnewchar = tmpnewchar + &quot;è§’&quot;;</span><br><span class="line">            if (i == 1) tmpnewchar = tmpnewchar + &quot;åˆ†&quot;;</span><br><span class="line">            newchar = newchar + tmpnewchar;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //æ›¿æ¢æ‰€æœ‰æ— ç”¨æ±‰å­—</span><br><span class="line">    while (newchar.search(&quot;é›¶é›¶&quot;) != -1)</span><br><span class="line">        newchar = newchar.replace(&quot;é›¶é›¶&quot;, &quot;é›¶&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;é›¶äº¿&quot;, &quot;äº¿&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;äº¿ä¸‡&quot;, &quot;äº¿&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;é›¶ä¸‡&quot;, &quot;ä¸‡&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;é›¶å…ƒ&quot;, &quot;å…ƒ&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;é›¶è§’&quot;, &quot;&quot;);</span><br><span class="line">    newchar = newchar.replace(&quot;é›¶åˆ†&quot;, &quot;&quot;);</span><br><span class="line">    if (newchar.charAt(newchar.length - 1) == &quot;å…ƒ&quot;) &#123;</span><br><span class="line">        newchar = newchar + &quot;æ•´&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    return newchar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>42.åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨æ•°ç»„ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const contains = (arr, val) =&gt; &#123;</span><br><span class="line">    return arr.indexOf(val) != -1 ? true : false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>43.æ•°ç»„æ’åºï¼Œ{type} 1ï¼šä»å°åˆ°å¤§ 2ï¼šä»å¤§åˆ°å° 3ï¼šéšæœº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const sort = (arr, type = 1) =&gt; &#123;</span><br><span class="line">    return arr.sort((a, b) =&gt; &#123;</span><br><span class="line">        switch (type) &#123;</span><br><span class="line">            case 1:</span><br><span class="line">                return a - b;</span><br><span class="line">            case 2:</span><br><span class="line">                return b - a;</span><br><span class="line">            case 3:</span><br><span class="line">                return Math.random() - 0.5;</span><br><span class="line">            default:</span><br><span class="line">                return arr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>44.å»é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const unique = (arr) =&gt; &#123;</span><br><span class="line">    if (Array.hasOwnProperty(&apos;from&apos;)) &#123;</span><br><span class="line">        return Array.from(new Set(arr));</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var n = &#123;&#125;, r = [];</span><br><span class="line">        for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">            if (!n[arr[i]]) &#123;</span><br><span class="line">                n[arr[i]] = true;</span><br><span class="line">                r.push(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>45.æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const union = (a, b) =&gt; &#123;</span><br><span class="line">    var newArr = a.concat(b);</span><br><span class="line">    return this.unique(newArr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>46.æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const intersect = (a, b) =&gt; &#123;</span><br><span class="line">    var _this = this;</span><br><span class="line">    a = this.unique(a);</span><br><span class="line">    return this.map(a, function (o) &#123;</span><br><span class="line">        return _this.contains(b, o) ? o : null;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>47.åˆ é™¤å…¶ä¸­ä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const remove = (arr, ele) =&gt; &#123;</span><br><span class="line">    var index = arr.indexOf(ele);</span><br><span class="line">    if (index &gt; -1) &#123;</span><br><span class="line">        arr.splice(index, 1);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>48.å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const formArray = (ary) =&gt; &#123;</span><br><span class="line">    var arr = [];</span><br><span class="line">    if (Array.isArray(ary)) &#123;</span><br><span class="line">        arr = ary;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        arr = Array.prototype.slice.call(ary);</span><br><span class="line">    &#125;;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>49.æœ€å¤§å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const max = (arr) =&gt; &#123;</span><br><span class="line">    return Math.max.apply(null, arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>50.æœ€å°å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const min = (arr) =&gt; &#123;</span><br><span class="line">    return Math.min.apply(null, arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>51.æ±‚å’Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const sum = (arr) =&gt; &#123;</span><br><span class="line">    return arr.reduce((pre, cur) =&gt; &#123;</span><br><span class="line">        return pre + cur</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>52.å¹³å‡å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const average = (arr) =&gt; &#123;</span><br><span class="line">    return this.sum(arr) / arr.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>53.å»é™¤ç©ºæ ¼,type: 1-æ‰€æœ‰ç©ºæ ¼ 2-å‰åç©ºæ ¼ 3-å‰ç©ºæ ¼ 4-åç©ºæ ¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const trim = (str, type) =&gt; &#123;</span><br><span class="line">    type = type || 1</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">            return str.replace(/\s+/g, &quot;&quot;);</span><br><span class="line">        case 2:</span><br><span class="line">            return str.replace(/(^\s*)|(\s*$)/g, &quot;&quot;);</span><br><span class="line">        case 3:</span><br><span class="line">            return str.replace(/(^\s*)/g, &quot;&quot;);</span><br><span class="line">        case 4:</span><br><span class="line">            return str.replace(/(\s*$)/g, &quot;&quot;);</span><br><span class="line">        default:</span><br><span class="line">            return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>54.å­—ç¬¦è½¬æ¢ï¼Œtype: 1:é¦–å­—æ¯å¤§å†™ 2ï¼šé¦–å­—æ¯å°å†™ 3ï¼šå¤§å°å†™è½¬æ¢ 4ï¼šå…¨éƒ¨å¤§å†™ 5ï¼šå…¨éƒ¨å°å†™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const changeCase = (str, type) =&gt; &#123;</span><br><span class="line">    type = type || 4</span><br><span class="line">    switch (type) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">            return str.replace(/\b\w+\b/g, function (word) &#123;</span><br><span class="line">                return word.substring(0, 1).toUpperCase() + word.substring(1).toLowerCase();</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line">        case 2:</span><br><span class="line">            return str.replace(/\b\w+\b/g, function (word) &#123;</span><br><span class="line">                return word.substring(0, 1).toLowerCase() + word.substring(1).toUpperCase();</span><br><span class="line">            &#125;);</span><br><span class="line">        case 3:</span><br><span class="line">            return str.split(&apos;&apos;).map(function (word) &#123;</span><br><span class="line">                if (/[a-z]/.test(word)) &#123;</span><br><span class="line">                    return word.toUpperCase();</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    return word.toLowerCase()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).join(&apos;&apos;)</span><br><span class="line">        case 4:</span><br><span class="line">            return str.toUpperCase();</span><br><span class="line">        case 5:</span><br><span class="line">            return str.toLowerCase();</span><br><span class="line">        default:</span><br><span class="line">            return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>55.æ£€æµ‹å¯†ç å¼ºåº¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const checkPwd = (str) =&gt; &#123;</span><br><span class="line">    var Lv = 0;</span><br><span class="line">    if (str.length &lt; 6) &#123;</span><br><span class="line">        return Lv</span><br><span class="line">    &#125;</span><br><span class="line">    if (/[0-9]/.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (/[a-z]/.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (/[A-Z]/.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    if (/[\.|-|_]/.test(str)) &#123;</span><br><span class="line">        Lv++</span><br><span class="line">    &#125;</span><br><span class="line">    return Lv;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>56.å‡½æ•°èŠ‚æµå™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const debouncer = (fn, time, interval = 200) =&gt; &#123;</span><br><span class="line">    if (time - (window.debounceTimestamp || 0) &gt; interval) &#123;</span><br><span class="line">        fn &amp;&amp; fn();</span><br><span class="line">        window.debounceTimestamp = time;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>57.åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥æ–°å­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const insertStr = (soure, index, newStr) =&gt; &#123;</span><br><span class="line">    var str = soure.slice(0, index) + newStr + soure.slice(index);</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>58.åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦é”®å€¼ç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const isObjectEqual = (a, b) =&gt; &#123;</span><br><span class="line">    var aProps = Object.getOwnPropertyNames(a);</span><br><span class="line">    var bProps = Object.getOwnPropertyNames(b);</span><br><span class="line"></span><br><span class="line">    if (aProps.length !== bProps.length) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (var i = 0; i &lt; aProps.length; i++) &#123;</span><br><span class="line">        var propName = aProps[i];</span><br><span class="line"></span><br><span class="line">        if (a[propName] !== b[propName]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>59.16è¿›åˆ¶é¢œè‰²è½¬RGBRGBAå­—ç¬¦ä¸²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const colorToRGB = (val, opa) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    var pattern = /^(#?)[a-fA-F0-9]&#123;6&#125;$/; //16è¿›åˆ¶é¢œè‰²å€¼æ ¡éªŒè§„åˆ™</span><br><span class="line">    var isOpa = typeof opa == &apos;number&apos;; //åˆ¤æ–­æ˜¯å¦æœ‰è®¾ç½®ä¸é€æ˜åº¦</span><br><span class="line"></span><br><span class="line">    if (!pattern.test(val)) &#123; //å¦‚æœå€¼ä¸ç¬¦åˆè§„åˆ™è¿”å›ç©ºå­—ç¬¦</span><br><span class="line">        return &apos;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var v = val.replace(/#/, &apos;&apos;); //å¦‚æœæœ‰#å·å…ˆå»é™¤#å·</span><br><span class="line">    var rgbArr = [];</span><br><span class="line">    var rgbStr = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">    for (var i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">        var item = v.substring(i * 2, i * 2 + 2);</span><br><span class="line">        var num = parseInt(item, 16);</span><br><span class="line">        rgbArr.push(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rgbStr = rgbArr.join();</span><br><span class="line">    rgbStr = &apos;rgb&apos; + (isOpa ? &apos;a&apos; : &apos;&apos;) + &apos;(&apos; + rgbStr + (isOpa ? &apos;,&apos; + opa : &apos;&apos;) + &apos;)&apos;;</span><br><span class="line">    return rgbStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>60.è¿½åŠ urlå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export const appendQuery = (url, key, value) =&gt; &#123;</span><br><span class="line">    var options = key;</span><br><span class="line">    if (typeof options == &apos;string&apos;) &#123;</span><br><span class="line">        options = &#123;&#125;;</span><br><span class="line">        options[key] = value;</span><br><span class="line">    &#125;</span><br><span class="line">    options = $.param(options);</span><br><span class="line">    if (url.includes(&apos;?&apos;)) &#123;</span><br><span class="line">        url += &apos;&amp;&apos; + options</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        url += &apos;?&apos; + options</span><br><span class="line">    &#125;</span><br><span class="line">    return url;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>js</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºç›¸å…³åŠŸèƒ½</title>
    <url>/2019/09/28/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E5%8A%9F%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<h1 id="å¾®ä¿¡å°ç¨‹åºä¸‰çº§è”åŠ¨çœå¸‚åŒºé€‰æ‹©å™¨"><a href="#å¾®ä¿¡å°ç¨‹åºä¸‰çº§è”åŠ¨çœå¸‚åŒºé€‰æ‹©å™¨" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¸‰çº§è”åŠ¨çœå¸‚åŒºé€‰æ‹©å™¨"></a>å¾®ä¿¡å°ç¨‹åºä¸‰çº§è”åŠ¨çœå¸‚åŒºé€‰æ‹©å™¨</h1><p><img src="/images/select2.png" alt></p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ï¼ -  modelTest.wxml  - &gt;</span><br><span class="line">&lt;import src =&quot;../../ model / model.wxml&quot;/&gt;      /*å¼•å…¥ä»ä¸‹è€Œä¸Šçš„å¼¹å‡ºæ¡†*/</span><br><span class="line">&lt;view class =&quot;infoTextâ€&gt; &#123;&#123;province&#125;&#125; &#123;&#123;city&#125;&#125; &#123;&#123;county&#125;&#125; &lt;/ view&gt;</span><br><span class="line">&lt;button class =&quot;animation-button&quot; bindtap =&quot;translate&quot;&gt;é€‰æ‹©åŸå¸‚&lt;/ button&gt;</span><br><span class="line">&lt;template is =&quot;areaData&quot; data =&quot;&#123;&#123;... item&#125;&#125;&quot; /&gt;/*è¿™é‡Œçš„isæ˜¯model.wxmlä¸­templateçš„name*/</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ï¼ -  modelTest.js  - &gt;</span><br><span class="line"> model = require(&apos;../../model/model.js&apos;)//å¼•å…¥model.js</span><br><span class="line"></span><br><span class="line">var show = false;</span><br><span class="line">var item = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    item: &#123;</span><br><span class="line">      show: show</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">   //ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</span><br><span class="line">  onReady: function (e) &#123;</span><br><span class="line">    var that = this;</span><br><span class="line">    //è¯·æ±‚æ•°æ®</span><br><span class="line">    model.updateAreaData(that, 0, e);</span><br><span class="line">  &#125;,</span><br><span class="line">  //ç‚¹å‡»é€‰æ‹©åŸå¸‚æŒ‰é’®æ˜¾ç¤ºpicker-view</span><br><span class="line">  translate: function (e) &#123;</span><br><span class="line">    model.animationEvents(this, 0, true,400);  </span><br><span class="line">  &#125;,</span><br><span class="line">  //éšè—picker-view</span><br><span class="line">  hiddenFloatView: function (e) &#123;</span><br><span class="line">    console.log(&quot;id = &quot; + e.target.dataset.id)</span><br><span class="line">    model.animationEvents(this, 200, false,400);</span><br><span class="line">    //ç‚¹å‡»ç¡®å®šæŒ‰é’®æ›´æ–°æ•°æ®(id=444æ˜¯èƒŒåé€æ˜è’™ç‰ˆ id=555æ˜¯å–æ¶ˆæŒ‰é’®)</span><br><span class="line">    if (e.target.dataset.id == 666)&#123;</span><br><span class="line">      this.updateShowData()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //æ»‘åŠ¨äº‹ä»¶</span><br><span class="line">  bindChange: function (e) &#123;</span><br><span class="line">    model.updateAreaData(this, 1, e);</span><br><span class="line">    //å¦‚æœæƒ³æ»‘åŠ¨çš„æ—¶å€™ä¸å®æ—¶æ›´æ–°ï¼Œåªç‚¹ç¡®å®šçš„æ—¶å€™æ›´æ–°ï¼Œæ³¨é‡Šæ‰ä¸‹é¢è¿™è¡Œä»£ç å³å¯ã€‚</span><br><span class="line">    this.updateShowData()</span><br><span class="line">  &#125;,</span><br><span class="line">  //æ›´æ–°é¡¶éƒ¨å±•ç¤ºçš„æ•°æ®</span><br><span class="line">  updateShowData:function(e)&#123;</span><br><span class="line">    item = this.data.item;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      province: item.provinces[item.value[0]].name,</span><br><span class="line">      city: item.citys[item.value[1]].name,</span><br><span class="line">      county: item.countys[item.value[2]].name</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  ,</span><br><span class="line">  onReachBottom: function ()&#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  nono: function ()&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ï¼ -  modelTest.wxss  - &gt;</span><br><span class="line">@import &apos;../../model/model.wxss&apos;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å°±æ˜¯modelçš„ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--model.wxml--&gt;</span><br><span class="line">&lt;template name=&quot;msgItem&quot;&gt;</span><br><span class="line">  &lt;view class = &apos;centerText&apos;&gt;</span><br><span class="line">    &lt;text&gt; &#123;&#123;index&#125;&#125;: &#123;&#123;msg&#125;&#125; &lt;/text&gt;</span><br><span class="line">    &lt;text&gt; Time: &#123;&#123;time&#125;&#125; &lt;/text&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- --------------åˆ†å‰²çº¿------------- --&gt;</span><br><span class="line"></span><br><span class="line">&lt;template name=&quot;areaData&quot;&gt;</span><br><span class="line">  &lt;view class=&quot;animation-element-wrapper&quot; animation=&quot;&#123;&#123;animation&#125;&#125;&quot; style=&quot;visibility:&#123;&#123;show ? &apos;visible&apos;:&apos;hidden&apos;&#125;&#125;&quot; bindtap=&quot;hiddenFloatView&quot; data-id=&quot;444&quot;&gt;</span><br><span class="line">     &lt;view class=&quot;animation-element&quot; catchtap=&quot;nono&quot;&gt;</span><br><span class="line">        &lt;text class=&quot;left-bt&quot; catchtap=&quot;hiddenFloatView&quot; data-id=&quot;555&quot;&gt;å–æ¶ˆ&lt;/text&gt;</span><br><span class="line">        &lt;text class=&quot;right-bt&quot; catchtap=&quot;hiddenFloatView&quot; data-id=&quot;666&quot;&gt;ç¡®å®š&lt;/text&gt;</span><br><span class="line">          &lt;view class=&quot;line&quot;&gt;&lt;/view&gt; </span><br><span class="line"></span><br><span class="line">        &lt;picker-view indicator-style = &quot;height: 50rpx;&quot; value=&quot;&#123;&#123;value&#125;&#125;&quot; bindchange=&quot;bindChange&quot; catchtap=&quot;nono&quot;&gt;</span><br><span class="line">        &lt;!--çœ--&gt;</span><br><span class="line">        &lt;picker-view-column&gt;</span><br><span class="line">           &lt;view wx:for=&quot;&#123;&#123;provinces&#125;&#125;&quot; wx:for-item=&quot;sheng&quot; wx:key=&quot;&quot;&gt;</span><br><span class="line">             &#123;&#123;sheng.name&#125;&#125;</span><br><span class="line">          &lt;/view&gt;</span><br><span class="line">        &lt;/picker-view-column&gt;</span><br><span class="line">        &lt;!--åœ°çº§å¸‚--&gt;</span><br><span class="line">        &lt;picker-view-column&gt;</span><br><span class="line">          &lt;view wx:for=&quot;&#123;&#123;citys&#125;&#125;&quot; wx:for-item=&quot;shi&quot; wx:key=&quot;&quot;&gt;</span><br><span class="line">            &#123;&#123;shi.name&#125;&#125;</span><br><span class="line">          &lt;/view&gt;</span><br><span class="line">        &lt;/picker-view-column&gt;</span><br><span class="line">        &lt;!--åŒºå¿--&gt;</span><br><span class="line">        &lt;picker-view-column&gt;</span><br><span class="line">          &lt;view wx:for=&quot;&#123;&#123;countys&#125;&#125;&quot; wx:for-item=&quot;xian&quot; wx:key=&quot;&quot;&gt;</span><br><span class="line">            &#123;&#123;xian.name&#125;&#125;</span><br><span class="line">          &lt;/view&gt;</span><br><span class="line">        &lt;/picker-view-column&gt;</span><br><span class="line">        &lt;/picker-view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/* model.wxss */</span><br><span class="line">page&#123;</span><br><span class="line">  background-color: rgba(255, 255, 255, 1); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.infoText&#123;</span><br><span class="line">    margin-top: 20rpx;</span><br><span class="line">    text-align: center;</span><br><span class="line">    width: 100%;</span><br><span class="line">    justify-content: center; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.centerText&#123;</span><br><span class="line">  margin-top: 100rpx;</span><br><span class="line">  width: 100%;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* --------------åˆ†å‰²çº¿------------- */</span><br><span class="line"></span><br><span class="line">picker-view&#123;</span><br><span class="line">  background-color: white;</span><br><span class="line">  padding: 0;</span><br><span class="line">  width: 100%; </span><br><span class="line">  height: 380rpx;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  position: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">picker-view-column view&#123;</span><br><span class="line">  vertical-align:middle; </span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  line-height: 28rpx;</span><br><span class="line">  height: 100%;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.animation-element-wrapper &#123;</span><br><span class="line">  display: flex;  </span><br><span class="line">  position: fixed;</span><br><span class="line">  left: 0;</span><br><span class="line">  top:0;</span><br><span class="line">  height: 100%;</span><br><span class="line">  width: 100%;</span><br><span class="line">  background-color: rgba(0, 0, 0, 0.6);</span><br><span class="line">&#125;</span><br><span class="line">.animation-element &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  position: fixed;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 470rpx;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  background-color: rgba(255, 255, 255, 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.animation-button &#123;</span><br><span class="line">  margin-top: 20rpx;</span><br><span class="line">  top:20rpx;</span><br><span class="line">  width: 400rpx;</span><br><span class="line">  height: 100rpx; </span><br><span class="line">  line-height: 100rpx; </span><br><span class="line">  align-items:center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.animation-element text&#123;</span><br><span class="line">  color: #999999;</span><br><span class="line">  display: inline-flex;  </span><br><span class="line">  position: fixed;</span><br><span class="line">  margin-top: 20rpx;</span><br><span class="line">  height: 50rpx;</span><br><span class="line">  text-align: center;</span><br><span class="line">  line-height: 50rpx;</span><br><span class="line">  font-size: 34rpx;</span><br><span class="line">  font-family: Arial, Helvetica, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.left-bt&#123;</span><br><span class="line">  left: 30rpx;</span><br><span class="line">&#125;</span><br><span class="line">.right-bt &#123;</span><br><span class="line">  right: 30rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.line&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: fixed;</span><br><span class="line">  height: 1rpx;</span><br><span class="line">  width: 100%;</span><br><span class="line">  margin-top: 89rpx; </span><br><span class="line">  background-color: #eeeeee;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// model.js</span><br><span class="line">var area = require(&apos;../utils/area.js&apos;)</span><br><span class="line">var areaInfo = [];//æ‰€æœ‰çœå¸‚åŒºå¿æ•°æ®</span><br><span class="line">var provinces = [];//çœ</span><br><span class="line">var citys = [];//åŸå¸‚</span><br><span class="line">var countys = [];//åŒºå¿</span><br><span class="line">var value = [0, 0, 0];//æ•°æ®ä½ç½®ä¸‹æ ‡</span><br><span class="line">var info = &#123;&#125;;</span><br><span class="line">function updateAreaData(that, status, e) &#123;</span><br><span class="line">  //è·å–çœä»½æ•°æ®</span><br><span class="line">  var getProvinceData = function () &#123;</span><br><span class="line">    var s;</span><br><span class="line">    provinces = [];</span><br><span class="line">    var num = 0;</span><br><span class="line">    for (var i = 0; i &lt; areaInfo.length; i++) &#123;</span><br><span class="line">      s = areaInfo[i];</span><br><span class="line">      if (s.di == &quot;00&quot; &amp;&amp; s.xian == &quot;00&quot;) &#123;</span><br><span class="line">        provinces[num] = s;</span><br><span class="line">        num++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //åˆå§‹åŒ–è°ƒä¸€æ¬¡</span><br><span class="line">    //è·å–åœ°çº§å¸‚æ•°æ®</span><br><span class="line">    getCityArr();</span><br><span class="line">    //è·å–åŒºå¿æ•°æ®</span><br><span class="line">    getCountyInfo();</span><br><span class="line"></span><br><span class="line">    //æ¨¡å‹èµ‹å€¼</span><br><span class="line">    info = &#123;</span><br><span class="line">      item: &#123;</span><br><span class="line">        provinces: provinces,</span><br><span class="line">        citys: citys,</span><br><span class="line">        countys: countys,</span><br><span class="line">        value: value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    animationEvents(that, 200, false, 0);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // è·å–åœ°çº§å¸‚æ•°æ®</span><br><span class="line">  var getCityArr = function (count = 0) &#123;</span><br><span class="line">    var c;</span><br><span class="line">    citys = [];</span><br><span class="line">    var num = 0;</span><br><span class="line">    for (var i = 0; i &lt; areaInfo.length; i++) &#123;</span><br><span class="line">      c = areaInfo[i];</span><br><span class="line">      if (c.xian == &quot;00&quot; &amp;&amp; c.sheng == provinces[count].sheng &amp;&amp; c.di != &quot;00&quot;) &#123;</span><br><span class="line">        citys[num] = c;</span><br><span class="line">        num++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (citys.length == 0) &#123;</span><br><span class="line">      citys[0] = &#123; name: &apos;&apos; &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // è·å–åŒºå¿æ•°æ®</span><br><span class="line">  var getCountyInfo = function (column0 = 0, column1 = 0) &#123;</span><br><span class="line">    var c;</span><br><span class="line">    countys = [];</span><br><span class="line">    var num = 0;</span><br><span class="line">    for (var i = 0; i &lt; areaInfo.length; i++) &#123;</span><br><span class="line">      c = areaInfo[i];</span><br><span class="line">      if (c.xian != &quot;00&quot; &amp;&amp; c.sheng == provinces[column0].sheng &amp;&amp; c.di == citys[column1].di) &#123;</span><br><span class="line">        countys[num] = c;</span><br><span class="line">        num++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if (countys.length == 0) &#123;</span><br><span class="line">      countys[0] = &#123; name: &apos;&apos; &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    value = [column0, column1, 0];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //æ»‘åŠ¨äº‹ä»¶</span><br><span class="line">  var valueChange = function (e, that) &#123;</span><br><span class="line">    var val = e.detail.value</span><br><span class="line">    console.log(e)</span><br><span class="line">    //åˆ¤æ–­æ»‘åŠ¨çš„æ˜¯ç¬¬å‡ ä¸ªcolumn</span><br><span class="line">    //è‹¥çœä»½columnåšäº†æ»‘åŠ¨åˆ™å®šä½åˆ°åœ°çº§å¸‚å’ŒåŒºå¿ç¬¬ä¸€ä½</span><br><span class="line">    if (value[0] != val[0]) &#123;</span><br><span class="line">      val[1] = 0;</span><br><span class="line">      val[2] = 0;</span><br><span class="line">      getCityArr(val[0]);//è·å–åœ°çº§å¸‚æ•°æ®</span><br><span class="line">      getCountyInfo(val[0], val[1]);//è·å–åŒºå¿æ•°æ®</span><br><span class="line">    &#125; else &#123;    //è‹¥çœä»½columnæœªåšæ»‘åŠ¨ï¼Œåœ°çº§å¸‚åšäº†æ»‘åŠ¨åˆ™å®šä½åŒºå¿ç¬¬ä¸€ä½</span><br><span class="line">      if (value[1] != val[1]) &#123;</span><br><span class="line">        val[2] = 0;</span><br><span class="line">        getCountyInfo(val[0], val[1]);//è·å–åŒºå¿æ•°æ®</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    value = val;</span><br><span class="line"></span><br><span class="line">    assignmentData(that, that.data.item.show)</span><br><span class="line"></span><br><span class="line">    console.log(val);</span><br><span class="line"></span><br><span class="line">    //å›è°ƒ</span><br><span class="line">    //callBack(val);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (status == 0) &#123;</span><br><span class="line">    area.getAreaInfo(function (arr) &#123;</span><br><span class="line">      areaInfo = arr;</span><br><span class="line">      //è·å–çœä»½æ•°æ®</span><br><span class="line">      getProvinceData();</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  //æ»‘åŠ¨äº‹ä»¶</span><br><span class="line">  else &#123;</span><br><span class="line">    valueChange(e, that);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//åŠ¨ç”»äº‹ä»¶</span><br><span class="line">function animationEvents(that, moveY, show, duration) &#123;</span><br><span class="line">  console.log(&quot;moveY:&quot; + moveY + &quot;\nshow:&quot; + show);</span><br><span class="line">  that.animation = wx.createAnimation(&#123;</span><br><span class="line">    transformOrigin: &quot;50% 50%&quot;,</span><br><span class="line">    duration: duration,</span><br><span class="line">    timingFunction: &quot;ease&quot;,</span><br><span class="line">    delay: 0</span><br><span class="line">  &#125;)</span><br><span class="line">  that.animation.translateY(moveY + &apos;vh&apos;).step()</span><br><span class="line">  //èµ‹å€¼</span><br><span class="line">  assignmentData(that, show)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//èµ‹å€¼</span><br><span class="line">function assignmentData(that, show) &#123;</span><br><span class="line">  that.setData(&#123;</span><br><span class="line">    item: &#123;</span><br><span class="line">      animation: that.animation.export(),</span><br><span class="line">      show: show,</span><br><span class="line">      provinces: provinces,</span><br><span class="line">      citys: citys,</span><br><span class="line">      countys: countys,</span><br><span class="line">      value: value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  updateAreaData: updateAreaData,</span><br><span class="line">  animationEvents: animationEvents</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºareaçš„ä»£ç é‡è¾ƒå¤§æ‰€ä»¥è¯·ç§»æ­¥æœ¬äººgithubä¸‹è½½å³å¯<br>githubåœ°å€ï¼š<a href="https://github.com/yueqiqi/tushifang2/blob/master/%E7%9C%81%E5%B8%82%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8/utils/area.js" target="_blank" rel="noopener">https://github.com/yueqiqi/tushifang2/blob/master/%E7%9C%81%E5%B8%82%E5%8C%BA%E4%B8%89%E7%BA%A7%E8%81%94%E5%8A%A8/utils/area.js</a></p>
<h1 id="å¾®ä¿¡å°ç¨‹åºä¸Šä¼ å›¾ç‰‡åŠŸèƒ½"><a href="#å¾®ä¿¡å°ç¨‹åºä¸Šä¼ å›¾ç‰‡åŠŸèƒ½" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºä¸Šä¼ å›¾ç‰‡åŠŸèƒ½"></a>å¾®ä¿¡å°ç¨‹åºä¸Šä¼ å›¾ç‰‡åŠŸèƒ½</h1><!-- more -->
<h2 id="ä¸å¸¦ä¸Šä¼ åˆ°åå°çš„åŠŸèƒ½"><a href="#ä¸å¸¦ä¸Šä¼ åˆ°åå°çš„åŠŸèƒ½" class="headerlink" title="ä¸å¸¦ä¸Šä¼ åˆ°åå°çš„åŠŸèƒ½"></a>ä¸å¸¦ä¸Šä¼ åˆ°åå°çš„åŠŸèƒ½</h2><iframe width="500" height="700" src="/images/GIF.gif"></iframe>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- wxml --&gt;</span><br><span class="line">&lt;!-- å®¹å™¨ --&gt;</span><br><span class="line">&lt;view class=&apos;ui_uploader_cell&apos;&gt;</span><br><span class="line">    &lt;!-- æ ¹æ®å·²é€‰æ‹©çš„å›¾ç‰‡ä¸´æ—¶è·¯å¾„æ•°ç»„å±•ç¤ºå›¾ç‰‡--&gt;</span><br><span class="line">    &lt;view class=&apos;ui_uploader_item&apos; wx:for=&quot;&#123;&#123;uploaderList&#125;&#125;&quot; wx:key=&quot;&#123;&#123;index&#125;&#125;&quot;&gt;</span><br><span class="line">        &lt;!-- åˆ é™¤å°çº¢å‰--&gt;</span><br><span class="line">        &lt;!-- data-indexè‡ªå®šä¹‰å±æ€§ --&gt;</span><br><span class="line">        &lt;icon class=&apos;ui_uploader_item_icon&apos; bindtap=&apos;clearImg&apos; data-index=&quot;&#123;&#123;index&#125;&#125;&quot; type=&quot;clear&quot; size=&quot;20&quot; color=&quot;red&quot;/&gt;</span><br><span class="line">        &lt;!-- å›¾ç‰‡--&gt;</span><br><span class="line">        &lt;image bindtap=&apos;showImg&apos; data-index=&quot;&#123;&#123;index&#125;&#125;&quot; src=&apos;&#123;&#123;item&#125;&#125;&apos;&gt;&lt;/image&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">    &lt;!-- ä¸Šä¼ æŒ‰é’®+æ¡† --&gt;</span><br><span class="line">    &lt;view class=&apos;ui_uploader&apos; bindtap=&apos;upload&apos; wx:if=&quot;&#123;&#123;showUpload&#125;&#125;&quot;&gt;&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- js --&gt;</span><br><span class="line">åˆå§‹å€¼</span><br><span class="line">page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    uploadList:[],//å·²é€‰æ‹©çš„å›¾ç‰‡ä¸´æ—¶è·¯å¾„æ•°ç»„</span><br><span class="line">    uploadNum:0,//å·²é€‰æ‹©çš„å›¾ç‰‡ä¸ªæ•°</span><br><span class="line">    showUpload:true,//ç”¨æ¥åˆ¤æ–­å›¾ç‰‡æ˜¯å¦è¶…è¿‡9å¼ ï¼Œå½“è¶…è¿‡é™å®šå€¼ä¸å¯ç»§ç»­ä¸Šä¼ </span><br><span class="line">  &#125;</span><br><span class="line">  // åˆ é™¤å›¾ç‰‡</span><br><span class="line">    clearImg:function(e)&#123;</span><br><span class="line">        var nowList = [];//æ–°æ•°æ®</span><br><span class="line">        var uploaderList = this.data.uploaderList;//åŸæ•°æ®</span><br><span class="line">        </span><br><span class="line">        for (let i = 0; i &lt; uploaderList.length;i++)&#123;</span><br><span class="line">            if (i == e.currentTarget.dataset.index)&#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                nowList.push(uploaderList[i])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        this.setData(&#123;</span><br><span class="line">            uploaderNum: this.data.uploaderNum - 1,</span><br><span class="line">            uploaderList: nowList,</span><br><span class="line">            showUpload: true</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //å±•ç¤ºå›¾ç‰‡</span><br><span class="line">    showImg:function(e)&#123;</span><br><span class="line">        var that=this;</span><br><span class="line">        wx.previewImage(&#123;</span><br><span class="line">            urls: that.data.uploaderList,</span><br><span class="line">            current: that.data.uploaderList[e.currentTarget.dataset.index]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //ä¸Šä¼ å›¾ç‰‡</span><br><span class="line">    upload: function(e) &#123;</span><br><span class="line">        var that = this;</span><br><span class="line">        wx.chooseImage(&#123;</span><br><span class="line">            count: 9 - that.data.uploaderNum, // é»˜è®¤9</span><br><span class="line">            sizeType: [&apos;original&apos;, &apos;compressed&apos;], // å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</span><br><span class="line">            sourceType: [&apos;album&apos;, &apos;camera&apos;], // å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</span><br><span class="line">            success: function(res) &#123;</span><br><span class="line">                console.log(res)</span><br><span class="line">                // è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼ŒtempFilePathå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡</span><br><span class="line">                let tempFilePaths = res.tempFilePaths;</span><br><span class="line">                let uploaderList = that.data.uploaderList.concat(tempFilePaths);</span><br><span class="line">                if (uploaderList.length==9)&#123;</span><br><span class="line">                    that.setData(&#123;</span><br><span class="line">                        showUpload:false</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">                that.setData(&#123;</span><br><span class="line">                    uploaderList: uploaderList,</span><br><span class="line">                    uploaderNum: uploaderList.length,</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h1 id="å¾®ä¿¡å°ç¨‹åºå•é€‰å¤šé€‰åŠŸèƒ½"><a href="#å¾®ä¿¡å°ç¨‹åºå•é€‰å¤šé€‰åŠŸèƒ½" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå•é€‰å¤šé€‰åŠŸèƒ½"></a>å¾®ä¿¡å°ç¨‹åºå•é€‰å¤šé€‰åŠŸèƒ½</h1><!-- more -->
<p><img src="/images/radio.png" alt></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- wxml --&gt;</span><br><span class="line">&lt;!-- å¤šé€‰åŠŸèƒ½ --&gt;</span><br><span class="line">&lt;!--wxml--&gt;</span><br><span class="line">&lt;view class=&apos;wrap&apos;&gt;</span><br><span class="line">  &lt;view class=&apos;checkbox-con&apos;&gt;</span><br><span class="line">    &lt;checkbox-group bindchange=&quot;checkboxChange&quot;&gt;</span><br><span class="line">      &lt;label class=&quot;&#123;&#123;item.checked?&apos;checkbox checked&apos;:&apos;checkbox&apos;&#125;&#125;&quot; wx:for=&quot;&#123;&#123;checkboxArr&#125;&#125;&quot; bindtap=&apos;checkbox&apos; data-index=&quot;&#123;&#123;index&#125;&#125;&quot; wx:key=&quot;item.name&quot;&gt;</span><br><span class="line">        &lt;checkbox value=&quot;&#123;&#123;item.name&#125;&#125;&quot; checked=&quot;&#123;&#123;item.checked&#125;&#125;&quot;/&gt;&#123;&#123;item.name&#125;&#125;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">    &lt;/checkbox-group&gt;</span><br><span class="line">     &lt;button type=&apos;primary&apos; bindtap=&apos;confirm&apos;&gt;æäº¤&lt;/button&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;!-- å•é€‰åŠŸèƒ½ --&gt;</span><br><span class="line">&lt;!--wxml--&gt;</span><br><span class="line">&lt;view class=&apos;wrap&apos;&gt;</span><br><span class="line">  &lt;view class=&apos;checkbox-con&apos;&gt;</span><br><span class="line">    &lt;radio-group bindchange=&quot;radioChange&quot;&gt;</span><br><span class="line">      &lt;label class=&quot;&#123;&#123;item.checked?&apos;checkbox checked&apos;:&apos;checkbox&apos;&#125;&#125;&quot; wx:for=&quot;&#123;&#123;checkboxArr&#125;&#125;&quot; bindtap=&apos;radio&apos; data-index=&quot;&#123;&#123;index&#125;&#125;&quot; wx:key=&quot;item.name&quot;&gt;</span><br><span class="line">        &lt;checkbox value=&quot;&#123;&#123;item.name&#125;&#125;&quot; checked=&quot;&#123;&#123;item.checked&#125;&#125;&quot;/&gt;&#123;&#123;item.name&#125;&#125;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">    &lt;/radio-group&gt;</span><br><span class="line">     &lt;button type=&apos;primary&apos; bindtap=&apos;confirm&apos;&gt;æäº¤&lt;/button&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- wxss --&gt;</span><br><span class="line">/* wxss */</span><br><span class="line">.wrap&#123;</span><br><span class="line">  width: 550rpx;</span><br><span class="line">  margin: 50rpx auto</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.checkbox-con&#123;</span><br><span class="line">  margin-top: 40rpx;</span><br><span class="line">  text-align: center</span><br><span class="line">&#125;</span><br><span class="line">.checkbox&#123;</span><br><span class="line">  width: 260rpx;</span><br><span class="line">  height: 72rpx;</span><br><span class="line">  line-height: 72rpx;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  color: #888888;</span><br><span class="line">  border: 1rpx solid #CECECE;</span><br><span class="line">  border-radius: 5rpx;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin: 0 10rpx 20rpx 0;</span><br><span class="line">  position: relative</span><br><span class="line">&#125;</span><br><span class="line">.checked&#123;</span><br><span class="line">  color: #1A92EC;</span><br><span class="line">  background: rgba(49,165,253,0.08);</span><br><span class="line">  border: 1rpx solid #31A5FD;</span><br><span class="line">&#125;</span><br><span class="line">.checkbox checkbox&#123;</span><br><span class="line">  display: none</span><br><span class="line">&#125;</span><br><span class="line">.checked-img&#123;</span><br><span class="line">  width: 28rpx;</span><br><span class="line">  height: 28rpx;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- js --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    checkboxArr: [&#123;</span><br><span class="line">      name: &apos;é€‰é¡¹A&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: &apos;é€‰é¡¹B&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: &apos;é€‰é¡¹C&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: &apos;é€‰é¡¹D&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: &apos;é€‰é¡¹E&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      name: &apos;é€‰é¡¹F&apos;,</span><br><span class="line">      checked: false</span><br><span class="line">    &#125;],</span><br><span class="line">  &#125;,</span><br><span class="line">  // å•é€‰åŠŸèƒ½</span><br><span class="line">  radio: function (e) &#123;</span><br><span class="line">    var index = e.currentTarget.dataset.index;//è·å–å½“å‰ç‚¹å‡»çš„ä¸‹æ ‡</span><br><span class="line">    var checkboxArr = this.data.checkboxArr;//é€‰é¡¹é›†åˆ</span><br><span class="line">    if (checkboxArr[index].checked) return;//å¦‚æœç‚¹å‡»çš„å½“å‰å·²é€‰ä¸­åˆ™è¿”å›</span><br><span class="line">    checkboxArr.forEach(item =&gt; &#123;</span><br><span class="line">      item.checked = false</span><br><span class="line">    &#125;)</span><br><span class="line">    checkboxArr[index].checked = true;//æ”¹å˜å½“å‰é€‰ä¸­çš„checkedå€¼</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      checkboxArr: checkboxArr</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  radioChange: function (e) &#123;</span><br><span class="line">    var checkValue = e.detail.value;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      checkValue: checkValue</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  confirm: function () &#123;// æäº¤</span><br><span class="line">    console.log(this.data.checkValue)//æ‰€æœ‰é€‰ä¸­çš„é¡¹çš„value</span><br><span class="line">  &#125;,</span><br><span class="line">  // å¤šé€‰åŠŸèƒ½</span><br><span class="line">  checkbox: function (e) &#123;</span><br><span class="line">    var index = e.currentTarget.dataset.index;//è·å–å½“å‰ç‚¹å‡»çš„ä¸‹æ ‡</span><br><span class="line">    var checkboxArr = this.data.checkboxArr;//é€‰é¡¹é›†åˆ</span><br><span class="line">    checkboxArr[index].checked = !checkboxArr[index].checked;//æ”¹å˜å½“å‰é€‰ä¸­çš„checkedå€¼</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      checkboxArr: checkboxArr</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  checkboxChange: function (e) &#123;</span><br><span class="line">    var checkValue = e.detail.value;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      checkValue: checkValue</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  confirm: function () &#123;// æäº¤</span><br><span class="line">    console.log(this.data.checkValue)//æ‰€æœ‰é€‰ä¸­çš„é¡¹çš„value</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ -ä¸­é—´ä¸€ä¸ªå‡¸èµ·"><a href="#å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ -ä¸­é—´ä¸€ä¸ªå‡¸èµ·" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ (ä¸­é—´ä¸€ä¸ªå‡¸èµ·)"></a>å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰åº•éƒ¨å¯¼èˆªæ (ä¸­é—´ä¸€ä¸ªå‡¸èµ·)</h1><p><img src="/images/tabbar.png" alt></p>
<!-- more -->
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- router.js --&gt;æ›¿ä»£å¾®ä¿¡å°ç¨‹åºè‡ªå¸¦çš„åº•éƒ¨å¯¼èˆªæ¡</span><br><span class="line">module.exports = [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;pagePath&quot;: &quot;pages/body/body&quot;,</span><br><span class="line">    &quot;text&quot;: &quot;ä¸»é¡µ&quot;,</span><br><span class="line">    &quot;iconPath&quot;: &quot;/pages/images/home1.png&quot;,</span><br><span class="line">    &quot;selectedIconPath&quot;: &quot;/pages/images/home2.png&quot;,</span><br><span class="line">    &quot;auth&quot;: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;pagePath&quot;: &quot;pages/informmation/recruitment/recruitment&quot;,</span><br><span class="line">    &quot;text&quot;: &quot;ä¿¡æ¯ä¸­å¿ƒ&quot;,</span><br><span class="line">    &quot;iconPath&quot;: &quot;/pages/images/mes1.png&quot;,</span><br><span class="line">    &quot;selectedIconPath&quot;: &quot;/pages/images/mes2.png&quot;,</span><br><span class="line">    &quot;auth&quot;: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;pagePath&quot;: &quot;pages/index/index&quot;,</span><br><span class="line">    &quot;text&quot;: &quot; &quot;,</span><br><span class="line">    &quot;iconPath&quot;: &quot;/pages/images/add2.png&quot;,</span><br><span class="line">    &quot;selectedIconPath&quot;: &quot;/pages/images/add2.png&quot;,</span><br><span class="line">    &quot;auth&quot;: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;pagePath&quot;: &quot;pages/store/index/index&quot;,</span><br><span class="line">    &quot;text&quot;: &quot;å•†åŸ&quot;,</span><br><span class="line">    &quot;iconPath&quot;: &quot;/pages/images/store1.png&quot;,</span><br><span class="line">    &quot;selectedIconPath&quot;: &quot;/pages/images/store2.png&quot;,</span><br><span class="line">    &quot;auth&quot;: 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;pagePath&quot;: &quot;pages/self/index/index&quot;,</span><br><span class="line">    &quot;text&quot;: &quot;ä¼šå‘˜ä¸­å¿ƒ&quot;,</span><br><span class="line">    &quot;iconPath&quot;: &quot;/pages/images/self1.png&quot;,</span><br><span class="line">    &quot;selectedIconPath&quot;: &quot;/pages/images/self2.png&quot;,</span><br><span class="line">    &quot;auth&quot;: 0</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- tabbar.wxml --&gt;</span><br><span class="line">&lt;!-- åº•éƒ¨å¯¼èˆªæ¡ --&gt;</span><br><span class="line">&lt;view class=&apos;tabbar&apos;&gt;</span><br><span class="line">  &lt;view wx:if=&apos;&#123;&#123;_auth &gt;= item.auth&#125;&#125;&apos; class=&apos;tabbar-item&apos; wx:for=&apos;&#123;&#123;tabbarList&#125;&#125;&apos; wx:key=&apos;&#123;&#123;item.pagePath&#125;&#125;&apos; bindtap=&apos;handleItemTap&apos; data-path=&apos;&#123;&#123;item.pagePath&#125;&#125;&apos; data-idx=&apos;&#123;&#123;index&#125;&#125;&apos;&gt;</span><br><span class="line">    &lt;view class=&apos;tabbar-item-icon&apos;&gt;</span><br><span class="line">      &lt;image src=&apos;&#123;&#123;activeIdx === index ? item.selectedIconPath : item.iconPath&#125;&#125;&apos;&gt;&lt;/image&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">    &lt;view class=&apos;tabbar-item-text &#123;&#123;activeIdx === index ? &quot;active&quot; : &quot;&quot;&#125;&#125;&apos;&gt;&#123;&#123;item.text&#125;&#125;&lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- tabbar.wxss --&gt;</span><br><span class="line">/* pages/tab/tab.wxss */</span><br><span class="line">.tabbar &#123;</span><br><span class="line">  z-index:99999;</span><br><span class="line">  position: fixed;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  border-top: 0.5px solid #d5d5d5;</span><br><span class="line">  display: flex;</span><br><span class="line">  font-size: 0;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.tabbar-item &#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">  text-align: center;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  padding: 8rpx 10rpx 0;</span><br><span class="line">  color: #333333;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item:nth-child(3)&#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  bottom: 50rpx;</span><br><span class="line">  height:150rpx;</span><br><span class="line">  flex: 0.7;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item:nth-child(3) .tabbar-item-icon&#123;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  background: #fff;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  border-top: solid 1px gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item:nth-child(3) .tabbar-item-icon image&#123;</span><br><span class="line">  width: 90rpx;</span><br><span class="line">  height: 90rpx;</span><br><span class="line">  padding-top: 0rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item:nth-child(3) .tabbar-item-text&#123;</span><br><span class="line">  line-height: 0;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  margin-top: 8px;</span><br><span class="line">  color: #808080;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item-icon &#123;</span><br><span class="line">  margin-bottom: 6rpx;</span><br><span class="line">  height: 56rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item-icon image &#123;</span><br><span class="line">  width: 56rpx;</span><br><span class="line">  height: 56rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.tabbar-item-text &#123;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  line-height: 20rpx;</span><br><span class="line">  color: #808080;</span><br><span class="line">&#125;</span><br><span class="line">.active &#123;</span><br><span class="line">  color: rgba(118,212,198,1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- tabbar.js --&gt;</span><br><span class="line">// pages/tab/tab.js</span><br><span class="line">import tabbarList from &quot;../../utils/router.js&quot;//æ ¹æ®åˆšæ‰åˆ›å»ºçš„router.jså¼•å…¥å³å¯</span><br><span class="line">Component(&#123;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span><br><span class="line">   */</span><br><span class="line">  properties: &#123;</span><br><span class="line">    activeIdx: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      value: 0,</span><br><span class="line">      observer: &apos;onAuthChanged&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span><br><span class="line">   */</span><br><span class="line">  data: &#123;</span><br><span class="line">    tabbarList: tabbarList,</span><br><span class="line">    _auth: 0</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span><br><span class="line">   */</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleItemTap(e) &#123;</span><br><span class="line">      const &#123;</span><br><span class="line">        idx,</span><br><span class="line">        path</span><br><span class="line">      &#125; = e.currentTarget.dataset</span><br><span class="line"></span><br><span class="line">      if (idx === this.data.activeIdx) &#123;</span><br><span class="line">        this.trigger(&apos;refresh&apos;)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      wx.switchTab(&#123;</span><br><span class="line">        url: `/$&#123;path&#125;`,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    onAuthChanged(newVal) &#123;</span><br><span class="line">      wx.setStorageSync(&apos;__com-tabbar-auth&apos;, newVal)</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        _auth: newVal</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    trigger(eventName, value = &#123;&#125;, info) &#123;</span><br><span class="line">      if (!eventName) &#123;</span><br><span class="line">        throw new TypeError(&apos;æ²¡æœ‰è‡ªå®šä¹‰äº‹ä»¶å&apos;)</span><br><span class="line">      &#125;</span><br><span class="line">      this.triggerEvent(eventName, value)</span><br><span class="line">      console.log(`å‘é€ $&#123;eventName&#125; äº‹ä»¶,æºå¸¦çš„å€¼ä¸º $&#123;typeof value === &apos;object&apos; ? JSON.stringify(value) : value&#125; $&#123;info ? &apos;   ---   &apos; + info : &apos;&apos;&#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  ready() &#123; &#125;,</span><br><span class="line">  /** æƒé™æ˜¾ç¤º */</span><br><span class="line">  pageLifetimes: &#123;</span><br><span class="line">    show: function () &#123;</span><br><span class="line">      console.log(&apos;show&apos;)</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        _auth: wx.getStorageSync(&apos;__com-tabbar-auth&apos;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>tabbarç»„ä»¶åˆ›å»ºå®Œæˆ ç›´æ¥åœ¨éœ€è¦æ˜¾ç¤ºåº•éƒ¨å¯¼èˆªæ¡çš„é¡µé¢å¼•å…¥å³å¯<br>el:åœ¨indexä¸­å¼•å…¥åº•éƒ¨å¯¼èˆªæ¡<br>1.åœ¨index.jsonä¸­â€usingComponentsâ€: {â€œtabbarâ€: â€œ/pages/tabbar/tabbarâ€}//ä½ç½®æ˜¯åˆšæ‰çš„tabbar.wxmlä½ç½®<br>2.åœ¨index.wxmlä¸­æœ€å(ä½ç½®ä¸é™)æ·»åŠ <tabbar activeidx></tabbar><br>3.ï¼ï¼ï¼åœ¨index.js dataä¸­æ·»åŠ  activeIdx: 0{æ ¹æ®ä¸‹æ ‡é€‰æ‹©(el:indexæ˜¯é¦–é¡µå°±æ˜¯0ï¼Œbodyæ˜¯ä¿¡æ¯ä¸­å¿ƒå°±æ˜¯1â€¦)},</p>
<h1 id="å¾®ä¿¡å°ç¨‹åºé€‰é¡¹å¡åŠŸèƒ½"><a href="#å¾®ä¿¡å°ç¨‹åºé€‰é¡¹å¡åŠŸèƒ½" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºé€‰é¡¹å¡åŠŸèƒ½"></a>å¾®ä¿¡å°ç¨‹åºé€‰é¡¹å¡åŠŸèƒ½</h1><iframe width="500" height="700" src="/images/tab.gif"></iframe>
<!-- more -->

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- wxml --&gt;</span><br><span class="line">&lt;!-- ä¸Šæ–¹é€‰é¡¹å¡ --&gt;</span><br><span class="line">&lt;view class=&apos;topTabSwiper&apos;&gt;</span><br><span class="line">    &lt;view class=&apos;tab  &#123;&#123;currentData == 0 ? &quot;tabBorer&quot; : &quot;&quot;&#125;&#125;&apos;  data-current = &quot;0&quot; bindtap=&apos;checkCurrent&apos;&gt;æ¨è&lt;/view&gt;</span><br><span class="line">    &lt;view class=&apos;tab  &#123;&#123;currentData == 1 ? &quot;tabBorer&quot; : &quot;&quot;&#125;&#125;&apos;  data-current = &quot;1&quot; bindtap=&apos;checkCurrent&apos;&gt;çƒ­ç‚¹&lt;/view&gt;</span><br><span class="line">    &lt;view class=&apos;tab  &#123;&#123;currentData == 2 ? &quot;tabBorer&quot; : &quot;&quot;&#125;&#125;&apos;  data-current = &quot;2&quot; bindtap=&apos;checkCurrent&apos;&gt;å…³æ³¨&lt;/view&gt; </span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;!-- ä¸‹æ–¹é€‰é¡¹å¡æ‰€å¯¹åº”å†…å®¹ --&gt;</span><br><span class="line">&lt;swiper current=&quot;&#123;&#123;currentData&#125;&#125;&quot; class=&apos;swiper&apos; style=&quot;height:600px;&quot; duration=&quot;300&quot; bindchange=&quot;bindchange&quot;&gt;</span><br><span class="line">  &lt;swiper-item&gt;&lt;view class=&apos;swiper_con&apos;&gt;å†…å®¹1&lt;/view&gt;&lt;/swiper-item&gt; </span><br><span class="line">  &lt;swiper-item&gt;&lt;view class=&apos;swiper_con&apos;&gt;å†…å®¹2&lt;/view&gt;&lt;/swiper-item&gt;</span><br><span class="line">  &lt;swiper-item&gt;&lt;view class=&apos;swiper_con&apos;&gt;å†…å®¹3&lt;/view&gt;&lt;/swiper-item&gt;  </span><br><span class="line">&lt;/swiper&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- wxss --&gt;</span><br><span class="line">.tab&#123;float: left; width: 33.3333%;text-align: center;padding: 10rpx 0; &#125;</span><br><span class="line">.topTabSwiper&#123;  zoom: 1;&#125;</span><br><span class="line">.topTabSwiper:after&#123;content: &quot;&quot;; clear: both;display: block;&#125;</span><br><span class="line">.tabBorer&#123;border-bottom: 1px solid #f00; color: #f00;&#125;</span><br><span class="line">.swiper&#123;width: 100%;&#125;</span><br><span class="line">.swiper_con&#123;text-align: center; width: 100%; height: 100%; padding: 80rpx 0;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- js --&gt;</span><br><span class="line">//ç‚¹å‡»åˆ‡æ¢ï¼Œæ»‘å—indexèµ‹å€¼</span><br><span class="line">  checkCurrent: function (e) &#123;</span><br><span class="line">    const that = this;</span><br><span class="line"></span><br><span class="line">    if (that.data.currentData === e.target.dataset.current) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        currentData: e.target.dataset.current</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">    //è·å–å½“å‰æ»‘å—çš„index</span><br><span class="line">  bindchange: function (e) &#123;</span><br><span class="line">    const that = this;</span><br><span class="line">    that.setData(&#123;</span><br><span class="line">      currentData: e.detail.current</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  data:&#123;</span><br><span class="line">    // é€‰é¡¹å¡æ˜¾ç¤ºç¬¬ä¸€é¡µ</span><br><span class="line">    currentData: 0,&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰totalæç¤º-è‡ªå®šä¹‰ç»„ä»¶"><a href="#å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰totalæç¤º-è‡ªå®šä¹‰ç»„ä»¶" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰totalæç¤º(è‡ªå®šä¹‰ç»„ä»¶)"></a>å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰totalæç¤º(è‡ªå®šä¹‰ç»„ä»¶)</h1><p><img src="/images/total.png" alt><br>  <!--more--></p>
<!-- è‡ªå®šä¹‰ç»„ä»¶ -->
<p>1:åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºä¿å­˜è‡ªå·±æ‰€åˆ›å»ºçš„ç»„ä»¶<br>2:å³é”®æ–‡ä»¶å¤¹åˆ›å»ºcomponent(å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ä½¿ç”¨)<br>3:è‡ªå®šä¹‰ç»„ä»¶æ ·å¼ï¼Œæ¨¡æ¿(é»˜è®¤æ ·å¼ä¸å¼•å…¥çš„æ–‡ä»¶æ ·å¼äº’ä¸å¹²æ‰°)<br>4:å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶(jsoné…ç½®)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- è‡ªå®šä¹‰ç»„ä»¶(component.wxml) --&gt;</span><br><span class="line">&lt;view class=&apos;wx_toast_container&apos; hidden=&quot;&#123;&#123;!toastShow&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;view class=&apos;wx_toast_text&apos;&gt;&#123;&#123;toastText&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- è‡ªå®šä¹‰ç»„ä»¶(component.wxss)&gt;</span><br><span class="line">.wx_toast_container&#123;</span><br><span class="line">    position: fixed; </span><br><span class="line">    top: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    z-index: 1000;</span><br><span class="line">&#125;</span><br><span class="line">.wx_toast_text&#123;</span><br><span class="line">    background:rgba(0,0,0,0.95);</span><br><span class="line">    color:white;</span><br><span class="line">    text-align:center;</span><br><span class="line">    font-size:34rpx;</span><br><span class="line">    padding:34rpx 50rpx;</span><br><span class="line">    border-radius:20rpx;</span><br><span class="line">    max-width:70%;</span><br><span class="line">    min-width:35%;</span><br><span class="line">    box-sizing:border-box;</span><br><span class="line">    line-height:120%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//è‡ªå®šä¹‰ç»„ä»¶(component.js)</span><br><span class="line">Component(&#123;</span><br><span class="line">  options: &#123;</span><br><span class="line">    styleIsolation: &apos;isolated&apos;,  // å¤–éƒ¨æ ·å¼ç»„ä»¶æ˜¯å¦é˜»éš”</span><br><span class="line">    multipleSlots: true // åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ  </span><br><span class="line">  &#125;,</span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span><br><span class="line">   */</span><br><span class="line">  properties: &#123;</span><br><span class="line"></span><br><span class="line">  //  å¼•ç”¨ç»„ä»¶(index.wxml)ä¼ æ¥çš„æ•°æ®</span><br><span class="line">   toastText: &#123;            // å±æ€§å  </span><br><span class="line">      type: String,</span><br><span class="line">      value: &apos;å†…å®¹&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span><br><span class="line">   */</span><br><span class="line">  data: &#123;</span><br><span class="line">    toastShow: false, </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span><br><span class="line">   */</span><br><span class="line">  methods: &#123;</span><br><span class="line">    showToast(text, time) &#123;//text time åˆ†åˆ«æ˜¯å¼•ç”¨ç»„ä»¶(index.wxml)çš„ä¼ æ¥çš„</span><br><span class="line">      this.setData(&#123;</span><br><span class="line">        toastShow: !this.data.toastShow,</span><br><span class="line">        toastText: text</span><br><span class="line">      &#125;)</span><br><span class="line">      var that = this</span><br><span class="line">      if (!time) &#123;</span><br><span class="line">        time = 8000</span><br><span class="line">      &#125;</span><br><span class="line">      setTimeout(function () &#123;</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          toastShow: !that.data.toastShow</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;, time)</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//index.json</span><br><span class="line">&quot;usingComponents&quot;: &#123;</span><br><span class="line">    &quot;component&quot;:&quot;/pages/component/component&quot;//è‡ªå®šä¹‰ç»„ä»¶çš„ä½ç½®</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- å¼•ç”¨ç»„ä»¶(index.wxml) --&gt;</span><br><span class="line">&lt;component id=&quot;toastedit&quot;&gt;&#123;&#123;toastText&#125;&#125;&lt;/component&gt;   //id ç”¨äºåœ¨jsä¸­è·å–  </span><br><span class="line">&lt;button type=&quot;primary&quot; bindtap=&quot;showToast&quot;&gt; showToast! &lt;/button&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- index.js--&gt;</span><br><span class="line">Page(&#123;</span><br><span class="line">  onReady()&#123;</span><br><span class="line">  //è·å¾—toasteditç»„ä»¶</span><br><span class="line">  this.component = this.selectComponent(&quot;#toastedit&quot;)</span><br><span class="line">&#125;,</span><br><span class="line">  showToast: function () &#123;</span><br><span class="line">    this.component.showToast(&apos;è¿™æ˜¯text&apos;, 2000)//ç¬¬ä¸€ä¸ªå°±æ˜¯è‡ªå®šä¹‰ç»„ä»¶çš„textï¼Œç¬¬äºŒä¸ªå°±æ˜¯time</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>10ä¸ªVueå¼€å‘æŠ€å·§</title>
    <url>/2020/08/08/10%E4%B8%AAVue%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h3 id="è·¯ç”±å‚æ•°è§£è€¦"><a href="#è·¯ç”±å‚æ•°è§£è€¦" class="headerlink" title="è·¯ç”±å‚æ•°è§£è€¦"></a>è·¯ç”±å‚æ•°è§£è€¦</h3><p>ä¸€èˆ¬åœ¨ç»„ä»¶å†…ä½¿ç”¨è·¯ç”±å‚æ•°ï¼Œå¤§å¤šæ•°äººä¼šè¿™æ ·åšï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        getParamsId() &#123;</span><br><span class="line">            return this.$route.params.id</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚<br>æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡ props è§£è€¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">        path: &apos;/user/:id&apos;,</span><br><span class="line">        component: User,</span><br><span class="line">        props: true</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å°†è·¯ç”±çš„ props å±æ€§è®¾ç½®ä¸º true åï¼Œç»„ä»¶å†…å¯é€šè¿‡ props æ¥æ”¶åˆ° params å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    props: [&apos;id&apos;],</span><br><span class="line">    methods: &#123;</span><br><span class="line">        getParamsId() &#123;</span><br><span class="line">            return this.id</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ä½ è¿˜å¯ä»¥é€šè¿‡å‡½æ•°æ¨¡å¼æ¥è¿”å› props</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">        path: &apos;/user/:id&apos;,</span><br><span class="line">        component: User,</span><br><span class="line">        props: (route) =&gt; (&#123;</span><br><span class="line">            id: route.query.id</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶"></a>å‡½æ•°å¼ç»„ä»¶</h3><p>å‡½æ•°å¼ç»„ä»¶æ˜¯æ— çŠ¶æ€ï¼Œå®ƒæ— æ³•å®ä¾‹åŒ–ï¼Œæ²¡æœ‰ä»»ä½•çš„ç”Ÿå‘½å‘¨æœŸå’Œæ–¹æ³•ã€‚åˆ›å»ºå‡½æ•°å¼ç»„ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ¨¡æ¿æ·»åŠ  functional å£°æ˜å³å¯ã€‚ä¸€èˆ¬é€‚åˆåªä¾èµ–äºå¤–éƒ¨æ•°æ®çš„å˜åŒ–è€Œå˜åŒ–çš„ç»„ä»¶ï¼Œå› å…¶è½»é‡ï¼Œæ¸²æŸ“æ€§èƒ½ä¹Ÿä¼šæœ‰æ‰€æé«˜ã€‚<br>ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ context å‚æ•°ä¼ é€’ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå…·ä½“å±æ€§æŸ¥çœ‹æ–‡æ¡£ã€‚è¿™é‡Œ props æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»‘å®šå±æ€§çš„å¯¹è±¡ã€‚<br>å‡½æ•°å¼ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template functional&gt;</span><br><span class="line">    &lt;div class=&quot;list&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;item&quot; v-for=&quot;item in props.list&quot; :key=&quot;item.id&quot; @click=&quot;props.itemClick(item)&quot;&gt;</span><br><span class="line">            &lt;p&gt;&#123;&#123;item.title&#125;&#125;&lt;/p&gt;</span><br><span class="line">            &lt;p&gt;&#123;&#123;item.content&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;List :list=&quot;list&quot; :itemClick=&quot;item =&gt; (currentItem = item)&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">import List from &apos;@/components/List.vue&apos;</span><br><span class="line">export default &#123;</span><br><span class="line">    components: &#123;</span><br><span class="line">        List</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            list: [&#123;</span><br><span class="line">                title: &apos;title&apos;,</span><br><span class="line">                content: &apos;content&apos;</span><br><span class="line">            &#125;],</span><br><span class="line">            currentItem: &apos;&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ ·å¼ç©¿é€"><a href="#æ ·å¼ç©¿é€" class="headerlink" title="æ ·å¼ç©¿é€"></a>æ ·å¼ç©¿é€</h3><p>åœ¨å¼€å‘ä¸­ä¿®æ”¹ç¬¬ä¸‰æ–¹ç»„ä»¶æ ·å¼æ˜¯å¾ˆå¸¸è§ï¼Œä½†ç”±äº scoped å±æ€§çš„æ ·å¼éš”ç¦»ï¼Œå¯èƒ½éœ€è¦å»é™¤ scoped æˆ–æ˜¯å¦èµ·ä¸€ä¸ª style ã€‚è¿™äº›åšæ³•éƒ½ä¼šå¸¦æ¥å‰¯ä½œç”¨ï¼ˆç»„ä»¶æ ·å¼æ±¡æŸ“ã€ä¸å¤Ÿä¼˜é›…ï¼‰ï¼Œæ ·å¼ç©¿é€åœ¨cssé¢„å¤„ç†å™¨ä¸­ä½¿ç”¨æ‰ç”Ÿæ•ˆã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &gt;&gt;&gt; æˆ– /deep/ è§£å†³è¿™ä¸€é—®é¢˜:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style scoped&gt;</span><br><span class="line">å¤–å±‚ &gt;&gt;&gt; .el-checkbox &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  font-size: 26px;</span><br><span class="line"></span><br><span class="line">  .el-checkbox__label &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/deep/ .el-checkbox &#123;</span><br><span class="line">  display: block;</span><br><span class="line">  font-size: 26px;</span><br><span class="line"></span><br><span class="line">  .el-checkbox__label &#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="watché«˜é˜¶ä½¿ç”¨"><a href="#watché«˜é˜¶ä½¿ç”¨" class="headerlink" title="watché«˜é˜¶ä½¿ç”¨"></a>watché«˜é˜¶ä½¿ç”¨</h3><h4 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h4><p>watch æ˜¯åœ¨ç›‘å¬å±æ€§æ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼Œæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç»„ä»¶åˆ›å»ºå watch èƒ½å¤Ÿç«‹å³æ‰§è¡Œ<br>å¯èƒ½æƒ³åˆ°çš„çš„æ–¹æ³•å°±æ˜¯åœ¨ create ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨ä¸€æ¬¡ï¼Œä½†è¿™æ ·çš„å†™æ³•ä¸ä¼˜é›…ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            name: &apos;Joe&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        name: &#123;</span><br><span class="line">            handler: &apos;sayName&apos;,</span><br><span class="line">            immediate: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        sayName() &#123;</span><br><span class="line">            console.log(this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ·±åº¦ç›‘å¬"><a href="#æ·±åº¦ç›‘å¬" class="headerlink" title="æ·±åº¦ç›‘å¬"></a>æ·±åº¦ç›‘å¬</h4><p>åœ¨ç›‘å¬å¯¹è±¡æ—¶ï¼Œå¯¹è±¡å†…éƒ¨çš„å±æ€§è¢«æ”¹å˜æ—¶æ— æ³•è§¦å‘ watch ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶è®¾ç½®æ·±åº¦ç›‘å¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        studen: &#123;</span><br><span class="line">            name: &apos;Joe&apos;,</span><br><span class="line">            skill: &#123;</span><br><span class="line">                run: &#123;</span><br><span class="line">                    speed: &apos;fast&apos;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        studen: &#123;</span><br><span class="line">            handler: &apos;sayName&apos;,</span><br><span class="line">            deep: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        sayName() &#123;</span><br><span class="line">            console.log(this.studen)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•"><a href="#è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•" class="headerlink" title="è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•"></a>è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•</h4><p>ä½¿ç”¨æ•°ç»„å¯ä»¥è®¾ç½®å¤šé¡¹ï¼Œå½¢å¼åŒ…æ‹¬å­—ç¬¦ä¸²ã€å‡½æ•°ã€å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        name: &apos;Joe&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        name: [</span><br><span class="line">            &apos;sayName1&apos;,</span><br><span class="line">            function(newVal, oldVal) &#123;</span><br><span class="line">                this.sayName2()</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                handler: &apos;sayName3&apos;,</span><br><span class="line">                immaediate: true</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        sayName1() &#123;</span><br><span class="line">            console.log(&apos;sayName1==&gt;&apos;, this.name)</span><br><span class="line">        &#125;,</span><br><span class="line">        sayName2() &#123;</span><br><span class="line">            console.log(&apos;sayName2==&gt;&apos;, this.name)</span><br><span class="line">        &#125;,</span><br><span class="line">        sayName3() &#123;</span><br><span class="line">            console.log(&apos;sayName3==&gt;&apos;, this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="watchç›‘å¬å¤šä¸ªå˜é‡"><a href="#watchç›‘å¬å¤šä¸ªå˜é‡" class="headerlink" title="watchç›‘å¬å¤šä¸ªå˜é‡"></a>watchç›‘å¬å¤šä¸ªå˜é‡</h3><p>watchæœ¬èº«æ— æ³•ç›‘å¬å¤šä¸ªå˜é‡ã€‚ä½†æˆ‘ä»¬å¯ä»¥å°†éœ€è¦ç›‘å¬çš„å¤šä¸ªå˜é‡é€šè¿‡è®¡ç®—å±æ€§è¿”å›å¯¹è±¡ï¼Œå†ç›‘å¬è¿™ä¸ªå¯¹è±¡æ¥å®ç°â€œç›‘å¬å¤šä¸ªå˜é‡â€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            msg1: &apos;apple&apos;,</span><br><span class="line">            msg2: &apos;banana&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    compouted: &#123;</span><br><span class="line">        msgObj() &#123;</span><br><span class="line">            const &#123; msg1, msg2 &#125; = this</span><br><span class="line">            return &#123;</span><br><span class="line">                msg1,</span><br><span class="line">                msg2</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        msgObj: &#123;</span><br><span class="line">            handler(newVal, oldVal) &#123;</span><br><span class="line">                if (newVal.msg1 != oldVal.msg1) &#123;</span><br><span class="line">                    console.log(&apos;msg1 is change&apos;)</span><br><span class="line">                &#125;</span><br><span class="line">                if (newVal.msg2 != oldVal.msg2) &#123;</span><br><span class="line">                    console.log(&apos;msg2 is change&apos;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            deep: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äº‹ä»¶å‚æ•°-event"><a href="#äº‹ä»¶å‚æ•°-event" class="headerlink" title="äº‹ä»¶å‚æ•°$event"></a>äº‹ä»¶å‚æ•°$event</h3><p>$event æ˜¯äº‹ä»¶å¯¹è±¡çš„ç‰¹æ®Šå˜é‡ï¼Œåœ¨ä¸€äº›åœºæ™¯èƒ½ç»™æˆ‘ä»¬å®ç°å¤æ‚åŠŸèƒ½æä¾›æ›´å¤šå¯ç”¨çš„å‚æ•°</p>
<h4 id="åŸç”Ÿäº‹ä»¶"><a href="#åŸç”Ÿäº‹ä»¶" class="headerlink" title="åŸç”Ÿäº‹ä»¶"></a>åŸç”Ÿäº‹ä»¶</h4><p>åœ¨åŸç”Ÿäº‹ä»¶ä¸­è¡¨ç°å’Œé»˜è®¤çš„äº‹ä»¶å¯¹è±¡ç›¸åŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; @input=&quot;inputHandler(&apos;hello&apos;, $event)&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        inputHandler(msg, e) &#123;</span><br><span class="line">            console.log(e.target.value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h4><p>åœ¨è‡ªå®šä¹‰äº‹ä»¶ä¸­è¡¨ç°ä¸ºæ•è·ä»å­ç»„ä»¶æŠ›å‡ºçš„å€¼<br>my-item.vue :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        customEvent() &#123;</span><br><span class="line">            this.$emit(&apos;custom-event&apos;, &apos;some value&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;my-item v-for=&quot;(item, index) in list&quot; @custom-event=&quot;customEvent(index, $event)&quot;&gt;</span><br><span class="line">            &lt;/my-list&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        customEvent(index, e) &#123;</span><br><span class="line">            console.log(e) // &apos;some value&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š"><a href="#è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š" class="headerlink" title="è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š"></a>è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š</h3><p>ç»„ä»¶ model é€‰é¡¹:<br>å…è®¸ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨ v-model æ—¶å®šåˆ¶ prop å’Œ eventã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶ä¸Šçš„ v-model ä¼šæŠŠ value ç”¨ä½œ prop ä¸”æŠŠ input ç”¨ä½œ eventï¼Œä½†æ˜¯ä¸€äº›è¾“å…¥ç±»å‹æ¯”å¦‚å•é€‰æ¡†å’Œå¤é€‰æ¡†æŒ‰é’®å¯èƒ½æƒ³ä½¿ç”¨ value prop æ¥è¾¾åˆ°ä¸åŒçš„ç›®çš„ã€‚ä½¿ç”¨ model é€‰é¡¹å¯ä»¥å›é¿è¿™äº›æƒ…å†µäº§ç”Ÿçš„å†²çªã€‚<br>input é»˜è®¤ä½œä¸ºåŒå‘ç»‘å®šçš„æ›´æ–°äº‹ä»¶ï¼Œé€šè¿‡ $emit å¯ä»¥æ›´æ–°ç»‘å®šçš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;my-switch v-model=&quot;val&quot;&gt;&lt;/my-switch&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    props: &#123;</span><br><span class="line">        value: &#123;</span><br><span class="line">            type: Boolean,</span><br><span class="line">            default: false</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        switchChange(val) &#123;</span><br><span class="line">            this.$emit(&apos;input&apos;, val)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç»„ä»¶çš„ model é€‰é¡¹ï¼Œè‡ªå®šä¹‰ç»‘å®šçš„å˜é‡å’Œäº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;my-switch v-model=&quot;num&quot; value=&quot;some value&quot;&gt;&lt;/my-switch&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">        prop: &apos;num&apos;,</span><br><span class="line">        event: &apos;update&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">        value: &#123;</span><br><span class="line">            type: String,</span><br><span class="line">            default: &apos;&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        num: &#123;</span><br><span class="line">            type: Number,</span><br><span class="line">            default: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        numChange() &#123;</span><br><span class="line">            this.$emit(&apos;update&apos;, this.num++)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3><p>é€šå¸¸æˆ‘ä»¬ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¼šä½¿ç”¨ $emit ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶äº‹ä»¶æ¥è¿›è¡Œé€šçŸ¥<br>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.$emit(&apos;listenMounted&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;List @listenMounted=&quot;listenMounted&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿˜æœ‰ä¸€ç§ç®€æ´çš„æ–¹æ³•ï¼Œä½¿ç”¨ @hook å³å¯ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œç»„ä»¶å†…æ— éœ€åšä»»ä½•æ”¹å˜ã€‚åŒæ ·çš„ï¼Œ created ã€ updated ç­‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;List @hook:mounted=&quot;listenMounted&quot; /&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨"><a href="#ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨" class="headerlink" title="ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨"></a>ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨</h3><p>æ¯”å¦‚ï¼Œåœ¨é¡µé¢æŒ‚è½½æ—¶å®šä¹‰è®¡æ—¶å™¨ï¼Œéœ€è¦åœ¨é¡µé¢é”€æ¯æ—¶æ¸…é™¤å®šæ—¶å™¨ã€‚è¿™çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†ä»”ç»†ä¸€çœ‹ this.timer å”¯ä¸€çš„ä½œç”¨åªæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ beforeDestroy å†…å–åˆ°è®¡æ—¶å™¨åºå·ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰ä»»ä½•ç”¨å¤„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">            console.log(Date.now())</span><br><span class="line">        &#125;, 1000)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy() &#123;</span><br><span class="line">        clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¯ä»¥çš„è¯æœ€å¥½åªæœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å¯ä»¥è®¿é—®åˆ°å®ƒã€‚è¿™å¹¶ä¸ç®—ä¸¥é‡çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒå¯ä»¥è¢«è§†ä¸ºæ‚ç‰©ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ $on æˆ– $once ç›‘å¬é¡µé¢ç”Ÿå‘½å‘¨æœŸé”€æ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.creatInterval(&apos;hello&apos;)</span><br><span class="line">        this.creatInterval(&apos;world&apos;)</span><br><span class="line">    &#125;,</span><br><span class="line">    creatInterval(msg) &#123;</span><br><span class="line">        let timer = setInterval(() =&gt; &#123;</span><br><span class="line">            console.log(msg)</span><br><span class="line">        &#125;, 1000)</span><br><span class="line">        this.$once(&apos;hook:beforeDestroy&apos;, function() &#123;</span><br><span class="line">            clearInterval(timer)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åï¼Œå³ä½¿æˆ‘ä»¬åŒæ—¶åˆ›å»ºå¤šä¸ªè®¡æ—¶å™¨ï¼Œä¹Ÿä¸å½±å“æ•ˆæœã€‚å› ä¸ºå®ƒä»¬ä¼šåœ¨é¡µé¢é”€æ¯åç¨‹åºåŒ–çš„è‡ªä¸»æ¸…é™¤ã€‚</p>
<h3 id="æ‰‹åŠ¨æŒ‚è½½ç»„ä»¶"><a href="#æ‰‹åŠ¨æŒ‚è½½ç»„ä»¶" class="headerlink" title="æ‰‹åŠ¨æŒ‚è½½ç»„ä»¶"></a>æ‰‹åŠ¨æŒ‚è½½ç»„ä»¶</h3><p>åœ¨ä¸€äº›éœ€æ±‚ä¸­ï¼Œæ‰‹åŠ¨æŒ‚è½½ç»„ä»¶èƒ½å¤Ÿè®©æˆ‘ä»¬å®ç°èµ·æ¥æ›´åŠ ä¼˜é›…ã€‚æ¯”å¦‚ä¸€ä¸ªå¼¹çª—ç»„ä»¶ï¼Œæœ€ç†æƒ³çš„ç”¨æ³•æ˜¯é€šè¿‡å‘½ä»¤å¼è°ƒç”¨ï¼Œå°±åƒ elementUI çš„ this.$message ã€‚è€Œä¸æ˜¯åœ¨æ¨¡æ¿ä¸­é€šè¿‡çŠ¶æ€åˆ‡æ¢ï¼Œè¿™ç§å®ç°çœŸçš„å¾ˆç³Ÿç³•ã€‚<br>å…ˆæ¥ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Message from &apos;./Message.vue&apos;</span><br><span class="line"></span><br><span class="line">// æ„é€ å­ç±»</span><br><span class="line">let MessageConstructor = Vue.extend(Message)</span><br><span class="line">// å®ä¾‹åŒ–ç»„ä»¶</span><br><span class="line">let messageInstance = new MessageConstructor()</span><br><span class="line">// $mountå¯ä»¥ä¼ å…¥é€‰æ‹©å™¨å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‚è½½åˆ°è¯¥é€‰æ‹©å™¨</span><br><span class="line">// å¦‚æœä¸ä¼ å…¥é€‰æ‹©å™¨ï¼Œå°†æ¸²æŸ“ä¸ºæ–‡æ¡£ä¹‹å¤–çš„çš„å…ƒç´ ï¼Œä½ å¯ä»¥æƒ³è±¡æˆ document.createElement()åœ¨å†…å­˜ä¸­ç”Ÿæˆdom</span><br><span class="line">messageInstance.$mount()</span><br><span class="line">// messageInstance.$elè·å–çš„æ˜¯domå…ƒç´ </span><br><span class="line">document.body.appendChild(messageInstance.$el)</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å®ç°ä¸€ä¸ªç®€æ˜“çš„ message å¼¹çª—ç»„ä»¶<br>Message/index.vue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;wrap&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;message&quot; :class=&quot;item.type&quot; v-for=&quot;item in notices&quot; :key=&quot;item._name&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;content&quot;&gt;&#123;&#123;item.content&#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">// é»˜è®¤é€‰é¡¹</span><br><span class="line">const DefaultOptions = &#123;</span><br><span class="line">    duration: 1500,</span><br><span class="line">    type: &apos;info&apos;,</span><br><span class="line">    content: &apos;è¿™æ˜¯ä¸€æ¡æç¤ºä¿¡æ¯ï¼&apos;,</span><br><span class="line">&#125;</span><br><span class="line">let mid = 0</span><br><span class="line">export default &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            notices: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        add(notice = &#123;&#125;) &#123;</span><br><span class="line">            // nameæ ‡è¯† ç”¨äºç§»é™¤å¼¹çª—</span><br><span class="line">            let _name = this.getName()</span><br><span class="line">            // åˆå¹¶é€‰é¡¹</span><br><span class="line">            notice = Object.assign(&#123;</span><br><span class="line">                _name</span><br><span class="line">            &#125;, DefaultOptions, notice)</span><br><span class="line"></span><br><span class="line">            this.notices.push(notice)</span><br><span class="line"></span><br><span class="line">            setTimeout(() =&gt; &#123;</span><br><span class="line">                this.removeNotice(_name)</span><br><span class="line">            &#125;, notice.duration)</span><br><span class="line">        &#125;,</span><br><span class="line">        getName() &#123;</span><br><span class="line">            return &apos;msg_&apos; + (mid++)</span><br><span class="line">        &#125;,</span><br><span class="line">        removeNotice(_name) &#123;</span><br><span class="line">            let index = this.notices.findIndex(item =&gt; item._name === _name)</span><br><span class="line">            this.notices.splice(index, 1)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.wrap &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 50px;</span><br><span class="line">    left: 50%;</span><br><span class="line">    display: flex;</span><br><span class="line">    flex-direction: column;</span><br><span class="line">    align-items: center;</span><br><span class="line">    transform: translateX(-50%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message &#123;</span><br><span class="line">    --borderWidth: 3px;</span><br><span class="line">    min-width: 240px;</span><br><span class="line">    max-width: 500px;</span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">    border-radius: 3px;</span><br><span class="line">    box-shadow: 0 0 8px #ddd;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content &#123;</span><br><span class="line">    padding: 8px;</span><br><span class="line">    line-height: 1.3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message.info &#123;</span><br><span class="line">    border-left: var(--borderWidth) solid #909399;</span><br><span class="line">    background: #F4F4F5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message.success &#123;</span><br><span class="line">    border-left: var(--borderWidth) solid #67C23A;</span><br><span class="line">    background: #F0F9EB;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message.error &#123;</span><br><span class="line">    border-left: var(--borderWidth) solid #F56C6C;</span><br><span class="line">    background: #FEF0F0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.message.warning &#123;</span><br><span class="line">    border-left: var(--borderWidth) solid #E6A23C;</span><br><span class="line">    background: #FDF6EC;</span><br><span class="line">&#125;</span><br><span class="line">Message/index.js</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Index from &apos;./index.vue&apos;</span><br><span class="line"></span><br><span class="line">let messageInstance = null</span><br><span class="line">let MessageConstructor = Vue.extend(Index)</span><br><span class="line"></span><br><span class="line">let init = () =&gt; &#123;</span><br><span class="line">    messageInstance = new MessageConstructor()</span><br><span class="line">    messageInstance.$mount()</span><br><span class="line">    document.body.appendChild(messageInstance.$el)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let caller = (options) =&gt; &#123;</span><br><span class="line">    if (!messageInstance) &#123;</span><br><span class="line">        init(options)</span><br><span class="line">    &#125;</span><br><span class="line">    messageInstance.add(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    // è¿”å› install å‡½æ•° ç”¨äº Vue.use æ³¨å†Œ</span><br><span class="line">    install(vue) &#123;</span><br><span class="line">        vue.prototype.$message = caller</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import Message from &apos;@/components/Message/index.js&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Message)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨</span><br></pre></td></tr></table></figure>

<p>this.$message({<br>    type: â€˜successâ€™,<br>    content: â€˜æˆåŠŸä¿¡æ¯æç¤ºâ€™,<br>    duration: 3000<br>})</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### è·¯ç”±å‚æ•°è§£è€¦</span><br><span class="line">ä¸€èˆ¬åœ¨ç»„ä»¶å†…ä½¿ç”¨è·¯ç”±å‚æ•°ï¼Œå¤§å¤šæ•°äººä¼šè¿™æ ·åšï¼š</span><br></pre></td></tr></table></figure>

<p>export default {<br>    methods: {<br>        getParamsId() {<br>            return this.$route.params.id<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ $route ä¼šä½¿ä¹‹ä¸å…¶å¯¹åº”è·¯ç”±å½¢æˆé«˜åº¦è€¦åˆï¼Œä»è€Œä½¿ç»„ä»¶åªèƒ½åœ¨æŸäº›ç‰¹å®šçš„ URL ä¸Šä½¿ç”¨ï¼Œé™åˆ¶äº†å…¶çµæ´»æ€§ã€‚</span><br><span class="line">æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡ props è§£è€¦</span><br></pre></td></tr></table></figure>

<p>const router = new VueRouter({<br>    routes: [{<br>        path: â€˜/user/:idâ€™,<br>        component: User,<br>        props: true<br>    }]<br>})</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å°†è·¯ç”±çš„ props å±æ€§è®¾ç½®ä¸º true åï¼Œç»„ä»¶å†…å¯é€šè¿‡ props æ¥æ”¶åˆ° params å‚æ•°</span><br></pre></td></tr></table></figure>

<p>export default {<br>    props: [â€˜idâ€™],<br>    methods: {<br>        getParamsId() {<br>            return this.id<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦å¤–ä½ è¿˜å¯ä»¥é€šè¿‡å‡½æ•°æ¨¡å¼æ¥è¿”å› props</span><br></pre></td></tr></table></figure>

<p>const router = new VueRouter({<br>    routes: [{<br>        path: â€˜/user/:idâ€™,<br>        component: User,<br>        props: (route) =&gt; ({<br>            id: route.query.id<br>        })<br>    }]<br>})</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### å‡½æ•°å¼ç»„ä»¶</span><br><span class="line">å‡½æ•°å¼ç»„ä»¶æ˜¯æ— çŠ¶æ€ï¼Œå®ƒæ— æ³•å®ä¾‹åŒ–ï¼Œæ²¡æœ‰ä»»ä½•çš„ç”Ÿå‘½å‘¨æœŸå’Œæ–¹æ³•ã€‚åˆ›å»ºå‡½æ•°å¼ç»„ä»¶ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æ¨¡æ¿æ·»åŠ  functional å£°æ˜å³å¯ã€‚ä¸€èˆ¬é€‚åˆåªä¾èµ–äºå¤–éƒ¨æ•°æ®çš„å˜åŒ–è€Œå˜åŒ–çš„ç»„ä»¶ï¼Œå› å…¶è½»é‡ï¼Œæ¸²æŸ“æ€§èƒ½ä¹Ÿä¼šæœ‰æ‰€æé«˜ã€‚</span><br><span class="line">ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ context å‚æ•°ä¼ é€’ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå…·ä½“å±æ€§æŸ¥çœ‹æ–‡æ¡£ã€‚è¿™é‡Œ props æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»‘å®šå±æ€§çš„å¯¹è±¡ã€‚</span><br><span class="line">å‡½æ•°å¼ç»„ä»¶</span><br></pre></td></tr></table></figure>

<template functional>
    <div class="list">
        <div class="item" v-for="item in props.list" :key="item.id" @click="props.itemClick(item)">
            <p></p>
            <p></p>
        </div>
    </div>
</template>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä½¿ç”¨</span><br></pre></td></tr></table></figure>

<template>
    <div>
        <list :list="list" :itemclick="item => (currentItem = item)">
    </list></div>
</template>
import List from '@/components/List.vue'
export default {
    components: {
        List
    },
    data() {
        return {
            list: [{
                title: 'title',
                content: 'content'
            }],
            currentItem: ''
        }
    }
}
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### æ ·å¼ç©¿é€</span><br><span class="line">åœ¨å¼€å‘ä¸­ä¿®æ”¹ç¬¬ä¸‰æ–¹ç»„ä»¶æ ·å¼æ˜¯å¾ˆå¸¸è§ï¼Œä½†ç”±äº scoped å±æ€§çš„æ ·å¼éš”ç¦»ï¼Œå¯èƒ½éœ€è¦å»é™¤ scoped æˆ–æ˜¯å¦èµ·ä¸€ä¸ª style ã€‚è¿™äº›åšæ³•éƒ½ä¼šå¸¦æ¥å‰¯ä½œç”¨ï¼ˆç»„ä»¶æ ·å¼æ±¡æŸ“ã€ä¸å¤Ÿä¼˜é›…ï¼‰ï¼Œæ ·å¼ç©¿é€åœ¨cssé¢„å¤„ç†å™¨ä¸­ä½¿ç”¨æ‰ç”Ÿæ•ˆã€‚</span><br><span class="line">æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &gt;&gt;&gt; æˆ– /deep/ è§£å†³è¿™ä¸€é—®é¢˜:</span><br></pre></td></tr></table></figure>

<style scoped>
å¤–å±‚ >>> .el-checkbox {
  display: block;
  font-size: 26px;

  .el-checkbox__label {
    font-size: 16px;
  }
}
</style>
<style scoped>
/deep/ .el-checkbox {
  display: block;
  font-size: 26px;

  .el-checkbox__label {
    font-size: 16px;
  }
}
</style>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### watché«˜é˜¶ä½¿ç”¨</span><br><span class="line">#### ç«‹å³æ‰§è¡Œ</span><br><span class="line">watch æ˜¯åœ¨ç›‘å¬å±æ€§æ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼Œæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç»„ä»¶åˆ›å»ºå watch èƒ½å¤Ÿç«‹å³æ‰§è¡Œ</span><br><span class="line">å¯èƒ½æƒ³åˆ°çš„çš„æ–¹æ³•å°±æ˜¯åœ¨ create ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨ä¸€æ¬¡ï¼Œä½†è¿™æ ·çš„å†™æ³•ä¸ä¼˜é›…ï¼Œæˆ–è®¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•</span><br></pre></td></tr></table></figure>

<p>export default {<br>    data() {<br>        return {<br>            name: â€˜Joeâ€™<br>        }<br>    },<br>    watch: {<br>        name: {<br>            handler: â€˜sayNameâ€™,<br>            immediate: true<br>        }<br>    },<br>    methods: {<br>        sayName() {<br>            console.log(this.name)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#### æ·±åº¦ç›‘å¬</span><br><span class="line">åœ¨ç›‘å¬å¯¹è±¡æ—¶ï¼Œå¯¹è±¡å†…éƒ¨çš„å±æ€§è¢«æ”¹å˜æ—¶æ— æ³•è§¦å‘ watch ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶è®¾ç½®æ·±åº¦ç›‘å¬</span><br></pre></td></tr></table></figure>

<p>export default {<br>    data: {<br>        studen: {<br>            name: â€˜Joeâ€™,<br>            skill: {<br>                run: {<br>                    speed: â€˜fastâ€™<br>                }<br>            }<br>        }<br>    },<br>    watch: {<br>        studen: {<br>            handler: â€˜sayNameâ€™,<br>            deep: true<br>        }<br>    },<br>    methods: {<br>        sayName() {<br>            console.log(this.studen)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#### è§¦å‘ç›‘å¬æ‰§è¡Œå¤šä¸ªæ–¹æ³•</span><br><span class="line">ä½¿ç”¨æ•°ç»„å¯ä»¥è®¾ç½®å¤šé¡¹ï¼Œå½¢å¼åŒ…æ‹¬å­—ç¬¦ä¸²ã€å‡½æ•°ã€å¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>export default {<br>    data: {<br>        name: â€˜Joeâ€™<br>    },<br>    watch: {<br>        name: [<br>            â€˜sayName1â€™,<br>            function(newVal, oldVal) {<br>                this.sayName2()<br>            },<br>            {<br>                handler: â€˜sayName3â€™,<br>                immaediate: true<br>            }<br>        ]<br>    },<br>    methods: {<br>        sayName1() {<br>            console.log(â€˜sayName1==&gt;â€™, this.name)<br>        },<br>        sayName2() {<br>            console.log(â€˜sayName2==&gt;â€™, this.name)<br>        },<br>        sayName3() {<br>            console.log(â€˜sayName3==&gt;â€™, this.name)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### watchç›‘å¬å¤šä¸ªå˜é‡</span><br><span class="line">watchæœ¬èº«æ— æ³•ç›‘å¬å¤šä¸ªå˜é‡ã€‚ä½†æˆ‘ä»¬å¯ä»¥å°†éœ€è¦ç›‘å¬çš„å¤šä¸ªå˜é‡é€šè¿‡è®¡ç®—å±æ€§è¿”å›å¯¹è±¡ï¼Œå†ç›‘å¬è¿™ä¸ªå¯¹è±¡æ¥å®ç°â€œç›‘å¬å¤šä¸ªå˜é‡â€</span><br></pre></td></tr></table></figure>

<p>export default {<br>    data() {<br>        return {<br>            msg1: â€˜appleâ€™,<br>            msg2: â€˜bananaâ€™<br>        }<br>    },<br>    compouted: {<br>        msgObj() {<br>            const { msg1, msg2 } = this<br>            return {<br>                msg1,<br>                msg2<br>            }<br>        }<br>    },<br>    watch: {<br>        msgObj: {<br>            handler(newVal, oldVal) {<br>                if (newVal.msg1 != oldVal.msg1) {<br>                    console.log(â€˜msg1 is changeâ€™)<br>                }<br>                if (newVal.msg2 != oldVal.msg2) {<br>                    console.log(â€˜msg2 is changeâ€™)<br>                }<br>            },<br>            deep: true<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### äº‹ä»¶å‚æ•°$event</span><br><span class="line">$event æ˜¯äº‹ä»¶å¯¹è±¡çš„ç‰¹æ®Šå˜é‡ï¼Œåœ¨ä¸€äº›åœºæ™¯èƒ½ç»™æˆ‘ä»¬å®ç°å¤æ‚åŠŸèƒ½æä¾›æ›´å¤šå¯ç”¨çš„å‚æ•°</span><br><span class="line">#### åŸç”Ÿäº‹ä»¶</span><br><span class="line">åœ¨åŸç”Ÿäº‹ä»¶ä¸­è¡¨ç°å’Œé»˜è®¤çš„äº‹ä»¶å¯¹è±¡ç›¸åŒ</span><br></pre></td></tr></table></figure>

<template>
    <div>
        <input type="text" @input="inputHandler('hello', $event)">
    </div>
</template>
export default {
    methods: {
        inputHandler(msg, e) {
            console.log(e.target.value)
        }
    }
}
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#### è‡ªå®šä¹‰äº‹ä»¶</span><br><span class="line">åœ¨è‡ªå®šä¹‰äº‹ä»¶ä¸­è¡¨ç°ä¸ºæ•è·ä»å­ç»„ä»¶æŠ›å‡ºçš„å€¼</span><br><span class="line">my-item.vue :</span><br></pre></td></tr></table></figure>

<p>export default {<br>    methods: {<br>        customEvent() {<br>            this.$emit(â€˜custom-eventâ€™, â€˜some valueâ€™)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">App.vue</span><br></pre></td></tr></table></figure>

<template>
    <div>
        <my-item v-for="(item, index) in list" @custom-event="customEvent(index, $event)">
            
    </my-item></div>
</template>
export default {
    methods: {
        customEvent(index, e) {
            console.log(e) // 'some value'
        }
    }
}
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### è‡ªå®šä¹‰ç»„ä»¶åŒå‘ç»‘å®š</span><br><span class="line">ç»„ä»¶ model é€‰é¡¹:</span><br><span class="line">å…è®¸ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨ v-model æ—¶å®šåˆ¶ prop å’Œ eventã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶ä¸Šçš„ v-model ä¼šæŠŠ value ç”¨ä½œ prop ä¸”æŠŠ input ç”¨ä½œ eventï¼Œä½†æ˜¯ä¸€äº›è¾“å…¥ç±»å‹æ¯”å¦‚å•é€‰æ¡†å’Œå¤é€‰æ¡†æŒ‰é’®å¯èƒ½æƒ³ä½¿ç”¨ value prop æ¥è¾¾åˆ°ä¸åŒçš„ç›®çš„ã€‚ä½¿ç”¨ model é€‰é¡¹å¯ä»¥å›é¿è¿™äº›æƒ…å†µäº§ç”Ÿçš„å†²çªã€‚</span><br><span class="line">input é»˜è®¤ä½œä¸ºåŒå‘ç»‘å®šçš„æ›´æ–°äº‹ä»¶ï¼Œé€šè¿‡ $emit å¯ä»¥æ›´æ–°ç»‘å®šçš„å€¼</span><br></pre></td></tr></table></figure>

<p><my-switch v-model="val"></my-switch><br>export default {<br>    props: {<br>        value: {<br>            type: Boolean,<br>            default: false<br>        }<br>    },<br>    methods: {<br>        switchChange(val) {<br>            this.$emit(â€˜inputâ€™, val)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¿®æ”¹ç»„ä»¶çš„ model é€‰é¡¹ï¼Œè‡ªå®šä¹‰ç»‘å®šçš„å˜é‡å’Œäº‹ä»¶</span><br></pre></td></tr></table></figure>

<p><my-switch v-model="num" value="some value"></my-switch><br>export default {<br>    model: {<br>        prop: â€˜numâ€™,<br>        event: â€˜updateâ€™<br>    },<br>    props: {<br>        value: {<br>            type: String,<br>            default: â€˜â€™<br>        },<br>        num: {<br>            type: Number,<br>            default: 0<br>        }<br>    },<br>    methods: {<br>        numChange() {<br>            this.$emit(â€˜updateâ€™, this.num++)<br>        }<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">é€šå¸¸æˆ‘ä»¬ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¼šä½¿ç”¨ $emit ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶äº‹ä»¶æ¥è¿›è¡Œé€šçŸ¥</span><br><span class="line">å­ç»„ä»¶</span><br></pre></td></tr></table></figure>

<p>export default {<br>    mounted() {<br>        this.$emit(â€˜listenMountedâ€™)<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br></pre></td></tr></table></figure>

<template>
    <div>
        <list @listenmounted="listenMounted">
    </list></div>
</template>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…¶å®è¿˜æœ‰ä¸€ç§ç®€æ´çš„æ–¹æ³•ï¼Œä½¿ç”¨ @hook å³å¯ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œç»„ä»¶å†…æ— éœ€åšä»»ä½•æ”¹å˜ã€‚åŒæ ·çš„ï¼Œ created ã€ updated ç­‰ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>

<template>
    <list @hook:mounted="listenMounted">
</list></template>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨</span><br><span class="line">æ¯”å¦‚ï¼Œåœ¨é¡µé¢æŒ‚è½½æ—¶å®šä¹‰è®¡æ—¶å™¨ï¼Œéœ€è¦åœ¨é¡µé¢é”€æ¯æ—¶æ¸…é™¤å®šæ—¶å™¨ã€‚è¿™çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†ä»”ç»†ä¸€çœ‹ this.timer å”¯ä¸€çš„ä½œç”¨åªæ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨ beforeDestroy å†…å–åˆ°è®¡æ—¶å™¨åºå·ï¼Œé™¤æ­¤ä¹‹å¤–æ²¡æœ‰ä»»ä½•ç”¨å¤„ã€‚</span><br></pre></td></tr></table></figure>

<p>export default {<br>    mounted() {<br>        this.timer = setInterval(() =&gt; {<br>            console.log(Date.now())<br>        }, 1000)<br>    },<br>    beforeDestroy() {<br>        clearInterval(this.timer)<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¦‚æœå¯ä»¥çš„è¯æœ€å¥½åªæœ‰ç”Ÿå‘½å‘¨æœŸé’©å­å¯ä»¥è®¿é—®åˆ°å®ƒã€‚è¿™å¹¶ä¸ç®—ä¸¥é‡çš„é—®é¢˜ï¼Œä½†æ˜¯å®ƒå¯ä»¥è¢«è§†ä¸ºæ‚ç‰©ã€‚</span><br><span class="line">æˆ‘ä»¬å¯ä»¥é€šè¿‡ $on æˆ– $once ç›‘å¬é¡µé¢ç”Ÿå‘½å‘¨æœŸé”€æ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</span><br></pre></td></tr></table></figure>

<p>export default {<br>    mounted() {<br>        this.creatInterval(â€˜helloâ€™)<br>        this.creatInterval(â€˜worldâ€™)<br>    },<br>    creatInterval(msg) {<br>        let timer = setInterval(() =&gt; {<br>            console.log(msg)<br>        }, 1000)<br>        this.$once(â€˜hook:beforeDestroyâ€™, function() {<br>            clearInterval(timer)<br>        })<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åï¼Œå³ä½¿æˆ‘ä»¬åŒæ—¶åˆ›å»ºå¤šä¸ªè®¡æ—¶å™¨ï¼Œä¹Ÿä¸å½±å“æ•ˆæœã€‚å› ä¸ºå®ƒä»¬ä¼šåœ¨é¡µé¢é”€æ¯åç¨‹åºåŒ–çš„è‡ªä¸»æ¸…é™¤ã€‚</span><br><span class="line"></span><br><span class="line">### æ‰‹åŠ¨æŒ‚è½½ç»„ä»¶</span><br><span class="line">åœ¨ä¸€äº›éœ€æ±‚ä¸­ï¼Œæ‰‹åŠ¨æŒ‚è½½ç»„ä»¶èƒ½å¤Ÿè®©æˆ‘ä»¬å®ç°èµ·æ¥æ›´åŠ ä¼˜é›…ã€‚æ¯”å¦‚ä¸€ä¸ªå¼¹çª—ç»„ä»¶ï¼Œæœ€ç†æƒ³çš„ç”¨æ³•æ˜¯é€šè¿‡å‘½ä»¤å¼è°ƒç”¨ï¼Œå°±åƒ elementUI çš„ this.$message ã€‚è€Œä¸æ˜¯åœ¨æ¨¡æ¿ä¸­é€šè¿‡çŠ¶æ€åˆ‡æ¢ï¼Œè¿™ç§å®ç°çœŸçš„å¾ˆç³Ÿç³•ã€‚</span><br><span class="line">å…ˆæ¥ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</span><br></pre></td></tr></table></figure>

<p>import Vue from â€˜vueâ€™<br>import Message from â€˜./Message.vueâ€™</p>
<p>// æ„é€ å­ç±»<br>let MessageConstructor = Vue.extend(Message)<br>// å®ä¾‹åŒ–ç»„ä»¶<br>let messageInstance = new MessageConstructor()<br>// $mountå¯ä»¥ä¼ å…¥é€‰æ‹©å™¨å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‚è½½åˆ°è¯¥é€‰æ‹©å™¨<br>// å¦‚æœä¸ä¼ å…¥é€‰æ‹©å™¨ï¼Œå°†æ¸²æŸ“ä¸ºæ–‡æ¡£ä¹‹å¤–çš„çš„å…ƒç´ ï¼Œä½ å¯ä»¥æƒ³è±¡æˆ document.createElement()åœ¨å†…å­˜ä¸­ç”Ÿæˆdom<br>messageInstance.$mount()<br>// messageInstance.$elè·å–çš„æ˜¯domå…ƒç´ <br>document.body.appendChild(messageInstance.$el)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¸‹é¢å®ç°ä¸€ä¸ªç®€æ˜“çš„ message å¼¹çª—ç»„ä»¶</span><br><span class="line">Message/index.vue</span><br></pre></td></tr></table></figure>

<template>
    <div class="wrap">
        <div class="message" :class="item.type" v-for="item in notices" :key="item._name">
            <div class="content"></div>
        </div>
    </div>
</template>
// é»˜è®¤é€‰é¡¹
const DefaultOptions = {
    duration: 1500,
    type: 'info',
    content: 'è¿™æ˜¯ä¸€æ¡æç¤ºä¿¡æ¯ï¼',
}
let mid = 0
export default {
    data() {
        return {
            notices: []
        }
    },
    methods: {
        add(notice = {}) {
            // nameæ ‡è¯† ç”¨äºç§»é™¤å¼¹çª—
            let _name = this.getName()
            // åˆå¹¶é€‰é¡¹
            notice = Object.assign({
                _name
            }, DefaultOptions, notice)

<pre><code>        this.notices.push(notice)

        setTimeout(() =&gt; {
            this.removeNotice(_name)
        }, notice.duration)
    },
    getName() {
        return &apos;msg_&apos; + (mid++)
    },
    removeNotice(_name) {
        let index = this.notices.findIndex(item =&gt; item._name === _name)
        this.notices.splice(index, 1)
    }
}</code></pre><p>}<br>.wrap {<br>    position: fixed;<br>    top: 50px;<br>    left: 50%;<br>    display: flex;<br>    flex-direction: column;<br>    align-items: center;<br>    transform: translateX(-50%);<br>}</p>
<p>.message {<br>    â€“borderWidth: 3px;<br>    min-width: 240px;<br>    max-width: 500px;<br>    margin-bottom: 10px;<br>    border-radius: 3px;<br>    box-shadow: 0 0 8px #ddd;<br>    overflow: hidden;<br>}</p>
<p>.content {<br>    padding: 8px;<br>    line-height: 1.3;<br>}</p>
<p>.message.info {<br>    border-left: var(â€“borderWidth) solid #909399;<br>    background: #F4F4F5;<br>}</p>
<p>.message.success {<br>    border-left: var(â€“borderWidth) solid #67C23A;<br>    background: #F0F9EB;<br>}</p>
<p>.message.error {<br>    border-left: var(â€“borderWidth) solid #F56C6C;<br>    background: #FEF0F0;<br>}</p>
<p>.message.warning {<br>    border-left: var(â€“borderWidth) solid #E6A23C;<br>    background: #FDF6EC;<br>}<br>Message/index.js<br>import Vue from â€˜vueâ€™<br>import Index from â€˜./index.vueâ€™</p>
<p>let messageInstance = null<br>let MessageConstructor = Vue.extend(Index)</p>
<p>let init = () =&gt; {<br>    messageInstance = new MessageConstructor()<br>    messageInstance.$mount()<br>    document.body.appendChild(messageInstance.$el)<br>}</p>
<p>let caller = (options) =&gt; {<br>    if (!messageInstance) {<br>        init(options)<br>    }<br>    messageInstance.add(options)<br>}</p>
<p>export default {<br>    // è¿”å› install å‡½æ•° ç”¨äº Vue.use æ³¨å†Œ<br>    install(vue) {<br>        vue.prototype.$message = caller<br>    }<br>}</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">main.js</span><br></pre></td></tr></table></figure>

<p>import Message from â€˜@/components/Message/index.jsâ€™</p>
<p>Vue.use(Message)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">```</span><br><span class="line">ä½¿ç”¨</span><br></pre></td></tr></table></figure>

<p>this.$message({<br>    type: â€˜successâ€™,<br>    content: â€˜æˆåŠŸä¿¡æ¯æç¤ºâ€™,<br>    duration: 3000<br>})</p>
<pre><code></code></pre>]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vueå¼€å‘çš„36ä¸ªæŠ€å·§</title>
    <url>/2020/07/13/Vue%E5%BC%80%E5%8F%91%E7%9A%8436%E4%B8%AA%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h3 id="1-require-context"><a href="#1-require-context" class="headerlink" title="1.require.context()"></a>1.require.context()</h3><p>1.åœºæ™¯:å¦‚é¡µé¢éœ€è¦å¯¼å…¥å¤šä¸ªç»„ä»¶,åŸå§‹å†™æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import titleCom from &apos;@/components/home/titleCom&apos;</span><br><span class="line">import bannerCom from &apos;@/components/home/bannerCom&apos;</span><br><span class="line">import cellCom from &apos;@/components/home/cellCom&apos;</span><br><span class="line">components:&#123;titleCom,bannerCom,cellCom&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>    
<p>2.è¿™æ ·å°±å†™äº†å¤§é‡é‡å¤çš„ä»£ç ,åˆ©ç”¨ require.context å¯ä»¥å†™æˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const files = require.context(&apos;@/components/home&apos;, false, /\.vue$/)</span><br><span class="line">const modules = &#123;&#125;</span><br><span class="line">files.keys().forEach(key =&gt; &#123;</span><br><span class="line">  const name = path.basename(key, &apos;.vue&apos;)</span><br><span class="line">  modules[name] = files(key).default || files(key)</span><br><span class="line">&#125;)</span><br><span class="line">components:modules</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸ç®¡é¡µé¢å¼•å…¥å¤šå°‘ç»„ä»¶,éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•<br>3.API æ–¹æ³•<br>å®é™…ä¸Šæ˜¯ webpack çš„æ–¹æ³•,vue å·¥ç¨‹ä¸€èˆ¬åŸºäº webpack,æ‰€ä»¥å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">require.context(directory,useSubdirectories,regExp)</span><br><span class="line">æ¥æ”¶ä¸‰ä¸ªå‚æ•°:</span><br><span class="line">directoryï¼šè¯´æ˜éœ€è¦æ£€ç´¢çš„ç›®å½•</span><br><span class="line">useSubdirectoriesï¼šæ˜¯å¦æ£€ç´¢å­ç›®å½•</span><br><span class="line">regExp: åŒ¹é…æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼,ä¸€èˆ¬æ˜¯æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<h3 id="2-watch"><a href="#2-watch" class="headerlink" title="2.watch"></a>2.watch</h3><h4 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h4><p>åœºæ™¯:è¡¨æ ¼åˆå§‹è¿›æ¥éœ€è¦è°ƒæŸ¥è¯¢æ¥å£getList(),ç„¶åinput æ”¹å˜ä¼šé‡æ–°æŸ¥è¯¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">created()&#123;</span><br><span class="line">  this.getList()</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">  inpVal()&#123;</span><br><span class="line">    this.getList()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h4><p>å¯ä»¥ç›´æ¥åˆ©ç”¨watchçš„immediateå’Œhandlerå±æ€§ç®€å†™</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  inpVal:&#123;</span><br><span class="line">    handler: &apos;getList&apos;,</span><br><span class="line">      immediate: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ·±åº¦ç›‘å¬"><a href="#æ·±åº¦ç›‘å¬" class="headerlink" title="æ·±åº¦ç›‘å¬"></a>æ·±åº¦ç›‘å¬</h4><p>watch çš„ deep å±æ€§,æ·±åº¦ç›‘å¬,ä¹Ÿå°±æ˜¯ç›‘å¬å¤æ‚æ•°æ®ç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line">  inpValObj:&#123;</span><br><span class="line">    handler(newVal,oldVal)&#123;</span><br><span class="line">      console.log(newVal)</span><br><span class="line">      console.log(oldVal)</span><br><span class="line">    &#125;,</span><br><span class="line">    deep:true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="14ç§ç»„ä»¶é€šè®¯"><a href="#14ç§ç»„ä»¶é€šè®¯" class="headerlink" title="14ç§ç»„ä»¶é€šè®¯"></a>14ç§ç»„ä»¶é€šè®¯</h3><h4 id="props"><a href="#props" class="headerlink" title="props"></a>props</h4><p>è¿™ä¸ªåº”è¯¥éå¸¸å±æ€§,å°±æ˜¯çˆ¶ä¼ å­çš„å±æ€§;<br>props å€¼å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æ•°ç»„:ä¸å»ºè®®ä½¿ç”¨</span><br><span class="line">props:[]</span><br><span class="line"></span><br><span class="line">// å¯¹è±¡</span><br><span class="line">props:&#123;</span><br><span class="line"> inpVal:&#123;</span><br><span class="line">  type:Number, //ä¼ å…¥å€¼é™å®šç±»å‹</span><br><span class="line">  // type å€¼å¯ä¸ºString,Number,Boolean,Array,Object,Date,Function,Symbol</span><br><span class="line">  // type è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”é€šè¿‡ instanceof æ¥è¿›è¡Œæ£€æŸ¥ç¡®è®¤</span><br><span class="line">  required: true, //æ˜¯å¦å¿…ä¼ </span><br><span class="line">  default:200,  //é»˜è®¤å€¼,å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–å¦‚ default:()=&gt;[]</span><br><span class="line">  validator:(value) &#123;</span><br><span class="line">    // è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª</span><br><span class="line">    return [&apos;success&apos;, &apos;warning&apos;, &apos;danger&apos;].indexOf(value) !== -1</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="emit"><a href="#emit" class="headerlink" title="$emit"></a>$emit</h4><p>è¿™ä¸ªä¹Ÿåº”è¯¥éå¸¸å¸¸è§,è§¦å‘å­ç»„ä»¶è§¦å‘çˆ¶ç»„ä»¶ç»™è‡ªå·±ç»‘å®šçš„äº‹ä»¶,å…¶å®å°±æ˜¯å­ä¼ çˆ¶çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home @title=&quot;title&quot;&gt;</span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">this.$emit(&apos;title&apos;,[&#123;title:&apos;è¿™æ˜¯title&apos;&#125;])</span><br></pre></td></tr></table></figure>

<h4 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h4><p>1.è¿™ä¸ªä¹Ÿæ˜¯å¾ˆå¸¸ç”¨çš„,vuex æ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨<br>2.æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ’ä»¶,é€‚åˆæ•°æ®å…±äº«å¤šçš„é¡¹ç›®é‡Œé¢,å› ä¸ºå¦‚æœåªæ˜¯ç®€å•çš„é€šè®¯,ä½¿ç”¨èµ·æ¥ä¼šæ¯”è¾ƒé‡<br>3.API</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">state:å®šä¹‰å­˜è´®æ•°æ®çš„ä»“åº“ ,å¯é€šè¿‡this.$store.state æˆ–mapStateè®¿é—®</span><br><span class="line">getter:è·å– store å€¼,å¯è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§,å¯é€šè¿‡this.$store.getter æˆ–</span><br><span class="line">       mapGettersè®¿é—®</span><br><span class="line">mutation:åŒæ­¥æ”¹å˜ store å€¼,ä¸ºä»€ä¹ˆä¼šè®¾è®¡æˆåŒæ­¥,å› ä¸ºmutationæ˜¯ç›´æ¥æ”¹å˜ store å€¼,</span><br><span class="line">         vue å¯¹æ“ä½œè¿›è¡Œäº†è®°å½•,å¦‚æœæ˜¯å¼‚æ­¥æ— æ³•è¿½è¸ªæ”¹å˜.å¯é€šè¿‡mapMutationsè°ƒç”¨</span><br><span class="line">action:å¼‚æ­¥è°ƒç”¨å‡½æ•°æ‰§è¡Œmutation,è¿›è€Œæ”¹å˜ store å€¼,å¯é€šè¿‡ this.$dispatchæˆ–mapActions</span><br><span class="line">       è®¿é—®</span><br><span class="line">modules:æ¨¡å—,å¦‚æœçŠ¶æ€è¿‡å¤š,å¯ä»¥æ‹†åˆ†æˆæ¨¡å—,æœ€ååœ¨å…¥å£é€šè¿‡...è§£æ„å¼•å…¥</span><br></pre></td></tr></table></figure>

<h4 id="listeners"><a href="#listeners" class="headerlink" title="listeners"></a>listeners</h4><p>2.4.0 æ–°å¢<br>è¿™ä¸¤ä¸ªæ˜¯ä¸å¸¸ç”¨å±æ€§,ä½†æ˜¯é«˜çº§ç”¨æ³•å¾ˆå¸¸è§;<br>1.åœºæ™¯å¦‚æœçˆ¶ä¼ å­æœ‰å¾ˆå¤šå€¼é‚£ä¹ˆåœ¨å­ç»„ä»¶éœ€è¦å®šä¹‰å¤šä¸ªè§£å†³attrsè·å–å­ä¼ çˆ¶ä¸­æœªåœ¨ props å®šä¹‰çš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home title=&quot;è¿™æ˜¯æ ‡é¢˜&quot; width=&quot;80&quot; height=&quot;80&quot; imgUrl=&quot;imgUrl&quot;/&gt;</span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">mounted() &#123;</span><br><span class="line">  console.log(this.$attrs) //&#123;title: &quot;è¿™æ˜¯æ ‡é¢˜&quot;, width: &quot;80&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>ç›¸å¯¹åº”çš„å¦‚æœå­ç»„ä»¶å®šä¹‰äº† props,æ‰“å°çš„å€¼å°±æ˜¯å‰”é™¤å®šä¹‰çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">  width: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    default: &apos;&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">  console.log(this.$attrs) //&#123;title: &quot;è¿™æ˜¯æ ‡é¢˜&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>2.åœºæ™¯å­ç»„ä»¶éœ€è¦è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•è§£å†³çˆ¶ç»„ä»¶çš„æ–¹æ³•å¯ä»¥é€šè¿‡listenersâ€ ä¼ å…¥å†…éƒ¨ç»„ä»¶â€”â€”åœ¨åˆ›å»ºæ›´é«˜å±‚æ¬¡çš„ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home @change=&quot;change&quot;/&gt;</span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">mounted() &#123;</span><br><span class="line">  console.log(this.$listeners) //å³å¯æ‹¿åˆ° change äº‹ä»¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯å­™ç»„ä»¶è¦è®¿é—®çˆ¶ç»„ä»¶çš„å±æ€§å’Œè°ƒç”¨æ–¹æ³•,ç›´æ¥ä¸€çº§ä¸€çº§ä¼ ä¸‹å»å°±å¯ä»¥<br>3.inheritAttrs</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home title=&quot;è¿™æ˜¯æ ‡é¢˜&quot; width=&quot;80&quot; height=&quot;80&quot; imgUrl=&quot;imgUrl&quot;/&gt;</span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">mounted() &#123;</span><br><span class="line">  console.log(this.$attrs) //&#123;title: &quot;è¿™æ˜¯æ ‡é¢˜&quot;, width: &quot;80&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">inheritAttrsé»˜è®¤å€¼ä¸ºtrueï¼Œtrueçš„æ„æ€æ˜¯å°†çˆ¶ç»„ä»¶ä¸­é™¤äº†propså¤–çš„å±æ€§æ·»åŠ åˆ°å­ç»„ä»¶çš„æ ¹èŠ‚ç‚¹ä¸Š(è¯´æ˜ï¼Œå³ä½¿è®¾ç½®ä¸ºtrueï¼Œå­ç»„ä»¶ä»ç„¶å¯ä»¥é€šè¿‡$attrè·å–åˆ°propsæ„å¤–çš„å±æ€§)</span><br><span class="line">å°†inheritAttrs:falseå,å±æ€§å°±ä¸ä¼šæ˜¾ç¤ºåœ¨æ ¹èŠ‚ç‚¹ä¸Šäº†</span><br></pre></td></tr></table></figure>

<h3 id="provideå’Œinject"><a href="#provideå’Œinject" class="headerlink" title="provideå’Œinject"></a>provideå’Œinject</h3><p>2.2.0 æ–°å¢<br>æè¿°:<br>provide å’Œ inject ä¸»è¦ä¸ºé«˜é˜¶æ’ä»¶/ç»„ä»¶åº“æä¾›ç”¨ä¾‹ã€‚å¹¶ä¸æ¨èç›´æ¥ç”¨äºåº”ç”¨ç¨‹åºä»£ç ä¸­;<br>å¹¶ä¸”è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨;<br>ä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//çˆ¶ç»„ä»¶:</span><br><span class="line">provide: &#123; //provide æ˜¯ä¸€ä¸ªå¯¹è±¡,æä¾›ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•</span><br><span class="line">  foo: &apos;è¿™æ˜¯ foo&apos;,</span><br><span class="line">  fooMethod:()=&gt;&#123;</span><br><span class="line">    console.log(&apos;çˆ¶ç»„ä»¶ fooMethod è¢«è°ƒç”¨&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">// å­æˆ–è€…å­™å­ç»„ä»¶</span><br><span class="line">inject: [&apos;foo&apos;,&apos;fooMethod&apos;], //æ•°ç»„æˆ–è€…å¯¹è±¡,æ³¨å…¥åˆ°å­ç»„ä»¶</span><br><span class="line">mounted() &#123;</span><br><span class="line">  this.fooMethod()</span><br><span class="line">  console.log(this.foo)</span><br><span class="line">&#125;</span><br><span class="line">//åœ¨çˆ¶ç»„ä»¶ä¸‹é¢æ‰€æœ‰çš„å­ç»„ä»¶éƒ½å¯ä»¥åˆ©ç”¨inject</span><br></pre></td></tr></table></figure>

<h4 id="provide-å’Œ-inject-ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹çš„ã€‚"><a href="#provide-å’Œ-inject-ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹çš„ã€‚" class="headerlink" title="provide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹çš„ã€‚"></a>provide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯å®˜æ–¹åˆ»æ„ä¸ºä¹‹çš„ã€‚</h4><p>ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„,å¯¹è±¡æ˜¯å› ä¸ºæ˜¯å¼•ç”¨ç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//çˆ¶ç»„ä»¶:</span><br><span class="line">provide: &#123; </span><br><span class="line">  foo: &apos;è¿™æ˜¯ foo&apos;</span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">  this.foo=&apos;è¿™æ˜¯æ–°çš„ foo&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å­æˆ–è€…å­™å­ç»„ä»¶</span><br><span class="line">inject: [&apos;foo&apos;], </span><br><span class="line">mounted() &#123;</span><br><span class="line">  console.log(this.foo) //å­ç»„ä»¶æ‰“å°çš„è¿˜æ˜¯&apos;è¿™æ˜¯ foo&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="children"><a href="#children" class="headerlink" title="children"></a>children</h4><p>çˆ¶å®ä¾‹children:å­å®ä¾‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line">  console.log(this.$children) </span><br><span class="line">  //å¯ä»¥æ‹¿åˆ° ä¸€çº§å­ç»„ä»¶çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">  //æ‰€ä»¥å°±å¯ä»¥ç›´æ¥æ”¹å˜ data,æˆ–è€…è°ƒç”¨ methods æ–¹æ³•</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å­ç»„ä»¶</span><br><span class="line">mounted()&#123;</span><br><span class="line">  console.log(this.$parent) //å¯ä»¥æ‹¿åˆ° parent çš„å±æ€§å’Œæ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å’Œparent å¹¶ä¸ä¿è¯é¡ºåºï¼Œä¹Ÿä¸æ˜¯å“åº”å¼çš„<br>åªèƒ½æ‹¿åˆ°ä¸€çº§çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶</p>
<h4 id="refs"><a href="#refs" class="headerlink" title="$refs"></a>$refs</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home ref=&quot;home&quot;/&gt;</span><br><span class="line"></span><br><span class="line">mounted()&#123;</span><br><span class="line">  console.log(this.$refs.home) //å³å¯æ‹¿åˆ°å­ç»„ä»¶çš„å®ä¾‹,å°±å¯ä»¥ç›´æ¥æ“ä½œ data å’Œ methods</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="root"><a href="#root" class="headerlink" title="$root"></a>$root</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">mounted()&#123;</span><br><span class="line">  console.log(this.$root) //è·å–æ ¹å®ä¾‹,æœ€åæ‰€æœ‰ç»„ä»¶éƒ½æ˜¯æŒ‚è½½åˆ°æ ¹å®ä¾‹ä¸Š</span><br><span class="line">  console.log(this.$root.$children[0]) //è·å–æ ¹å®ä¾‹çš„ä¸€çº§å­ç»„ä»¶</span><br><span class="line">  console.log(this.$root.$children[0].$children[0]) //è·å–æ ¹å®ä¾‹çš„äºŒçº§å­ç»„ä»¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="sync"><a href="#sync" class="headerlink" title=".sync"></a>.sync</h4><p>åœ¨ <a href="mailto:vue@1.x" target="_blank" rel="noopener">vue@1.x</a> çš„æ—¶å€™æ›¾ä½œä¸ºåŒå‘ç»‘å®šåŠŸèƒ½å­˜åœ¨ï¼Œå³å­ç»„ä»¶å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¸­çš„å€¼;<br>åœ¨ <a href="mailto:vue@2.0" target="_blank" rel="noopener">vue@2.0</a> çš„ç”±äºè¿èƒŒå•é¡¹æ•°æ®æµçš„è®¾è®¡è¢«å¹²æ‰äº†;<br>åœ¨ <a href="mailto:vue@2.3.0" target="_blank" rel="noopener">vue@2.3.0</a>+ ä»¥ä¸Šç‰ˆæœ¬åˆé‡æ–°å¼•å…¥äº†è¿™ä¸ª .sync ä¿®é¥°ç¬¦;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;home :title.sync=&quot;title&quot; /&gt;</span><br><span class="line">//ç¼–è¯‘æ—¶ä¼šè¢«æ‰©å±•ä¸º</span><br><span class="line">&lt;home :title=&quot;title&quot;  @update:title=&quot;val =&gt; title = val&quot;/&gt;</span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">// æ‰€ä»¥å­ç»„ä»¶å¯ä»¥é€šè¿‡$emit è§¦å‘ update æ–¹æ³•æ”¹å˜</span><br><span class="line">mounted()&#123;</span><br><span class="line">  this.$emit(&quot;update:title&quot;, &apos;è¿™æ˜¯æ–°çš„title&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="v-slot"><a href="#v-slot" class="headerlink" title="v-slot"></a>v-slot</h4><p>2.6.0 æ–°å¢<br>1.slot,slot-cope,scope åœ¨ 2.6.0 ä¸­éƒ½è¢«åºŸå¼ƒ,ä½†æœªè¢«ç§»é™¤<br>2.ä½œç”¨å°±æ˜¯å°†çˆ¶ç»„ä»¶çš„ template ä¼ å…¥å­ç»„ä»¶<br>3.æ’æ§½åˆ†ç±»:<br>A.åŒ¿åæ’æ§½(ä¹Ÿå«é»˜è®¤æ’æ§½): æ²¡æœ‰å‘½å,æœ‰ä¸”åªæœ‰ä¸€ä¸ª;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;todo-list&gt; </span><br><span class="line">    &lt;template v-slot:default&gt;</span><br><span class="line">       ä»»æ„å†…å®¹</span><br><span class="line">       &lt;p&gt;æˆ‘æ˜¯åŒ¿åæ’æ§½ &lt;/p&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/todo-list&gt; </span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">&lt;slot&gt;æˆ‘æ˜¯é»˜è®¤å€¼&lt;/slot&gt;</span><br><span class="line">//v-slot:defaultå†™ä¸Šæ„Ÿè§‰å’Œå…·åå†™æ³•æ¯”è¾ƒç»Ÿä¸€,å®¹æ˜“ç†è§£,ä¹Ÿå¯ä»¥ä¸ç”¨å†™</span><br></pre></td></tr></table></figure>

<p>B.å…·åæ’æ§½: ç›¸å¯¹åŒ¿åæ’æ§½ç»„ä»¶slotæ ‡ç­¾å¸¦nameå‘½åçš„;</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;todo-list&gt; </span><br><span class="line">    &lt;template v-slot:todo&gt;</span><br><span class="line">       ä»»æ„å†…å®¹</span><br><span class="line">       &lt;p&gt;æˆ‘æ˜¯åŒ¿åæ’æ§½ &lt;/p&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/todo-list&gt; </span><br><span class="line"></span><br><span class="line">//å­ç»„ä»¶</span><br><span class="line">&lt;slot name=&quot;todo&quot;&gt;æˆ‘æ˜¯é»˜è®¤å€¼&lt;/slot&gt;</span><br></pre></td></tr></table></figure>

<p>C.ä½œç”¨åŸŸæ’æ§½: å­ç»„ä»¶å†…æ•°æ®å¯ä»¥è¢«çˆ¶é¡µé¢æ‹¿åˆ°(è§£å†³äº†æ•°æ®åªèƒ½ä»çˆ¶é¡µé¢ä¼ é€’ç»™å­ç»„ä»¶)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶</span><br><span class="line">&lt;todo-list&gt;</span><br><span class="line"> &lt;template v-slot:todo=&quot;slotProps&quot; &gt;</span><br><span class="line">   &#123;&#123;slotProps.user.firstName&#125;&#125;</span><br><span class="line"> &lt;/template&gt; </span><br><span class="line">&lt;/todo-list&gt; </span><br><span class="line">//slotProps å¯ä»¥éšæ„å‘½å</span><br><span class="line">//slotProps æ¥å–çš„æ˜¯å­ç»„ä»¶æ ‡ç­¾slotä¸Šå±æ€§æ•°æ®çš„é›†åˆæ‰€æœ‰v-bind:user=&quot;user&quot;</span><br><span class="line"></span><br><span class="line">// å­ç»„ä»¶</span><br><span class="line">&lt;slot name=&quot;todo&quot; :user=&quot;user&quot; :test=&quot;test&quot;&gt;</span><br><span class="line">    &#123;&#123; user.lastName &#125;&#125;</span><br><span class="line"> &lt;/slot&gt; </span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      user:&#123;</span><br><span class="line">        lastName:&quot;Zhang&quot;,</span><br><span class="line">        firstName:&quot;yue&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      test:[1,2,3,4]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">// &#123;&#123; user.lastName &#125;&#125;æ˜¯é»˜è®¤æ•°æ®  v-slot:todo å½“çˆ¶é¡µé¢æ²¡æœ‰(=&quot;slotProps&quot;)</span><br></pre></td></tr></table></figure>

<h4 id="EventBus"><a href="#EventBus" class="headerlink" title="EventBus"></a>EventBus</h4><p>1.å°±æ˜¯å£°æ˜ä¸€ä¸ªå…¨å±€Vueå®ä¾‹å˜é‡ EventBus , æŠŠæ‰€æœ‰çš„é€šä¿¡æ•°æ®ï¼Œäº‹ä»¶ç›‘å¬éƒ½å­˜å‚¨åˆ°è¿™ä¸ªå˜é‡ä¸Š;<br>2.ç±»ä¼¼äº Vuexã€‚ä½†è¿™ç§æ–¹å¼åªé€‚ç”¨äºæå°çš„é¡¹ç›®<br>3.åŸç†å°±æ˜¯åˆ©ç”¨å’Œemit å¹¶å®ä¾‹åŒ–ä¸€ä¸ªå…¨å±€ vue å®ç°æ•°æ®å…±äº«</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åœ¨ main.js</span><br><span class="line">Vue.prototype.$eventBus=new Vue()</span><br><span class="line"></span><br><span class="line">// ä¼ å€¼ç»„ä»¶</span><br><span class="line">this.$eventBus.$emit(&apos;eventTarget&apos;,&apos;è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼&apos;)</span><br><span class="line"></span><br><span class="line">// æ¥æ”¶ç»„ä»¶</span><br><span class="line">this.$eventBus.$on(&quot;eventTarget&quot;,v=&gt;&#123;</span><br><span class="line">  console.log(&apos;eventTarget&apos;,v);//è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>4.å¯ä»¥å®ç°å¹³çº§,åµŒå¥—ç»„ä»¶ä¼ å€¼,ä½†æ˜¯å¯¹åº”çš„äº‹ä»¶åeventTargetå¿…é¡»æ˜¯å…¨å±€å”¯ä¸€çš„</p>
<h4 id="broadcastå’Œdispatch"><a href="#broadcastå’Œdispatch" class="headerlink" title="broadcastå’Œdispatch"></a>broadcastå’Œdispatch</h4><p>vue 1.x æœ‰è¿™ä¸¤ä¸ªæ–¹æ³•,äº‹ä»¶å¹¿æ’­å’Œæ´¾å‘,ä½†æ˜¯ vue 2.x åˆ é™¤äº†<br>ä¸‹é¢æ˜¯å¯¹ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œçš„å°è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function broadcast(componentName, eventName, params) &#123;</span><br><span class="line">  this.$children.forEach(child =&gt; &#123;</span><br><span class="line">    var name = child.$options.componentName;</span><br><span class="line"></span><br><span class="line">    if (name === componentName) &#123;</span><br><span class="line">      child.$emit.apply(child, [eventName].concat(params));</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      broadcast.apply(child, [componentName, eventName].concat(params));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    dispatch(componentName, eventName, params) &#123;</span><br><span class="line">      var parent = this.$parent;</span><br><span class="line">      var name = parent.$options.componentName;</span><br><span class="line">      while (parent &amp;&amp; (!name || name !== componentName)) &#123;</span><br><span class="line">        parent = parent.$parent;</span><br><span class="line"></span><br><span class="line">        if (parent) &#123;</span><br><span class="line">          name = parent.$options.componentName;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      if (parent) &#123;</span><br><span class="line">        parent.$emit.apply(parent, [eventName].concat(params));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    broadcast(componentName, eventName, params) &#123;</span><br><span class="line">      broadcast.call(this, componentName, eventName, params);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è·¯ç”±ä¼ å‚"><a href="#è·¯ç”±ä¼ å‚" class="headerlink" title="è·¯ç”±ä¼ å‚"></a>è·¯ç”±ä¼ å‚</h4><p>1.æ–¹æ¡ˆä¸€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// è·¯ç”±å®šä¹‰</span><br><span class="line">&#123;</span><br><span class="line">  path: &apos;/describe/:id&apos;,</span><br><span class="line">  name: &apos;Describe&apos;,</span><br><span class="line">  component: Describe</span><br><span class="line">&#125;</span><br><span class="line">// é¡µé¢ä¼ å‚</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">  path: `/describe/$&#123;id&#125;`,</span><br><span class="line">&#125;)</span><br><span class="line">// é¡µé¢è·å–</span><br><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure>

<p>2.æ–¹æ¡ˆäºŒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// è·¯ç”±å®šä¹‰</span><br><span class="line">&#123;</span><br><span class="line">  path: &apos;/describe&apos;,</span><br><span class="line">  name: &apos;Describe&apos;,</span><br><span class="line">  omponent: Describe</span><br><span class="line">&#125;</span><br><span class="line">// é¡µé¢ä¼ å‚</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">  name: &apos;Describe&apos;,</span><br><span class="line">  params: &#123;</span><br><span class="line">    id: id</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// é¡µé¢è·å–</span><br><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure>

<p>3.æ–¹æ¡ˆä¸‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// è·¯ç”±å®šä¹‰</span><br><span class="line">&#123;</span><br><span class="line">  path: &apos;/describe&apos;,</span><br><span class="line">  name: &apos;Describe&apos;,</span><br><span class="line">  component: Describe</span><br><span class="line">&#125;</span><br><span class="line">// é¡µé¢ä¼ å‚</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">  path: &apos;/describe&apos;,</span><br><span class="line">    query: &#123;</span><br><span class="line">      id: id</span><br><span class="line">  `&#125;</span><br><span class="line">)</span><br><span class="line">// é¡µé¢è·å–</span><br><span class="line">this.$route.query.id</span><br></pre></td></tr></table></figure>

<p>4.ä¸‰ç§æ–¹æ¡ˆå¯¹æ¯”<br>æ–¹æ¡ˆäºŒå‚æ•°ä¸ä¼šæ‹¼æ¥åœ¨è·¯ç”±åé¢,é¡µé¢åˆ·æ–°å‚æ•°ä¼šä¸¢å¤±<br>æ–¹æ¡ˆä¸€å’Œä¸‰å‚æ•°æ‹¼æ¥åœ¨åé¢,ä¸‘,è€Œä¸”æš´éœ²äº†ä¿¡æ¯</p>
<h4 id="Vue-observable"><a href="#Vue-observable" class="headerlink" title="Vue.observable"></a>Vue.observable</h4><p>2.6.0 æ–°å¢<br>ç”¨æ³•:è®©ä¸€ä¸ªå¯¹è±¡å¯å“åº”ã€‚Vue å†…éƒ¨ä¼šç”¨å®ƒæ¥å¤„ç† data å‡½æ•°è¿”å›çš„å¯¹è±¡;è¿”å›çš„å¯¹è±¡å¯ä»¥ç›´æ¥ç”¨äºæ¸²æŸ“å‡½æ•°å’Œè®¡ç®—å±æ€§å†…ï¼Œå¹¶ä¸”ä¼šåœ¨å‘ç”Ÿæ”¹å˜æ—¶è§¦å‘ç›¸åº”çš„æ›´æ–°;<br>ä¹Ÿå¯ä»¥ä½œä¸ºæœ€å°åŒ–çš„è·¨ç»„ä»¶çŠ¶æ€å­˜å‚¨å™¨ï¼Œç”¨äºç®€å•çš„åœºæ™¯ã€‚<br>é€šè®¯åŸç†å®è´¨ä¸Šæ˜¯åˆ©ç”¨Vue.observableå®ç°ä¸€ä¸ªç®€æ˜“çš„ vuex</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æ–‡ä»¶è·¯å¾„ - /store/store.js</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line"></span><br><span class="line">export const store = Vue.observable(&#123; count: 0 &#125;)</span><br><span class="line">export const mutations = &#123;</span><br><span class="line">  setCount (count) &#123;</span><br><span class="line">    store.count = count</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;label for=&quot;bookNum&quot;&gt;æ•° é‡&lt;/label&gt;</span><br><span class="line">            &lt;button @click=&quot;setCount(count+1)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;count&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;button @click=&quot;setCount(count-1)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; store, mutations &#125; from &apos;../store/store&apos; // Vue2.6æ–°å¢API Observable</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;Add&apos;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line">      return store.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    setCount: mutations.setCount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="render-å‡½æ•°"><a href="#render-å‡½æ•°" class="headerlink" title="render å‡½æ•°"></a>render å‡½æ•°</h3><p>1.åœºæ™¯:æœ‰äº›ä»£ç åœ¨ template é‡Œé¢å†™ä¼šé‡å¤å¾ˆå¤š,æ‰€ä»¥è¿™ä¸ªæ—¶å€™ render å‡½æ•°å°±æœ‰ä½œç”¨å•¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// æ ¹æ® props ç”Ÿæˆæ ‡ç­¾</span><br><span class="line">// åˆçº§</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div v-if=&quot;level === 1&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;</span><br><span class="line">    &lt;p v-else-if=&quot;level === 2&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/p&gt;</span><br><span class="line">    &lt;h1 v-else-if=&quot;level === 3&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h1&gt;</span><br><span class="line">    &lt;h2 v-else-if=&quot;level === 4&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/h2&gt;</span><br><span class="line">    &lt;strong v-else-if=&quot;level === 5&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/stong&gt;</span><br><span class="line">    &lt;textarea v-else-if=&quot;level === 6&quot;&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/textarea&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">// ä¼˜åŒ–ç‰ˆ,åˆ©ç”¨ render å‡½æ•°å‡å°äº†ä»£ç é‡å¤ç‡</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;child :level=&quot;level&quot;&gt;Hello world!&lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&apos;text/javascript&apos;&gt;</span><br><span class="line">  import Vue from &apos;vue&apos;</span><br><span class="line">  Vue.component(&apos;child&apos;, &#123;</span><br><span class="line">    render(h) &#123;</span><br><span class="line">      const tag = [&apos;div&apos;, &apos;p&apos;, &apos;strong&apos;, &apos;h1&apos;, &apos;h2&apos;, &apos;textarea&apos;][this.level-1]</span><br><span class="line">      return h(tag, this.$slots.default)</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      level: &#123;  type: Number,  required: true  &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)   </span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &apos;hehe&apos;,</span><br><span class="line">    data() &#123; return &#123; level: 3 &#125; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.render å’Œ template çš„å¯¹æ¯”<br>å‰è€…é€‚åˆå¤æ‚é€»è¾‘,åè€…é€‚åˆé€»è¾‘ç®€å•;<br>åè€…å±äºå£°æ˜æ˜¯æ¸²æŸ“ï¼Œå‰è€…å±äºè‡ªå®šRenderå‡½æ•°;<br>å‰è€…çš„æ€§èƒ½è¾ƒé«˜ï¼Œåè€…æ€§èƒ½è¾ƒä½ã€‚</p>
<h3 id="å¼‚æ­¥ç»„ä»¶"><a href="#å¼‚æ­¥ç»„ä»¶" class="headerlink" title="å¼‚æ­¥ç»„ä»¶"></a>å¼‚æ­¥ç»„ä»¶</h3><p>åœºæ™¯:é¡¹ç›®è¿‡å¤§å°±ä¼šå¯¼è‡´åŠ è½½ç¼“æ…¢,æ‰€ä»¥å¼‚æ­¥ç»„ä»¶å®ç°æŒ‰éœ€åŠ è½½å°±æ˜¯å¿…é¡»è¦åšçš„äº‹å•¦<br>1.å¼‚æ­¥æ³¨å†Œç»„ä»¶<br>3ç§æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å·¥å‚å‡½æ•°æ‰§è¡Œ resolve å›è°ƒ</span><br><span class="line">Vue.component(&apos;async-webpack-example&apos;, function (resolve) &#123;</span><br><span class="line">  // è¿™ä¸ªç‰¹æ®Šçš„ `require` è¯­æ³•å°†ä¼šå‘Šè¯‰ webpack</span><br><span class="line">  // è‡ªåŠ¨å°†ä½ çš„æ„å»ºä»£ç åˆ‡å‰²æˆå¤šä¸ªåŒ…, è¿™äº›åŒ…</span><br><span class="line">  // ä¼šé€šè¿‡ Ajax è¯·æ±‚åŠ è½½</span><br><span class="line">  require([&apos;./my-async-component&apos;], resolve)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// å·¥å‚å‡½æ•°è¿”å› Promise</span><br><span class="line">Vue.component(</span><br><span class="line">  &apos;async-webpack-example&apos;,</span><br><span class="line">  // è¿™ä¸ª `import` å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª `Promise` å¯¹è±¡ã€‚</span><br><span class="line">  () =&gt; import(&apos;./my-async-component&apos;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// å·¥å‚å‡½æ•°è¿”å›ä¸€ä¸ªé…ç½®åŒ–ç»„ä»¶å¯¹è±¡</span><br><span class="line">const AsyncComponent = () =&gt; (&#123;</span><br><span class="line">  // éœ€è¦åŠ è½½çš„ç»„ä»¶ (åº”è¯¥æ˜¯ä¸€ä¸ª `Promise` å¯¹è±¡)</span><br><span class="line">  component: import(&apos;./MyComponent.vue&apos;),</span><br><span class="line">  // å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶</span><br><span class="line">  loading: LoadingComponent,</span><br><span class="line">  // åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶</span><br><span class="line">  error: ErrorComponent,</span><br><span class="line">  // å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 200 (æ¯«ç§’)</span><br><span class="line">  delay: 200,</span><br><span class="line">  // å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†ï¼Œ</span><br><span class="line">  // åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š`Infinity`</span><br><span class="line">  timeout: 3000</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¼‚æ­¥ç»„ä»¶çš„æ¸²æŸ“æœ¬è´¨ä¸Šå…¶å®å°±æ˜¯æ‰§è¡Œ2æ¬¡æˆ–è€…2æ¬¡ä»¥ä¸Šçš„æ¸²æŸ“, å…ˆæŠŠå½“å‰ç»„ä»¶æ¸²æŸ“ä¸ºæ³¨é‡ŠèŠ‚ç‚¹, å½“ç»„ä»¶åŠ è½½æˆåŠŸå, é€šè¿‡ forceRender æ‰§è¡Œé‡æ–°æ¸²æŸ“ã€‚æˆ–è€…æ˜¯æ¸²æŸ“ä¸ºæ³¨é‡ŠèŠ‚ç‚¹, ç„¶åå†æ¸²æŸ“ä¸ºloadingèŠ‚ç‚¹, åœ¨æ¸²æŸ“ä¸ºè¯·æ±‚å®Œæˆçš„ç»„ä»¶</p>
<p>2.è·¯ç”±çš„æŒ‰éœ€åŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack&lt; 2.4 æ—¶</span><br><span class="line">&#123;</span><br><span class="line">  path:&apos;/&apos;,</span><br><span class="line">  name:&apos;home&apos;,</span><br><span class="line">  components:resolve=&gt;require([&apos;@/components/home&apos;],resolve)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">webpack&gt; 2.4 æ—¶</span><br><span class="line">&#123;</span><br><span class="line">  path:&apos;/&apos;,</span><br><span class="line">  name:&apos;home&apos;,</span><br><span class="line">  components:()=&gt;import(&apos;@/components/home&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">import()æ–¹æ³•ç”±es6æå‡ºï¼Œimport()æ–¹æ³•æ˜¯åŠ¨æ€åŠ è½½ï¼Œè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œthenæ–¹æ³•çš„å‚æ•°æ˜¯åŠ è½½åˆ°çš„æ¨¡å—ã€‚ç±»ä¼¼äºNode.jsçš„requireæ–¹æ³•ï¼Œä¸»è¦import()æ–¹æ³•æ˜¯å¼‚æ­¥åŠ è½½çš„ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ€ç»„ä»¶"><a href="#åŠ¨æ€ç»„ä»¶" class="headerlink" title="åŠ¨æ€ç»„ä»¶"></a>åŠ¨æ€ç»„ä»¶</h3><p>åœºæ™¯:åšä¸€ä¸ª tab åˆ‡æ¢æ—¶å°±ä¼šæ¶‰åŠåˆ°ç»„ä»¶åŠ¨æ€åŠ è½½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;component v-bind:is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ ·æ¯æ¬¡ç»„ä»¶éƒ½ä¼šé‡æ–°åŠ è½½,ä¼šæ¶ˆè€—å¤§é‡æ€§èƒ½,æ‰€ä»¥<keep-alive> å°±èµ·åˆ°äº†ä½œç”¨</keep-alive></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;component v-bind:is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åˆ‡æ¢æ•ˆæœæ²¡æœ‰åŠ¨ç”»æ•ˆæœ,è¿™ä¸ªä¹Ÿä¸ç”¨ç€æ€¥,å¯ä»¥åˆ©ç”¨å†…ç½®çš„<transition></transition></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;transition&gt;</span><br><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;component v-bind:is=&quot;currentTabComponent&quot;&gt;&lt;/component&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure>

<h3 id="é€’å½’ç»„ä»¶"><a href="#é€’å½’ç»„ä»¶" class="headerlink" title="é€’å½’ç»„ä»¶"></a>é€’å½’ç»„ä»¶</h3><p>åœºæ™¯:å¦‚æœå¼€å‘ä¸€ä¸ª tree ç»„ä»¶,é‡Œé¢å±‚çº§æ˜¯æ ¹æ®åå°æ•°æ®å†³å®šçš„,è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°åŠ¨æ€ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é€’å½’ç»„ä»¶: ç»„ä»¶åœ¨å®ƒçš„æ¨¡æ¿å†…å¯ä»¥é€’å½’çš„è°ƒç”¨è‡ªå·±ï¼Œåªè¦ç»™ç»„ä»¶è®¾ç½®nameç»„ä»¶å°±å¯ä»¥äº†ã€‚</span><br><span class="line">// è®¾ç½®é‚£ä¹ˆHouseåœ¨ç»„ä»¶æ¨¡æ¿å†…å°±å¯ä»¥é€’å½’ä½¿ç”¨äº†,ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ</span><br><span class="line">// å¿…é¡»ç»™ä¸€ä¸ªæ¡ä»¶æ¥é™åˆ¶æ•°é‡ï¼Œå¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯: max stack size exceeded</span><br><span class="line">// ç»„ä»¶é€’å½’ç”¨æ¥å¼€å‘ä¸€äº›å…·ä½“æœ‰æœªçŸ¥å±‚çº§å…³ç³»çš„ç‹¬ç«‹ç»„ä»¶ã€‚æ¯”å¦‚ï¼š</span><br><span class="line">// è”çº§é€‰æ‹©å™¨å’Œæ ‘å½¢æ§ä»¶ </span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-for=&quot;(item,index) in treeArr&quot;&gt;</span><br><span class="line">      å­ç»„ä»¶ï¼Œå½“å‰å±‚çº§å€¼ï¼š &#123;&#123;index&#125;&#125; &lt;br/&gt;</span><br><span class="line">      &lt;!-- é€’å½’è°ƒç”¨è‡ªèº«, åå°åˆ¤æ–­æ˜¯å¦ä¸å­˜åœ¨æ”¹å€¼ --&gt;</span><br><span class="line">      &lt;tree :item=&quot;item.arr&quot; v-if=&quot;item.flag&quot;&gt;&lt;/tree&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // å¿…é¡»å®šä¹‰nameï¼Œç»„ä»¶å†…éƒ¨æ‰èƒ½é€’å½’è°ƒç”¨</span><br><span class="line">  name: &apos;tree&apos;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„å€¼</span><br><span class="line">  props: &#123;</span><br><span class="line">     item: &#123;</span><br><span class="line">      type:Array,</span><br><span class="line">      default: ()=&gt;[]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>é€’å½’ç»„ä»¶å¿…é¡»è®¾ç½®name å’Œç»“æŸçš„é˜€å€¼</p>
<h3 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶"></a>å‡½æ•°å¼ç»„ä»¶</h3><p>å®šä¹‰:æ— çŠ¶æ€,æ— æ³•å®ä¾‹åŒ–ï¼Œå†…éƒ¨æ²¡æœ‰ä»»ä½•ç”Ÿå‘½å‘¨æœŸå¤„ç†æ–¹æ³•<br>è§„åˆ™:åœ¨ 2.3.0 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶æƒ³è¦æ¥æ”¶ propï¼Œåˆ™ props é€‰é¡¹æ˜¯å¿…é¡»çš„ã€‚<br>åœ¨ 2.3.0 æˆ–ä»¥ä¸Šçš„ç‰ˆæœ¬ä¸­ï¼Œä½ å¯ä»¥çœç•¥ props é€‰é¡¹ï¼Œæ‰€æœ‰ç»„ä»¶ä¸Šçš„ç‰¹æ€§éƒ½ä¼šè¢«è‡ªåŠ¨éšå¼è§£æä¸º prop<br>åœ¨ 2.5.0 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨äº†å•æ–‡ä»¶ç»„ä»¶(å°±æ˜¯æ™®é€šçš„.vue æ–‡ä»¶),å¯ä»¥ç›´æ¥åœ¨ template ä¸Šå£°æ˜functional<br>ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ context å‚æ•°ä¼ é€’<br>context å±æ€§æœ‰:<br>1.propsï¼šæä¾›æ‰€æœ‰ prop çš„å¯¹è±¡<br>2.children: VNode å­èŠ‚ç‚¹çš„æ•°ç»„<br>3.slots: ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›äº†åŒ…å«æ‰€æœ‰æ’æ§½çš„å¯¹è±¡<br>4.scopedSlots: (2.6.0+) ä¸€ä¸ªæš´éœ²ä¼ å…¥çš„ä½œç”¨åŸŸæ’æ§½çš„å¯¹è±¡ã€‚ä¹Ÿä»¥å‡½æ•°å½¢å¼æš´éœ²æ™®é€šæ’æ§½ã€‚<br>5.dataï¼šä¼ é€’ç»™ç»„ä»¶çš„æ•´ä¸ªæ•°æ®å¯¹è±¡ï¼Œä½œä¸º createElement çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ç»„ä»¶<br>6.parentï¼šå¯¹çˆ¶ç»„ä»¶çš„å¼•ç”¨<br>7.listeners: (2.3.0+) ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰çˆ¶ç»„ä»¶ä¸ºå½“å‰ç»„ä»¶æ³¨å†Œçš„äº‹ä»¶ç›‘å¬å™¨çš„å¯¹è±¡ã€‚è¿™æ˜¯ data.on çš„ä¸€ä¸ªåˆ«åã€‚<br>8.injections: (2.3.0+) å¦‚æœä½¿ç”¨äº† inject é€‰é¡¹ï¼Œåˆ™è¯¥å¯¹è±¡åŒ…å«äº†åº”å½“è¢«æ³¨å…¥çš„å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template functional&gt;</span><br><span class="line">  &lt;div v-for=&quot;(item,index) in props.arr&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="componentså’ŒVue-component"><a href="#componentså’ŒVue-component" class="headerlink" title="componentså’ŒVue.component"></a>componentså’ŒVue.component</h3><p>components:å±€éƒ¨æ³¨å†Œç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export default&#123;</span><br><span class="line">  components:&#123;home&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Vue.component:å…¨å±€æ³¨å†Œç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.component(&apos;home&apos;,home)</span><br></pre></td></tr></table></figure>

<h3 id="Vue-extend"><a href="#Vue-extend" class="headerlink" title="Vue.extend"></a>Vue.extend</h3><p>åœºæ™¯:vue ç»„ä»¶ä¸­æœ‰äº›éœ€è¦å°†ä¸€äº›å…ƒç´ æŒ‚è½½åˆ°å…ƒç´ ä¸Š,è¿™ä¸ªæ—¶å€™ extend å°±èµ·åˆ°ä½œç”¨äº†<br>æ˜¯æ„é€ ä¸€ä¸ªç»„ä»¶çš„è¯­æ³•å™¨<br>å†™æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åˆ›å»ºæ„é€ å™¨</span><br><span class="line">var Profile = Vue.extend(&#123;</span><br><span class="line">  template: &apos;&lt;p&gt;&#123;&#123;extendData&#125;&#125;&lt;/br&gt;å®ä¾‹ä¼ å…¥çš„æ•°æ®ä¸º:&#123;&#123;propsExtend&#125;&#125;&lt;/p&gt;&apos;,//templateå¯¹åº”çš„æ ‡ç­¾æœ€å¤–å±‚å¿…é¡»åªæœ‰ä¸€ä¸ªæ ‡ç­¾</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      extendData: &apos;è¿™æ˜¯extendæ‰©å±•çš„æ•°æ®&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  props:[&apos;propsExtend&apos;]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºçš„æ„é€ å™¨å¯ä»¥æŒ‚è½½åˆ°å…ƒç´ ä¸Š,ä¹Ÿå¯ä»¥é€šè¿‡ components æˆ– Vue.component()æ³¨å†Œä½¿ç”¨</span><br><span class="line">// æŒ‚è½½åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚å¯ä»¥é€šè¿‡propsDataä¼ å‚.</span><br><span class="line">new Profile(&#123;propsData:&#123;propsExtend:&apos;æˆ‘æ˜¯å®ä¾‹ä¼ å…¥çš„æ•°æ®&apos;&#125;&#125;).$mount(&apos;#app-extend&apos;)</span><br><span class="line"></span><br><span class="line">// é€šè¿‡ components æˆ– Vue.component()æ³¨å†Œ</span><br><span class="line">Vue.component(&apos;Profile&apos;,Profile)</span><br></pre></td></tr></table></figure>

<h3 id="mixins"><a href="#mixins" class="headerlink" title="mixins"></a>mixins</h3><p>åœºæ™¯:æœ‰äº›ç»„ä»¶æœ‰äº›é‡å¤çš„ js é€»è¾‘,å¦‚æ ¡éªŒæ‰‹æœºéªŒè¯ç ,è§£ææ—¶é—´ç­‰,mixins å°±å¯ä»¥å®ç°è¿™ç§æ··å…¥<br>mixins å€¼æ˜¯ä¸€ä¸ªæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const mixin=&#123;</span><br><span class="line">    created()&#123;</span><br><span class="line">      this.dealTime()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      dealTime()&#123;</span><br><span class="line">        console.log(&apos;è¿™æ˜¯mixinçš„dealTimeé‡Œé¢çš„æ–¹æ³•&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">  mixins:[mixin]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h3><p>extendsç”¨æ³•å’Œmixinså¾ˆç›¸ä¼¼,åªä¸è¿‡æ¥æ”¶çš„å‚æ•°æ˜¯ç®€å•çš„é€‰é¡¹å¯¹è±¡æˆ–æ„é€ å‡½æ•°,æ‰€ä»¥extendsåªèƒ½å•æ¬¡æ‰©å±•ä¸€ä¸ªç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const extend=&#123;</span><br><span class="line">    created()&#123;</span><br><span class="line">      this.dealTime()</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      dealTime()&#123;</span><br><span class="line">        console.log(&apos;è¿™æ˜¯mixinçš„dealTimeé‡Œé¢çš„æ–¹æ³•&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default&#123;</span><br><span class="line">  extends:extend</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-use"><a href="#Vue-use" class="headerlink" title="Vue.use()"></a>Vue.use()</h3><p>extendsç”¨æ³•å’Œmixinså¾ˆç›¸ä¼¼,åªä¸è¿‡æ¥æ”¶çš„å‚æ•°æ˜¯ç®€å•çš„é€‰é¡¹å¯¹è±¡æˆ–æ„é€ å‡½æ•°,æ‰€ä»¥extendsåªèƒ½å•æ¬¡æ‰©å±•ä¸€ä¸ªç»„ä»¶<br>åœºæ™¯:æˆ‘ä»¬ä½¿ç”¨ elementæ—¶ä¼šå…ˆ import,å† Vue.use()ä¸€ä¸‹,å®é™…ä¸Šå°±æ˜¯æ³¨å†Œç»„ä»¶,è§¦å‘ install æ–¹æ³•;<br>è¿™ä¸ªåœ¨ç»„ä»¶è°ƒç”¨ä¼šç»å¸¸ä½¿ç”¨åˆ°;<br>ä¼šè‡ªåŠ¨ç»„ç»‡å¤šæ¬¡æ³¨å†Œç›¸åŒçš„æ’ä»¶.</p>
<h3 id="install"><a href="#install" class="headerlink" title="install"></a>install</h3><p>åœºæ™¯:åœ¨ Vue.use()è¯´åˆ°,æ‰§è¡Œè¯¥æ–¹æ³•ä¼šè§¦å‘ install<br>æ˜¯å¼€å‘vueçš„æ’ä»¶,è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡(å¯é€‰)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var MyPlugin = &#123;&#125;;</span><br><span class="line">  MyPlugin.install = function (Vue, options) &#123;</span><br><span class="line">    // 2. æ·»åŠ å…¨å±€èµ„æº,ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªå€¼é»˜è®¤æ˜¯updateå¯¹åº”çš„å€¼</span><br><span class="line">    Vue.directive(&apos;click&apos;, &#123;</span><br><span class="line">      bind(el, binding, vnode, oldVnode) &#123;</span><br><span class="line">        //åšç»‘å®šçš„å‡†å¤‡å·¥ä½œ,æ·»åŠ æ—¶é—´ç›‘å¬</span><br><span class="line">        console.log(&apos;æŒ‡ä»¤my-directiveçš„bindæ‰§è¡Œå•¦&apos;);</span><br><span class="line">      &#125;,</span><br><span class="line">      inserted: function(el)&#123;</span><br><span class="line">      //è·å–ç»‘å®šçš„å…ƒç´ </span><br><span class="line">      console.log(&apos;æŒ‡ä»¤my-directiveçš„insertedæ‰§è¡Œå•¦&apos;);</span><br><span class="line">      &#125;,</span><br><span class="line">      update: function()&#123;</span><br><span class="line">      //æ ¹æ®è·å¾—çš„æ–°å€¼æ‰§è¡Œå¯¹åº”çš„æ›´æ–°</span><br><span class="line">      //å¯¹äºåˆå§‹å€¼ä¹Ÿä¼šè°ƒç”¨ä¸€æ¬¡</span><br><span class="line">      console.log(&apos;æŒ‡ä»¤my-directiveçš„updateæ‰§è¡Œå•¦&apos;);</span><br><span class="line">      &#125;,</span><br><span class="line">      componentUpdated: function()&#123;</span><br><span class="line">      console.log(&apos;æŒ‡ä»¤my-directiveçš„componentUpdatedæ‰§è¡Œå•¦&apos;);</span><br><span class="line">      &#125;,</span><br><span class="line">      unbind: function()&#123;</span><br><span class="line">      //åšæ¸…ç†æ“ä½œ</span><br><span class="line">      //æ¯”å¦‚ç§»é™¤bindæ—¶ç»‘å®šçš„äº‹ä»¶ç›‘å¬å™¨</span><br><span class="line">      console.log(&apos;æŒ‡ä»¤my-directiveçš„unbindæ‰§è¡Œå•¦&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 3. æ³¨å…¥ç»„ä»¶</span><br><span class="line">    Vue.mixin(&#123;</span><br><span class="line">      created: function () &#123;</span><br><span class="line">        console.log(&apos;æ³¨å…¥ç»„ä»¶çš„createdè¢«è°ƒç”¨å•¦&apos;);</span><br><span class="line">        console.log(&apos;optionsçš„å€¼ä¸º&apos;,options)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span><br><span class="line">    Vue.prototype.$myMethod = function (methodOptions) &#123;</span><br><span class="line">      console.log(&apos;å®ä¾‹æ–¹æ³•myMethodè¢«è°ƒç”¨å•¦&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //è°ƒç”¨MyPlugin</span><br><span class="line">  Vue.use(MyPlugin,&#123;someOption: true &#125;)</span><br><span class="line"></span><br><span class="line">  //3.æŒ‚è½½</span><br><span class="line">  new Vue(&#123;</span><br><span class="line">    el: &apos;#app&apos;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Vue-nextTick"><a href="#Vue-nextTick" class="headerlink" title="Vue.nextTick"></a>Vue.nextTick</h3><p>2.1.0 æ–°å¢<br>åœºæ™¯:é¡µé¢åŠ è½½æ—¶éœ€è¦è®©æ–‡æœ¬æ¡†è·å–ç„¦ç‚¹<br>ç”¨æ³•:åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOM</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mounted()&#123; //å› ä¸º mounted é˜¶æ®µ dom å¹¶æœªæ¸²æŸ“å®Œæ¯•,æ‰€ä»¥éœ€è¦$nextTick</span><br><span class="line">  this.$nextTick(() =&gt; &#123;</span><br><span class="line">    this.$refs.inputs.focus() //é€šè¿‡ $refs è·å–dom å¹¶ç»‘å®š focus æ–¹æ³•</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-directive"><a href="#Vue-directive" class="headerlink" title="Vue.directive"></a>Vue.directive</h3><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>åœºæ™¯:å®˜æ–¹ç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šæŒ‡ä»¤,ä½†æ˜¯æˆ‘ä»¬å¦‚æœæƒ³å°†æ–‡å­—å˜æˆæŒ‡å®šçš„é¢œè‰²å®šä¹‰æˆæŒ‡ä»¤ä½¿ç”¨,è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°Vue.directive</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å…¨å±€å®šä¹‰</span><br><span class="line">Vue.directive(&quot;change-color&quot;,function(el,binding,vnode)&#123;</span><br><span class="line">  el.style[&quot;color&quot;]= binding.value;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div v-change-color=â€œcolorâ€&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default&#123;</span><br><span class="line">    data()&#123;</span><br><span class="line">      return&#123;</span><br><span class="line">        color:&apos;green&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h4><p>1.bind åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶å€™è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å¯ä»¥å®šä¹‰ä¸€ä¸ªç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚<br>2.inserted:è¢«ç»‘å®šçš„å…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹çš„æ—¶å€™è°ƒç”¨(çˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨documentä¸­)<br>3.update: è¢«ç»‘å®šä¸å…ƒç´ æ‰€åœ¨æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸”æ— è®ºç»‘å®šå€¼æ˜¯å¦æœ‰å˜åŒ–ï¼Œé€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ¨¡æ¿æ›´æ–°<br>4.componentUpdate :è¢«ç»‘å®šçš„å…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°æ›´æ–°å‘¨æœŸçš„æ—¶å€™è°ƒç”¨<br>5.unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤æœˆå…ƒç´ è§£ç»‘çš„æ—¶å€™è°ƒç”¨</p>
<h3 id="Vue-filter"><a href="#Vue-filter" class="headerlink" title="Vue.filter"></a>Vue.filter</h3><p>åœºæ™¯:æ—¶é—´æˆ³è½¬åŒ–æˆå¹´æœˆæ—¥è¿™æ˜¯ä¸€ä¸ªå…¬å…±æ–¹æ³•,æ‰€ä»¥å¯ä»¥æŠ½ç¦»æˆè¿‡æ»¤å™¨ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ä½¿ç”¨</span><br><span class="line">// åœ¨åŒèŠ±æ‹¬å·ä¸­</span><br><span class="line">&#123;&#123; message | capitalize &#125;&#125;</span><br><span class="line"></span><br><span class="line">// åœ¨ `v-bind` ä¸­</span><br><span class="line">&lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// å…¨å±€æ³¨å†Œ</span><br><span class="line">Vue.filter(&apos;stampToYYMMDD&apos;, (value) =&gt;&#123;</span><br><span class="line">  // å¤„ç†é€»è¾‘</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// å±€éƒ¨æ³¨å†Œ</span><br><span class="line">filters: &#123;</span><br><span class="line">  stampToYYMMDD: (value)=&gt; &#123;</span><br><span class="line">    // å¤„ç†é€»è¾‘</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å¤šä¸ªè¿‡æ»¤å™¨å…¨å±€æ³¨å†Œ</span><br><span class="line">// /src/common/filters.js</span><br><span class="line">let dateServer = value =&gt; value.replace(/(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)/g, &apos;$1-$2-$3&apos;) </span><br><span class="line">export &#123; dateServer &#125;</span><br><span class="line">// /src/main.js</span><br><span class="line">import * as custom from &apos;./common/filters/custom&apos;</span><br><span class="line">Object.keys(custom).forEach(key =&gt; Vue.filter(key, custom[key]))</span><br></pre></td></tr></table></figure>

<h3 id="Vue-compile"><a href="#Vue-compile" class="headerlink" title="Vue.compile"></a>Vue.compile</h3><p>åœºæ™¯:åœ¨ render å‡½æ•°ä¸­ç¼–è¯‘æ¨¡æ¿å­—ç¬¦ä¸²ã€‚åªåœ¨ç‹¬ç«‹æ„å»ºæ—¶æœ‰æ•ˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var res = Vue.compile(&apos;&lt;div&gt;&lt;span&gt;&#123;&#123; msg &#125;&#125;&lt;/span&gt;&lt;/div&gt;&apos;)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg: &apos;hello&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  render: res.render,</span><br><span class="line">  staticRenderFns: res.staticRenderFns</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Vue-version"><a href="#Vue-version" class="headerlink" title="Vue.version"></a>Vue.version</h3><p>åœºæ™¯:æœ‰äº›å¼€å‘æ’ä»¶éœ€è¦é’ˆå¯¹ä¸åŒ vue ç‰ˆæœ¬åšå…¼å®¹,æ‰€ä»¥å°±ä¼šç”¨åˆ° Vue.version<br>ç”¨æ³•:Vue.version()å¯ä»¥è·å– vue ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var version = Number(Vue.version.split(&apos;.&apos;)[0])</span><br><span class="line"></span><br><span class="line">if (version === 2) &#123;</span><br><span class="line">  // Vue v2.x.x</span><br><span class="line">&#125; else if (version === 1) &#123;</span><br><span class="line">  // Vue v1.x.x</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  // Unsupported versions of Vue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-set"><a href="#Vue-set" class="headerlink" title="Vue.set()"></a>Vue.set()</h3><p>åœºæ™¯:å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶æˆ–ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶,ç”±äº Object.defineprototype()æ–¹æ³•é™åˆ¶,æ•°æ®ä¸å“åº”å¼æ›´æ–°<br>ä¸è¿‡vue.3.x å°†åˆ©ç”¨ proxy è¿™ä¸ªé—®é¢˜å°†å¾—åˆ°è§£å†³<br>è§£å†³æ–¹æ¡ˆ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åˆ©ç”¨ set</span><br><span class="line">this.$set(arr,index,item)</span><br><span class="line"></span><br><span class="line">// åˆ©ç”¨æ•°ç»„ push(),splice()</span><br></pre></td></tr></table></figure>

<h3 id="Vue-config-keyCodes"><a href="#Vue-config-keyCodes" class="headerlink" title="Vue.config.keyCodes"></a>Vue.config.keyCodes</h3><p>åœºæ™¯:è‡ªå®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦åˆ«å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å°†é”®ç ä¸º 113 å®šä¹‰ä¸º f2</span><br><span class="line">Vue.config.keyCodes.f2 = 113;</span><br><span class="line">&lt;input type=&quot;text&quot; @keyup.f2=&quot;add&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-config-performance"><a href="#Vue-config-performance" class="headerlink" title="Vue.config.performance"></a>Vue.config.performance</h3><p>åœºæ™¯:ç›‘å¬æ€§èƒ½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.config.performance = true</span><br></pre></td></tr></table></figure>

<p>åªé€‚ç”¨äºå¼€å‘æ¨¡å¼å’Œæ”¯æŒ performance.mark API çš„æµè§ˆå™¨ä¸Š</p>
<h3 id="Vue-config-errorHandler"><a href="#Vue-config-errorHandler" class="headerlink" title="Vue.config.errorHandler"></a>Vue.config.errorHandler</h3><p>1.åœºæ™¯:æŒ‡å®šç»„ä»¶çš„æ¸²æŸ“å’Œè§‚å¯ŸæœŸé—´æœªæ•è·é”™è¯¯çš„å¤„ç†å‡½æ•°<br>2.è§„åˆ™:<br>  ä» 2.2.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è·ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œçš„é”™è¯¯ã€‚åŒæ ·çš„ï¼Œå½“è¿™ä¸ªé’©å­æ˜¯ undefined æ—¶ï¼Œè¢«æ•è·çš„é”™è¯¯ä¼šé€šè¿‡ console.error è¾“å‡ºè€Œé¿å…åº”ç”¨å´©æºƒ<br>  ä» 2.4.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· Vue è‡ªå®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨çš„é”™è¯¯äº†<br>  ä» 2.6.0 èµ·ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šæ•è· v-on DOM ç›‘å¬å™¨å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ã€‚å¦å¤–ï¼Œå¦‚æœä»»ä½•è¢«è¦†ç›–çš„é’©å­æˆ–å¤„ç†å‡½æ•°è¿”å›ä¸€ä¸ª Promise é“¾ (ä¾‹å¦‚ async å‡½æ•°)ï¼Œåˆ™æ¥è‡ªå…¶ Promise é“¾çš„é”™è¯¯ä¹Ÿä¼šè¢«å¤„ç†<br>3.ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.config.errorHandler = function (err, vm, info) &#123;</span><br><span class="line">  // handle error</span><br><span class="line">  // `info` æ˜¯ Vue ç‰¹å®šçš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯æ‰€åœ¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span><br><span class="line">  // åªåœ¨ 2.2.0+ å¯ç”¨</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Vue-config-warnHandler"><a href="#Vue-config-warnHandler" class="headerlink" title="Vue.config.warnHandler"></a>Vue.config.warnHandler</h3><p>2.4.0 æ–°å¢<br>1.åœºæ™¯:ä¸º Vue çš„è¿è¡Œæ—¶è­¦å‘Šèµ‹äºˆä¸€ä¸ªè‡ªå®šä¹‰å¤„ç†å‡½æ•°,åªä¼šåœ¨å¼€å‘è€…ç¯å¢ƒä¸‹ç”Ÿæ•ˆ<br>2.ç”¨æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.config.warnHandler = function (msg, vm, trace) &#123;</span><br><span class="line">  // `trace` æ˜¯ç»„ä»¶çš„ç»§æ‰¿å…³ç³»è¿½è¸ª</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><p>åœºæ™¯:vue æ˜¯å“åº”å¼ç³»ç»Ÿ,ä½†æ˜¯æœ‰äº›é™æ€çš„æ ‡ç­¾ä¸éœ€è¦å¤šæ¬¡ç¼–è¯‘,è¿™æ ·å¯ä»¥èŠ‚çœæ€§èƒ½</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span v-pre&gt;&#123;&#123; this will not be compiled &#125;&#125;&lt;/span&gt;   æ˜¾ç¤ºçš„æ˜¯&#123;&#123; this will not be compiled &#125;&#125;</span><br><span class="line">&lt;span v-pre&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt;     å³ä½¿dataé‡Œé¢å®šä¹‰äº†msgè¿™é‡Œä»ç„¶æ˜¯æ˜¾ç¤ºçš„&#123;&#123;msg&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h3><p>åœºæ™¯:åœ¨ç½‘é€Ÿæ…¢çš„æƒ…å†µä¸‹,åœ¨ä½¿ç”¨vueç»‘å®šæ•°æ®çš„æ—¶å€™ï¼Œæ¸²æŸ“é¡µé¢æ—¶ä¼šå‡ºç°å˜é‡é—ªçƒ<br>ç”¨æ³•:è¿™ä¸ªæŒ‡ä»¤ä¿æŒåœ¨å…ƒç´ ä¸Šç›´åˆ°å…³è”å®ä¾‹ç»“æŸç¼–è¯‘ã€‚å’Œ CSS è§„åˆ™å¦‚ [v-cloak] { display: none } ä¸€èµ·ç”¨æ—¶ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥éšè—æœªç¼–è¯‘çš„ Mustache æ ‡ç­¾ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// template ä¸­</span><br><span class="line">&lt;div class=&quot;#app&quot; v-cloak&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;value.name&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">// css ä¸­</span><br><span class="line">[v-cloak] &#123;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥è§£å†³é—ªçƒ,ä½†æ˜¯ä¼šå‡ºç°ç™½å±,è¿™æ ·å¯ä»¥ç»“åˆéª¨æ¶å±ä½¿ç”¨</p>
<h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><p>åœºæ™¯:æœ‰äº› template ä¸­çš„é™æ€ dom æ²¡æœ‰æ”¹å˜,è¿™æ—¶å°±åªéœ€è¦æ¸²æŸ“ä¸€æ¬¡,å¯ä»¥é™ä½æ€§èƒ½å¼€é”€</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span v-once&gt; è¿™æ—¶åªéœ€è¦åŠ è½½ä¸€æ¬¡çš„æ ‡ç­¾&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<p>v-once å’Œ v-pre çš„åŒºåˆ«:<br>v-onceåªæ¸²æŸ“ä¸€æ¬¡ï¼›v-preä¸ç¼–è¯‘,åŸæ ·è¾“å‡º</p>
<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.stop:é˜»æ­¢å†’æ³¡</span><br><span class="line">.prevent:é˜»æ­¢é»˜è®¤è¡Œä¸º</span><br><span class="line">.self:ä»…ç»‘å®šå…ƒç´ è‡ªèº«è§¦å‘</span><br><span class="line">.once: 2.1.4 æ–°å¢,åªè§¦å‘ä¸€æ¬¡</span><br><span class="line">.passive: 2.3.0 æ–°å¢,æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘,ä¸èƒ½å’Œ.prevent ä¸€èµ·ä½¿ç”¨</span><br></pre></td></tr></table></figure>

<h3 id="æŒ‰é”®ä¿®é¥°ç¬¦å’ŒæŒ‰é”®ç "><a href="#æŒ‰é”®ä¿®é¥°ç¬¦å’ŒæŒ‰é”®ç " class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦å’ŒæŒ‰é”®ç "></a>æŒ‰é”®ä¿®é¥°ç¬¦å’ŒæŒ‰é”®ç </h3><p>åœºæ™¯:æœ‰çš„æ—¶å€™éœ€è¦ç›‘å¬é”®ç›˜çš„è¡Œä¸º,å¦‚æŒ‰ä¸‹ enter å»æŸ¥è¯¢æ¥å£ç­‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// å¯¹åº”é”®ç›˜ä¸Šçš„å…³é”®å­—</span><br><span class="line">.enter</span><br><span class="line">.tab</span><br><span class="line">.delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</span><br><span class="line">.esc</span><br><span class="line">.space</span><br><span class="line">.up</span><br><span class="line">.down</span><br><span class="line">.left</span><br><span class="line">.right</span><br></pre></td></tr></table></figure>

<h3 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h3><p>åœºæ™¯:Vue-router æ˜¯å®˜æ–¹æä¾›çš„è·¯ç”±æ’ä»¶</p>
<h4 id="ç¼“å­˜å’ŒåŠ¨ç”»"><a href="#ç¼“å­˜å’ŒåŠ¨ç”»" class="headerlink" title="ç¼“å­˜å’ŒåŠ¨ç”»"></a>ç¼“å­˜å’ŒåŠ¨ç”»</h4><p>1.è·¯ç”±æ˜¯ä½¿ç”¨å®˜æ–¹ç»„ä»¶ vue-router,ä½¿ç”¨æ–¹æ³•ç›¸ä¿¡å¤§å®¶éå¸¸ç†Ÿæ‚‰;<br>2.è¿™é‡Œæˆ‘å°±å™è¿°ä¸‹è·¯ç”±çš„ç¼“å­˜å’ŒåŠ¨ç”»;<br>3.å¯ä»¥ç”¨exclude(é™¤äº†)æˆ–è€…include(åŒ…æ‹¬),2.1.0 æ–°å¢æ¥ååˆ¤æ–­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;transition&gt;</span><br><span class="line">  &lt;keep-alive :include=&quot;[&apos;a&apos;, &apos;b&apos;]&quot;&gt;</span><br><span class="line">  //æˆ–include=&quot;a,b&quot; :include=&quot;/a|b/&quot;,a å’Œ b è¡¨ç¤ºç»„ä»¶çš„ name</span><br><span class="line">  //å› ä¸ºæœ‰äº›é¡µé¢,å¦‚è¯•è¯•æ•°æ®ç»Ÿè®¡,è¦å®æ—¶åˆ·æ–°,æ‰€ä»¥å°±ä¸éœ€è¦ç¼“å­˜</span><br><span class="line">    &lt;router-view/&gt; //è·¯ç”±æ ‡ç­¾</span><br><span class="line">  &lt;/keep-alive&gt;</span><br><span class="line">  &lt;router-view exclude=&quot;c&quot;/&gt; </span><br><span class="line">  // c è¡¨ç¤ºç»„ä»¶çš„ nameå€¼</span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></figure>

<p>æ³¨:åŒ¹é…é¦–å…ˆæ£€æŸ¥ç»„ä»¶è‡ªèº«çš„ name é€‰é¡¹ï¼Œå¦‚æœ name é€‰é¡¹ä¸å¯ç”¨ï¼Œåˆ™åŒ¹é…å®ƒçš„å±€éƒ¨æ³¨å†Œåç§° (çˆ¶ç»„ä»¶ components é€‰é¡¹çš„é”®å€¼)ã€‚åŒ¿åç»„ä»¶ä¸èƒ½è¢«åŒ¹é…<br>4.ç”¨ v-if åšåˆ¤æ–­,ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“,ä½†æ˜¯ä¸ç”¨ä¸€ä¸€åˆ—ä¸¾ç»„ä»¶ name</p>
<h4 id="å…¨å±€è·¯ç”±é’©å­"><a href="#å…¨å±€è·¯ç”±é’©å­" class="headerlink" title="å…¨å±€è·¯ç”±é’©å­"></a>å…¨å±€è·¯ç”±é’©å­</h4><p>1.router.beforeEach</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">  console.log(&apos;å…¨å±€å‰ç½®å®ˆå«ï¼šbeforeEach -- nextéœ€è¦è°ƒç”¨&apos;) //ä¸€èˆ¬ç™»å½•æ‹¦æˆªç”¨è¿™ä¸ª,ä¹Ÿå«å¯¼èˆªé’©å­å®ˆå«</span><br><span class="line">  if (path === &apos;/login&apos;) &#123;</span><br><span class="line">    next()</span><br><span class="line">    return</span><br><span class="line">  &#125;</span><br><span class="line">  if (token) &#123;</span><br><span class="line">    next();</span><br><span class="line">  &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2.router.beforeResolve (v 2.5.0+)<br>å’ŒbeforeEachç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯åœ¨å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹åï¼Œè§£æå®ˆå«å°±è¢«è°ƒç”¨<br>å³åœ¨ beforeEachä¹‹åè°ƒç”¨<br>3.router.afterEach<br>å…¨å±€åç½®é’©å­<br>åœ¨æ‰€æœ‰è·¯ç”±è·³è½¬ç»“æŸçš„æ—¶å€™è°ƒç”¨<br>è¿™äº›é’©å­ä¸ä¼šæ¥å— next å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«</p>
<h4 id="ç»„ä»¶è·¯ç”±é’©å­"><a href="#ç»„ä»¶è·¯ç”±é’©å­" class="headerlink" title="ç»„ä»¶è·¯ç”±é’©å­"></a>ç»„ä»¶è·¯ç”±é’©å­</h4><p>1.beforeRouteEnter<br>åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢«ç¡®è®¤å‰è°ƒç”¨ï¼Œç”¨æ³•å’Œå‚æ•°ä¸router.beforeEachç±»ä¼¼ï¼Œnextéœ€è¦è¢«ä¸»åŠ¨è°ƒç”¨<br>æ­¤æ—¶ç»„ä»¶å®ä¾‹è¿˜æœªè¢«åˆ›å»ºï¼Œä¸èƒ½è®¿é—®this<br>å¯ä»¥é€šè¿‡ä¼ ä¸€ä¸ªå›è°ƒç»™ nextæ¥è®¿é—®ç»„ä»¶å®ä¾‹ã€‚åœ¨å¯¼èˆªè¢«ç¡®è®¤çš„æ—¶å€™æ‰§è¡Œå›è°ƒï¼Œå¹¶ä¸”æŠŠç»„ä»¶å®ä¾‹ä½œä¸ºå›è°ƒæ–¹æ³•çš„å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">beforeRouteEnter (to, from, next) &#123;</span><br><span class="line">  // è¿™é‡Œè¿˜æ— æ³•è®¿é—®åˆ°ç»„ä»¶å®ä¾‹ï¼Œthis === undefined</span><br><span class="line">  next( vm =&gt; &#123;</span><br><span class="line">    // é€šè¿‡ `vm` è®¿é—®ç»„ä»¶å®ä¾‹</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.beforeRouteUpdate (v 2.2+)<br>åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œå¹¶ä¸”è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨ï¼Œå¯ä»¥é€šè¿‡thisè®¿é—®å®ä¾‹ï¼Œ nextéœ€è¦è¢«ä¸»åŠ¨è°ƒç”¨ï¼Œä¸èƒ½ä¼ å›è°ƒ<br>3.beforeRouteLeave<br>å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨ï¼Œå¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ thisï¼Œnextéœ€è¦è¢«ä¸»åŠ¨è°ƒç”¨ï¼Œä¸èƒ½ä¼ å›è°ƒ</p>
<h4 id="è·¯ç”±æ¨¡å¼"><a href="#è·¯ç”±æ¨¡å¼" class="headerlink" title="è·¯ç”±æ¨¡å¼"></a>è·¯ç”±æ¨¡å¼</h4><p>è®¾ç½® mode å±æ€§:hashæˆ– history</p>
<h4 id="Vue-router-1"><a href="#Vue-router-1" class="headerlink" title="Vue.$router"></a>Vue.$router</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$router.push():è·³è½¬åˆ°ä¸åŒçš„urlï¼Œä½†è¿™ä¸ªæ–¹æ³•å›å‘historyæ ˆæ·»åŠ ä¸€ä¸ªè®°å½•ï¼Œç‚¹å‡»åé€€ä¼šè¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢</span><br><span class="line">this.$router.replace():ä¸ä¼šæœ‰è®°å½•</span><br><span class="line">this.$router.go(n):nå¯ä¸ºæ­£æ•°å¯ä¸ºè´Ÿæ•°ã€‚æ­£æ•°è¿”å›ä¸Šä¸€ä¸ªé¡µé¢,ç±»ä¼¼ window.history.go(n)</span><br></pre></td></tr></table></figure>

<h4 id="Vue-route"><a href="#Vue-route" class="headerlink" title="Vue.$route"></a>Vue.$route</h4><p>è¡¨ç¤ºå½“å‰è·³è½¬çš„è·¯ç”±å¯¹è±¡,å±æ€§æœ‰:<br>name:è·¯ç”±åç§°<br>path:è·¯å¾„<br>query:ä¼ å‚æ¥æ”¶å€¼<br>params:ä¼ å‚æ¥æ”¶å€¼<br>fullPath:å®Œæˆè§£æåçš„ URLï¼ŒåŒ…å«æŸ¥è¯¢å‚æ•°å’Œ hash çš„å®Œæ•´è·¯å¾„<br>matched:è·¯ç”±è®°å½•å‰¯æœ¬<br>redirectedFrom:å¦‚æœå­˜åœ¨é‡å®šå‘ï¼Œå³ä¸ºé‡å®šå‘æ¥æºçš„è·¯ç”±çš„åå­—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">this.$route.params.id:è·å–é€šè¿‡ params æˆ–/:idä¼ å‚çš„å‚æ•°</span><br><span class="line">this.$route.query.id:è·å–é€šè¿‡ query ä¼ å‚çš„å‚æ•°</span><br></pre></td></tr></table></figure>

<h4 id="router-view-çš„-key"><a href="#router-view-çš„-key" class="headerlink" title="router-view çš„ key"></a>router-view çš„ key</h4><p>åœºæ™¯:ç”±äº Vue ä¼šå¤ç”¨ç›¸åŒç»„ä»¶, å³ /page/1 =&gt; /page/2 æˆ–è€… /page?id=1 =&gt; /page?id=2 è¿™ç±»é“¾æ¥è·³è½¬æ—¶, å°†ä¸åœ¨æ‰§è¡Œcreated, mountedä¹‹ç±»çš„é’©å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;router-view :key=&quot;$route.fullpath&quot;&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ç»„ä»¶çš„ created å’Œ mounted å°±éƒ½ä¼šæ‰§è¡Œ</p>
<h3 id="Object-freeze"><a href="#Object-freeze" class="headerlink" title="Object.freeze"></a>Object.freeze</h3><p>åœºæ™¯:ä¸€ä¸ªé•¿åˆ—è¡¨æ•°æ®,ä¸€èˆ¬ä¸ä¼šæ›´æ”¹,ä½†æ˜¯vueä¼šåšgetterå’Œsetterçš„è½¬æ¢<br>ç”¨æ³•:æ˜¯ES5æ–°å¢çš„ç‰¹æ€§ï¼Œå¯ä»¥å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œé˜²æ­¢å¯¹è±¡è¢«ä¿®æ”¹<br>æ”¯æŒ:vue 1.0.18+å¯¹å…¶æä¾›äº†æ”¯æŒï¼Œå¯¹äºdataæˆ–vuexé‡Œä½¿ç”¨freezeå†»ç»“äº†çš„å¯¹è±¡ï¼Œvueä¸ä¼šåšgetterå’Œsetterçš„è½¬æ¢<br>æ³¨æ„:å†»ç»“åªæ˜¯å†»ç»“é‡Œé¢çš„å•ä¸ªå±æ€§,å¼•ç”¨åœ°å€è¿˜æ˜¯å¯ä»¥æ›´æ”¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">    data: &#123;</span><br><span class="line">        // vueä¸ä¼šå¯¹listé‡Œçš„objectåšgetterã€setterç»‘å®š</span><br><span class="line">        list: Object.freeze([</span><br><span class="line">            &#123; value: 1 &#125;,</span><br><span class="line">            &#123; value: 2 &#125;</span><br><span class="line">        ])</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted () &#123;</span><br><span class="line">        // ç•Œé¢ä¸ä¼šæœ‰å“åº”,å› ä¸ºå•ä¸ªå±æ€§è¢«å†»ç»“</span><br><span class="line">        this.list[0].value = 100;</span><br><span class="line"></span><br><span class="line">        // ä¸‹é¢ä¸¤ç§åšæ³•ï¼Œç•Œé¢éƒ½ä¼šå“åº”</span><br><span class="line">        this.list = [</span><br><span class="line">            &#123; value: 100 &#125;,</span><br><span class="line">            &#123; value: 200 &#125;</span><br><span class="line">        ];</span><br><span class="line">        this.list = Object.freeze([</span><br><span class="line">            &#123; value: 100 &#125;,</span><br><span class="line">            &#123; value: 200 &#125;</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="è°ƒè¯•-template"><a href="#è°ƒè¯•-template" class="headerlink" title="è°ƒè¯• template"></a>è°ƒè¯• template</h3><p>åœºæ™¯:åœ¨Vueå¼€å‘è¿‡ç¨‹ä¸­, ç»å¸¸ä¼šé‡åˆ°templateæ¨¡æ¿æ¸²æŸ“æ—¶JavaScriptå˜é‡å‡ºé”™çš„é—®é¢˜, æ­¤æ—¶ä¹Ÿè®¸ä½ ä¼šé€šè¿‡console.logæ¥è¿›è¡Œè°ƒè¯•<br>è¿™æ—¶å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒæŒ‚è½½ä¸€ä¸ª log å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// main.js</span><br><span class="line">Vue.prototype.$log = window.console.log;</span><br><span class="line"></span><br><span class="line">// ç»„ä»¶å†…éƒ¨</span><br><span class="line">&lt;div&gt;&#123;&#123;$log(info)&#125;&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="vue-loader-å°æŠ€å·§"><a href="#vue-loader-å°æŠ€å·§" class="headerlink" title="vue-loader å°æŠ€å·§"></a>vue-loader å°æŠ€å·§</h3><h4 id="preserveWhitespace"><a href="#preserveWhitespace" class="headerlink" title="preserveWhitespace"></a>preserveWhitespace</h4><p>åœºæ™¯:å¼€å‘ vue ä»£ç ä¸€èˆ¬ä¼šæœ‰ç©ºæ ¼,è¿™ä¸ªæ—¶å€™æ‰“åŒ…å‹ç¼©å¦‚æœä¸å»æ‰ç©ºæ ¼ä¼šåŠ å¤§åŒ…çš„ä½“ç§¯<br>é…ç½®preserveWhitespaceå¯ä»¥å‡å°åŒ…çš„ä½“ç§¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  vue: &#123;</span><br><span class="line">    preserveWhitespace: false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="transformToRequire"><a href="#transformToRequire" class="headerlink" title="transformToRequire"></a>transformToRequire</h4><p>åœºæ™¯:ä»¥å‰åœ¨å†™ Vue çš„æ—¶å€™ç»å¸¸ä¼šå†™åˆ°è¿™æ ·çš„ä»£ç ï¼šæŠŠå›¾ç‰‡æå‰ require ä¼ ç»™ä¸€ä¸ªå˜é‡å†ä¼ ç»™ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// page ä»£ç </span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;avatar :img-src=&quot;imgSrc&quot;&gt;&lt;/avatar&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    created () &#123;</span><br><span class="line">      this.imgSrc = require(&apos;./assets/default-avatar.png&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨:é€šè¿‡é…ç½® transformToRequire åï¼Œå°±å¯ä»¥ç›´æ¥é…ç½®ï¼Œè¿™æ ·vue-loaderä¼šæŠŠå¯¹åº”çš„å±æ€§è‡ªåŠ¨ require ä¹‹åä¼ ç»™ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// vue-cli 2.xåœ¨vue-loader.conf.js é»˜è®¤é…ç½®æ˜¯</span><br><span class="line">transformToRequire: &#123;</span><br><span class="line">    video: [&apos;src&apos;, &apos;poster&apos;],</span><br><span class="line">    source: &apos;src&apos;,</span><br><span class="line">    img: &apos;src&apos;,</span><br><span class="line">    image: &apos;xlink:href&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é…ç½®æ–‡ä»¶,å¦‚æœæ˜¯vue-cli2.x åœ¨vue-loader.conf.jsé‡Œé¢ä¿®æ”¹</span><br><span class="line">  avatar: [&apos;default-src&apos;]</span><br><span class="line"></span><br><span class="line">// vue-cli 3.x åœ¨vue.config.js</span><br><span class="line">// vue-cli 3.x å°†transformToRequireå±æ€§æ¢ä¸ºäº†transformAssetUrls</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  pages,</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config</span><br><span class="line">      .module</span><br><span class="line">        .rule(&apos;vue&apos;)</span><br><span class="line">        .use(&apos;vue-loader&apos;)</span><br><span class="line">        .loader(&apos;vue-loader&apos;)</span><br><span class="line">        .tap(options =&gt; &#123;</span><br><span class="line">      options.transformAssetUrls = &#123;</span><br><span class="line">        avatar: &apos;img-src&apos;,</span><br><span class="line">      &#125;</span><br><span class="line">      return options;</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// page ä»£ç å¯ä»¥ç®€åŒ–ä¸º</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;avatar img-src=&quot;./assets/default-avatar.png&quot;&gt;&lt;/avatar&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ºè·¯å¾„è®¾ç½®åˆ«å"><a href="#ä¸ºè·¯å¾„è®¾ç½®åˆ«å" class="headerlink" title="ä¸ºè·¯å¾„è®¾ç½®åˆ«å"></a>ä¸ºè·¯å¾„è®¾ç½®åˆ«å</h3><p>1.åœºæ™¯:åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¼•å…¥å„ç§æ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€CSSã€JSç­‰ï¼Œä¸ºäº†é¿å…å†™å¾ˆé•¿çš„ç›¸å¯¹è·¯å¾„ï¼ˆ../ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸åŒçš„ç›®å½•é…ç½®ä¸€ä¸ªåˆ«å<br>2.vue-cli 2.x é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åœ¨ webpack.base.config.jsä¸­çš„ resolve é…ç½®é¡¹ï¼Œåœ¨å…¶ alias ä¸­å¢åŠ åˆ«å</span><br><span class="line">resolve: &#123;</span><br><span class="line">    extensions: [&apos;.js&apos;, &apos;.vue&apos;, &apos;.json&apos;],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &apos;vue$&apos;: &apos;vue/dist/vue.esm.js&apos;,</span><br><span class="line">      &apos;@&apos;: resolve(&apos;src&apos;),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>3.vue-cli 3.x é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºvue.config.js</span><br><span class="line">var path = require(&apos;path&apos;)</span><br><span class="line">function resolve (dir) &#123;</span><br><span class="line">  console.log(__dirname)</span><br><span class="line">  return path.join(__dirname, dir)</span><br><span class="line">&#125;</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config.resolve.alias</span><br><span class="line">      .set(key, value) // key,valueè‡ªè¡Œå®šä¹‰ï¼Œæ¯”å¦‚.set(&apos;@@&apos;, resolve(&apos;src/components&apos;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="img-åŠ è½½å¤±è´¥"><a href="#img-åŠ è½½å¤±è´¥" class="headerlink" title="img åŠ è½½å¤±è´¥"></a>img åŠ è½½å¤±è´¥</h3><p>åœºæ™¯:æœ‰äº›æ—¶å€™åå°è¿”å›å›¾ç‰‡åœ°å€ä¸ä¸€å®šèƒ½æ‰“å¼€,æ‰€ä»¥è¿™ä¸ªæ—¶å€™åº”è¯¥åŠ ä¸€å¼ é»˜è®¤å›¾ç‰‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// page ä»£ç </span><br><span class="line">&lt;img :src=&quot;imgUrl&quot; @error=&quot;handleError&quot; alt=&quot;&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      imgUrl:&apos;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    handleError(e)&#123;</span><br><span class="line">      e.target.src=reqiure(&apos;å›¾ç‰‡è·¯å¾„&apos;) //å½“ç„¶å¦‚æœé¡¹ç›®é…ç½®äº†transformToRequire,å‚è€ƒä¸Šé¢ 27.2</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="css"><a href="#css" class="headerlink" title="css"></a>css</h3><h4 id="å±€éƒ¨æ ·å¼"><a href="#å±€éƒ¨æ ·å¼" class="headerlink" title="å±€éƒ¨æ ·å¼"></a>å±€éƒ¨æ ·å¼</h4><p>1.Vueä¸­styleæ ‡ç­¾çš„scopedå±æ€§è¡¨ç¤ºå®ƒçš„æ ·å¼åªä½œç”¨äºå½“å‰æ¨¡å—ï¼Œæ˜¯æ ·å¼ç§æœ‰åŒ–.<br>2.æ¸²æŸ“çš„è§„åˆ™/åŸç†ï¼š<br>ç»™HTMLçš„DOMèŠ‚ç‚¹æ·»åŠ ä¸€ä¸ª ä¸é‡å¤çš„dataå±æ€§ æ¥è¡¨ç¤º å”¯ä¸€æ€§<br>åœ¨å¯¹åº”çš„ CSSé€‰æ‹©å™¨ æœ«å°¾æ·»åŠ ä¸€ä¸ªå½“å‰ç»„ä»¶çš„ dataå±æ€§é€‰æ‹©å™¨æ¥ç§æœ‰åŒ–æ ·å¼ï¼Œå¦‚ï¼š.demo[data-v-2311c06a]{}<br>å¦‚æœå¼•å…¥ less æˆ– sass åªä¼šåœ¨æœ€åä¸€ä¸ªå…ƒç´ ä¸Šè®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// åŸå§‹ä»£ç </span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;content&quot;&gt;</span><br><span class="line">      Vue.js scoped</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">  .demo&#123;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    .content&#123;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">// æµè§ˆå™¨æ¸²æŸ“æ•ˆæœ</span><br><span class="line">&lt;div data-v-fed36922&gt;</span><br><span class="line">  Vue.js scoped</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">.demo[data-v-039c5b43] &#123;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line">.demo .content[data-v-039c5b43] &#123; //.demo ä¸Šå¹¶æ²¡æœ‰åŠ  data å±æ€§</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="deep-å±æ€§"><a href="#deep-å±æ€§" class="headerlink" title="deep å±æ€§"></a>deep å±æ€§</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// ä¸Šé¢æ ·å¼åŠ ä¸€ä¸ª /deep/</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">  .demo&#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">  &#125;</span><br><span class="line">  .demo /deep/ .content&#123;</span><br><span class="line">    color: blue;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">// æµè§ˆå™¨ç¼–è¯‘å</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">.demo[data-v-039c5b43] &#123;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line">.demo[data-v-039c5b43] .content &#123;</span><br><span class="line">  color: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
</search>
